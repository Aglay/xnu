<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>mach_port_mod_refs.html</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">mach_port_mod_refs.html&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-keyword">&lt;h2&gt;</span>mach_port_mod_refs<span class="enscript-keyword">&lt;/h2&gt;</span>
<span class="enscript-keyword">&lt;hr&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>Function<span class="enscript-keyword">&lt;/strong&gt;</span> - Modify the specified port right's count of user references.
<span class="enscript-keyword">&lt;h3&gt;</span>SYNOPSIS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;pre&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>kern_return_t   mach_port_mod_refs<span class="enscript-keyword">&lt;/strong&gt;</span>
                <span class="enscript-keyword">&lt;strong&gt;</span>(ipc_space_t<span class="enscript-keyword">&lt;/strong&gt;</span>                               <span class="enscript-keyword">&lt;var&gt;</span>task<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_name_t<span class="enscript-keyword">&lt;/strong&gt;</span>                          <span class="enscript-keyword">&lt;var&gt;</span>name<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_right_t<span class="enscript-keyword">&lt;/strong&gt;</span>                        <span class="enscript-keyword">&lt;var&gt;</span>right<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_delta_t<span class="enscript-keyword">&lt;/strong&gt;</span>                        <span class="enscript-keyword">&lt;var&gt;</span>delta<span class="enscript-keyword">&lt;/var&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>);<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;/pre&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>PARAMETERS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>task<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in task send right]
The task holding the right.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>name<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
The task's name for the right.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>right<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
The type of right/entity being modified:
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>MACH_PORT_RIGHT_SEND<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>MACH_PORT_RIGHT_RECEIVE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>MACH_PORT_RIGHT_SEND_ONCE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>MACH_PORT_RIGHT_PORT_SET<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>MACH_PORT_RIGHT_DEAD_NAME<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>delta<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
Signed change to the number of user references.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>DESCRIPTION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
The <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_mod_refs<span class="enscript-keyword">&lt;/strong&gt;</span> function requests that the number
of user references a task has for a right be changed.  This results 
in the right
being destroyed, if the 
number of user references is changed to zero. 
<span class="enscript-keyword">&lt;p&gt;</span>
The <span class="enscript-keyword">&lt;var&gt;</span>name<span class="enscript-keyword">&lt;/var&gt;</span> parameter
should denote the specified right.  The number of user references for 
the right is changed by the amount <span class="enscript-keyword">&lt;var&gt;</span>delta<span class="enscript-keyword">&lt;/var&gt;</span>, subject to the following
restrictions: 
port sets, receive rights, and send-once rights may only have
one user reference. 
The resulting number of user references can't be negative.  If the resulting
number of user references is zero, the effect is to de-allocate
the right.  For dead 
names and send rights, there is an implementation-defined maximum number of 
user references. 
<span class="enscript-keyword">&lt;p&gt;</span>
If the call destroys the right, then the effect is as described for
<span class="enscript-keyword">&lt;strong&gt;</span>mach_port_destroy<span class="enscript-keyword">&lt;/strong&gt;</span>, with the exception that 
<span class="enscript-keyword">&lt;strong&gt;</span>mach_port_destroy<span class="enscript-keyword">&lt;/strong&gt;</span>
simultaneously destroys all 
the rights denoted by a name, while <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_mod_refs<span class="enscript-keyword">&lt;/strong&gt;</span>
can only destroy 
one right.  The name will be available for reuse if it only denoted
the one right.
<span class="enscript-keyword">&lt;h3&gt;</span>NOTES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
This interface is machine word length specific because of the port name
parameter.
<span class="enscript-keyword">&lt;h3&gt;</span>RETURN VALUES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_INVALID_NAME<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
<span class="enscript-keyword">&lt;var&gt;</span>name<span class="enscript-keyword">&lt;/var&gt;</span> did not denote a right.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_INVALID_RIGHT<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
<span class="enscript-keyword">&lt;var&gt;</span>name<span class="enscript-keyword">&lt;/var&gt;</span> denoted a right, but not the specified right.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_INVALID_VALUE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
The user-reference count would become negative.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_UREFS_OVERFLOW<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
The user-reference count would overflow.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>RELATED INFORMATION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
Functions:
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;mach_port_destroy.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>mach_port_destroy<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;mach_port_get_refs.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>mach_port_get_refs<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>.
</pre>
<hr />
</body></html>