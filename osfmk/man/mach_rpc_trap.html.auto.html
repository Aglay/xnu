<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>mach_rpc_trap.html</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">mach_rpc_trap.html&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-keyword">&lt;h2&gt;</span>mach_rpc_trap<span class="enscript-keyword">&lt;/h2&gt;</span>
<span class="enscript-keyword">&lt;hr&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>System Trap<span class="enscript-keyword">&lt;/strong&gt;</span> - Real-Time RPC trap.
<span class="enscript-keyword">&lt;h3&gt;</span>SYNOPSIS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;pre&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>#include<span class="enscript-keyword">&amp;ltmach/rpc.h&amp;gt&lt;/strong&gt;

&lt;strong&gt;mach_rpc_return_t   mach_rpc_trap&lt;/strong&gt;
                     &lt;strong&gt;(mach_port_t&lt;/strong&gt;                    &lt;var&gt;dest_port&lt;/var&gt;,
                      &lt;strong&gt;mach_rpc_id_t&lt;/strong&gt;                &lt;var&gt;routine_num&lt;/var&gt;,
                      &lt;strong&gt;mach_rpc_signature_t&lt;/strong&gt;       &lt;var&gt;signature_ptr&lt;/var&gt;,
                      &lt;strong&gt;mach_rpc_size_t&lt;/strong&gt;           &lt;var&gt;signature_size&lt;/var&gt;&lt;strong&gt;);</span><span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;/pre&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>PARAMETERS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>dest_port<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in send right] The port representing the destination of the RPC
     (usually a registered subsystem established by a call to
     <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_allocate_subsystem<span class="enscript-keyword">&lt;/strong&gt;</span>).
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>routine_num<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar] Identifier of the server work function.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>signature_ptr<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in pointer] Pointer to the call's <span class="enscript-keyword">&lt;strong&gt;</span>mach_rpc_signature<span class="enscript-keyword">&lt;/strong&gt;</span> structure.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>signature_size<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar] Size, in bytes, of the call's <span class="enscript-keyword">&lt;strong&gt;</span>mach_rpc_signature<span class="enscript-keyword">&lt;/strong&gt;</span> structure.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>DESCRIPTION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
The <span class="enscript-keyword">&lt;strong&gt;</span>mach_rpc_trap<span class="enscript-keyword">&lt;/strong&gt;</span> system trap is the entry point for the
invoke side of the Mach RPC service used to transfer control to an RPC server.
The trap is accessed via the MIG generated
<span class="enscript-keyword">&lt;strong&gt;</span>MACH_RPC<span class="enscript-keyword">&lt;/strong&gt;</span> macro
which is invoked transparently when the <span class="enscript-keyword">&lt;strong&gt;</span>mach_rpc<span class="enscript-keyword">&lt;/strong&gt;</span> feature is enabled.
This function is not designed for use directly by the user. It is
automatically generated by MIG to handle a function call.
<span class="enscript-keyword">&lt;p&gt;</span>
For a
complete description of this functionality, refer to: Burke, Edward,
Michael Condict, David Mitchell, Franklin Reynolds, Peter Watkins,
William Willcox, &quot;RPC Design for Real-Time Mach,&quot; OSF Research
Institute, Cambridge, MA.
<span class="enscript-keyword">&lt;h3&gt;</span>NOTES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
This interface is experimental and therefore subject to change.
<span class="enscript-keyword">&lt;h3&gt;</span>RETURN VALUES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_FAILURE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
Either the argument copyin failed, there were too many arguments, or
the argument copyout failed.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_INVALID_ARGUMENT<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
The dest_port, signature_ptr, and/or the subsystem associated with the
dest_port is invalid; the siganture_size is less than, or equal to, zero.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_NO_ACCESS<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
The kernel port associated with the dest_port name is a norma proxy
port.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>KERN_RESOURCE_SHORTAGE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
The kernel could not allocate storage for an internal rpc state
structure.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>RELATED INFORMATION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
Functions:
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;mach_rpc_return_trap.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>mach_rpc_return_trap<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;thread_activation_create.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>thread_activation_create<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;MP_allocate_subsystem.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>mach_port_allocate_subsystem<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;mach_subsystem_create.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>mach_subsystem_create<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>.
</pre>
<hr />
</body></html>