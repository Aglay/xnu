<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>memory_object_data_supply.html</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">memory_object_data_supply.html&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-keyword">&lt;h2&gt;</span>memory_object_data_supply<span class="enscript-keyword">&lt;/h2&gt;</span>
<span class="enscript-keyword">&lt;hr&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>Function<span class="enscript-keyword">&lt;/strong&gt;</span> - Provide kernel with data previously requested by the kernel's Memory Management facility.
<span class="enscript-keyword">&lt;h3&gt;</span>SYNOPSIS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;pre&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>kern_return_t   memory_object_data_supply<span class="enscript-keyword">&lt;/strong&gt;</span>
                <span class="enscript-keyword">&lt;strong&gt;</span>(mem_object_control_port_t<span class="enscript-keyword">&lt;/strong&gt;</span>       <span class="enscript-keyword">&lt;var&gt;</span>memory_control<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>vm_offset_t<span class="enscript-keyword">&lt;/strong&gt;</span>                             <span class="enscript-keyword">&lt;var&gt;</span>offset<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>pointer_t<span class="enscript-keyword">&lt;/strong&gt;</span>                                 <span class="enscript-keyword">&lt;var&gt;</span>data<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>mach_msg_type_number_t<span class="enscript-keyword">&lt;/strong&gt;</span>              <span class="enscript-keyword">&lt;var&gt;</span>data_count<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>boolean_t<span class="enscript-keyword">&lt;/strong&gt;</span>                           <span class="enscript-keyword">&lt;var&gt;</span>deallocate<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>vm_prot_t<span class="enscript-keyword">&lt;/strong&gt;</span>                           <span class="enscript-keyword">&lt;var&gt;</span>lock_value<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>boolean_t<span class="enscript-keyword">&lt;/strong&gt;</span>                             <span class="enscript-keyword">&lt;var&gt;</span>precious<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_t<span class="enscript-keyword">&lt;/strong&gt;</span>                         <span class="enscript-keyword">&lt;var&gt;</span>reply_port<span class="enscript-keyword">&lt;/var&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>);<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;/pre&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>PARAMETERS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>memory_control<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in memory-cache-control send right]
The memory cache control port 
to be used by the memory manager for cache management requests. 
This port is provided by the kernel in a <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_init<span class="enscript-keyword">&lt;/strong&gt;</span>
     or <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_create<span class="enscript-keyword">&lt;/strong&gt;</span> call.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>offset<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
The offset within the memory object, in bytes.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>data<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[pointer to page aligned in array of bytes]
The address of the data
being provided to the kernel.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>data_count<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
The amount of data to be provided.  The number must be an 
integral number of memory object pages.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>deallocate<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
If <span class="enscript-keyword">&lt;strong&gt;</span>TRUE<span class="enscript-keyword">&lt;/strong&gt;</span>, the pages to be copied (starting at data) will be
deallocated from the memory manager's address space as a result of
being copied into the message, allowing the pages to be moved into the 
kernel instead of being physically copied.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>lock_value<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
One or more forms of access <span class="enscript-keyword">&lt;var&gt;</span>not<span class="enscript-keyword">&lt;/var&gt;</span> permitted for the specified 
data.  Valid values are:
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>VM_PROT_NONE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
Prohibits no access (that is, all forms of access are permitted).
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>VM_PROT_READ<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
Prohibits read access.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>VM_PROT_WRITE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
Prohibits write access.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>VM_PROT_EXECUTE<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
Prohibits execute access.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;strong&gt;</span>VM_PROT_ALL<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
Prohibits all forms of access.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>precious<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
If <span class="enscript-keyword">&lt;strong&gt;</span>TRUE<span class="enscript-keyword">&lt;/strong&gt;</span>, the pages being supplied are &quot;precious,&quot; that is, 
the memory manager is not (necessarily) retaining its own copy.  These 
pages must be returned to the manager when evicted from memory, 
even if not modified.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>reply_port<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in reply receive (to be converted to send) right]
A port to which the 
kernel should send a <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_supply_completed<span class="enscript-keyword">&lt;/strong&gt;</span> to indicate 
the status of the accepted data.  <span class="enscript-keyword">&lt;strong&gt;</span>MACH_PORT_NULL<span class="enscript-keyword">&lt;/strong&gt;</span> is allowed.  The 
reply message indicates which pages have been accepted.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>DESCRIPTION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
The <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_supply<span class="enscript-keyword">&lt;/strong&gt;</span> function supplies the
kernel with a range of 
data for the specified memory object.  A memory manager can only provide data 
that was requested by a <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_request<span class="enscript-keyword">&lt;/strong&gt;</span>
call from the kernel.
<span class="enscript-keyword">&lt;h3&gt;</span>NOTES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
The kernel accepts only integral numbers of pages.  It discards
any partial pages 
without notification.
<span class="enscript-keyword">&lt;h3&gt;</span>CAUTIONS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
A memory manager must be careful that it not attempt to provide data that has 
not been explicitly requested.  In particular, a memory manager
must ensure that 
it does not provide writable data again before it receives back modifications 
from the kernel.  This may require that the memory manager remember which 
pages it has provided, or that it exercise other cache control functions (via
<span class="enscript-keyword">&lt;strong&gt;</span>memory_object_lock_request<span class="enscript-keyword">&lt;/strong&gt;</span>) before proceeding.  The kernel prohibits the
overwriting of live data pages and will not accept pages it has not requested.
<span class="enscript-keyword">&lt;h3&gt;</span>RETURN VALUES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
Only generic errors apply.
<span class="enscript-keyword">&lt;h3&gt;</span>RELATED INFORMATION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
Functions:
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;memory_object_data_error.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_error<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;memory_object_data_request.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_request<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;MO_data_unavailable.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_unavailable<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;memory_object_lock_request.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_lock_request<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;MO_supply_completed.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_supply_completed<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>.
</pre>
<hr />
</body></html>