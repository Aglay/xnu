<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>memory_object_init.html</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">memory_object_init.html&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-keyword">&lt;h2&gt;</span>memory_object_init<span class="enscript-keyword">&lt;/h2&gt;</span>
<span class="enscript-keyword">&lt;hr&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>Server Interface<span class="enscript-keyword">&lt;/strong&gt;</span> - Initializes a memory object.
<span class="enscript-keyword">&lt;h3&gt;</span>SYNOPSIS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;pre&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>kern_return_t   memory_object_init<span class="enscript-keyword">&lt;/strong&gt;</span>
		<span class="enscript-keyword">&lt;strong&gt;</span>(memory_object_t<span class="enscript-keyword">&lt;/strong&gt;</span>                <span class="enscript-keyword">&lt;var&gt;</span>memory_object<span class="enscript-keyword">&lt;/var&gt;</span>,
		 <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_control_t       <span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;var&gt;</span>memory_control<span class="enscript-keyword">&lt;/var&gt;</span>,
		 <span class="enscript-keyword">&lt;strong&gt;</span>vm_size_t<span class="enscript-keyword">&lt;/strong&gt;</span>            <span class="enscript-keyword">&lt;var&gt;</span>memory_object_page_size<span class="enscript-keyword">&lt;/var&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>);<span class="enscript-keyword">&lt;/strong&gt;</span>


<span class="enscript-keyword">&lt;strong&gt;</span>kern_return_t   seqnos_memory_object_init<span class="enscript-keyword">&lt;/strong&gt;</span>
		<span class="enscript-keyword">&lt;strong&gt;</span>(memory_object_t<span class="enscript-keyword">&lt;/strong&gt;</span>                <span class="enscript-keyword">&lt;var&gt;</span>memory_object<span class="enscript-keyword">&lt;/var&gt;</span>,
		 <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_seqno_t<span class="enscript-keyword">&lt;/strong&gt;</span>                      <span class="enscript-keyword">&lt;var&gt;</span>seqno<span class="enscript-keyword">&lt;/var&gt;</span>,
		 <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_control_t<span class="enscript-keyword">&lt;/strong&gt;</span>       <span class="enscript-keyword">&lt;var&gt;</span>memory_control<span class="enscript-keyword">&lt;/var&gt;</span>,
		 <span class="enscript-keyword">&lt;strong&gt;</span>vm_size_t<span class="enscript-keyword">&lt;/strong&gt;</span>            <span class="enscript-keyword">&lt;var&gt;</span>memory_object_page_size<span class="enscript-keyword">&lt;/var&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>);<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;/pre&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>PARAMETERS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>memory_object<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in abstract-memory-object port] The abstract memory object port that represents the memory object data, as supplied to the kernel in a vm_map call.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>seqno<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar] The sequence number of this message relative to the abstract memory object port.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>memory_control<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in memory-cache-control port] The memory cache control port to be used by the memory manager. If the memory object has been supplied to more than one kernel, this parameter identifies the kernel that is making the call.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>memory_object_page_size<span class="enscript-keyword">&lt;/var&gt;</span>
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar] The page size used by the kernel. All calls involving this kernel must use data sizes that are integral multiples of this page size.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>DESCRIPTION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
A <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_init<span class="enscript-keyword">&lt;/strong&gt;</span> function is called as the result
of a kernel message notifying a memory manager that the kernel has
been asked to map the specified memory object into a task's virtual
address space.  When asked to map a memory object for the first time,
the kernel responds by making a <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_init<span class="enscript-keyword">&lt;/strong&gt;</span>
call on the abstract memory object. This call is provided as a
convenience to the memory manager, to allow it to initialize data
structures and prepare to receive other requests.
<span class="enscript-keyword">&lt;p&gt;</span>
In addition to the
abstract memory object port itself, the call provides
a memory cache control port that the memory manager can use to
control use of its data by the kernel. The memory manager gets send
rights for this port.
<span class="enscript-keyword">&lt;p&gt;</span>
The kernel holds send rights for the abstract memory object port, and
both send and receive rights for the memory cache control port.
The call also supplies the virtual page size to be used for
the memory mapping. The memory manager can use this size to detect
mappings that use different data structures at initialization time, or
to allocate buffers for use in reading data.
<span class="enscript-keyword">&lt;p&gt;</span>
If a memory object is
mapped into the address space of more than one task on different hosts
(with independent kernels), the memory manager will receive a
<span class="enscript-keyword">&lt;strong&gt;</span>memory_object_init<span class="enscript-keyword">&lt;/strong&gt;</span> call from each kernel, containing
a unique set of control and name ports. Note that each kernel may also
use a different page size.
<span class="enscript-keyword">&lt;h3&gt;</span>RETURN VALUES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>

Any return value other than <span class="enscript-keyword">&lt;strong&gt;</span>KERN_SUCCESS<span class="enscript-keyword">&lt;/strong&gt;</span>
or <span class="enscript-keyword">&lt;strong&gt;</span>MIG_NO_REPLY<span class="enscript-keyword">&lt;/strong&gt;</span>will cause
<span class="enscript-keyword">&lt;strong&gt;</span>mach_msg_server<span class="enscript-keyword">&lt;/strong&gt;</span> to remove the memory cache control reference.
<span class="enscript-keyword">&lt;h3&gt;</span>RELATED INFORMATION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
Functions:
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;memory_object_terminate.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_terminate<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>.
</pre>
<hr />
</body></html>