<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>memory_object_create.html</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">memory_object_create.html&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-keyword">&lt;h2&gt;</span>memory_object_create<span class="enscript-keyword">&lt;/h2&gt;</span>
<span class="enscript-keyword">&lt;hr&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>Function<span class="enscript-keyword">&lt;/strong&gt;</span> - Request that the default pager handle management requests on the specified memory object.
<span class="enscript-keyword">&lt;h3&gt;</span>SYNOPSIS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;pre&gt;</span>
<span class="enscript-keyword">&lt;strong&gt;</span>kern_return_t   memory_object_create<span class="enscript-keyword">&lt;/strong&gt;</span>
                <span class="enscript-keyword">&lt;strong&gt;</span>(memory_object_t<span class="enscript-keyword">&lt;/strong&gt;</span>                          <span class="enscript-keyword">&lt;var&gt;</span>pager<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_t<span class="enscript-keyword">&lt;/strong&gt;</span>              <span class="enscript-keyword">&lt;var&gt;</span>new_memory_object<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>vm_size_t<span class="enscript-keyword">&lt;/strong&gt;</span>                      <span class="enscript-keyword">&lt;var&gt;</span>new_object_size<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_control_t<span class="enscript-keyword">&lt;/strong&gt;</span>            <span class="enscript-keyword">&lt;var&gt;</span>new_control<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>vm_size_t<span class="enscript-keyword">&lt;/strong&gt;</span>                        <span class="enscript-keyword">&lt;var&gt;</span>new_page_size<span class="enscript-keyword">&lt;/var&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>);<span class="enscript-keyword">&lt;/strong&gt;</span>


<span class="enscript-keyword">&lt;strong&gt;</span>kern_return_t   seqnos_memory_object_create<span class="enscript-keyword">&lt;/strong&gt;</span>
                <span class="enscript-keyword">&lt;strong&gt;</span>(memory_object_t<span class="enscript-keyword">&lt;/strong&gt;</span>                          <span class="enscript-keyword">&lt;var&gt;</span>pager<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>mach_port_seqno_t<span class="enscript-keyword">&lt;/strong&gt;</span>                        <span class="enscript-keyword">&lt;var&gt;</span>seqno<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_t<span class="enscript-keyword">&lt;/strong&gt;</span>              <span class="enscript-keyword">&lt;var&gt;</span>new_memory_object<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>vm_size_t<span class="enscript-keyword">&lt;/strong&gt;</span>                      <span class="enscript-keyword">&lt;var&gt;</span>new_object_size<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_control_t<span class="enscript-keyword">&lt;/strong&gt;</span>            <span class="enscript-keyword">&lt;var&gt;</span>new_control<span class="enscript-keyword">&lt;/var&gt;</span>,
                 <span class="enscript-keyword">&lt;strong&gt;</span>vm_size_t<span class="enscript-keyword">&lt;/strong&gt;</span>                        <span class="enscript-keyword">&lt;var&gt;</span>new_page_size<span class="enscript-keyword">&lt;/var&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>);<span class="enscript-keyword">&lt;/strong&gt;</span>
<span class="enscript-keyword">&lt;/pre&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>PARAMETERS<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;dl&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>pager<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in default-pager (receive) right]
The default memory manager service 
port.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>seqno<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
The sequence number of this message relative to the pager 
port.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>new_memory_object<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in abstract-memory-object receive right]
The port representing the 
new abstract memory object created by the kernel.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>new_object_size<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
The expected size for the new object, in bytes.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>new_control<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in memory-cache-control send right]
The memory cache control port 
to be used by the memory manager when making cache management 
requests for the new object.
<span class="enscript-keyword">&lt;p&gt;</span>
<span class="enscript-keyword">&lt;dt&gt;</span> <span class="enscript-keyword">&lt;var&gt;</span>new_page_size<span class="enscript-keyword">&lt;/var&gt;</span> 
<span class="enscript-keyword">&lt;dd&gt;</span>
[in scalar]
The page size used by the kernel.  All calls involving this
kernel must use data sizes that are integral multiples of this page size.
<span class="enscript-keyword">&lt;/dl&gt;</span>
<span class="enscript-keyword">&lt;h3&gt;</span>DESCRIPTION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
A <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_create<span class="enscript-keyword">&lt;/strong&gt;</span> function is called as the result
of a message from the 
kernel requesting that the default memory manager accept responsibility
for the 
new memory object created by the kernel.  The kernel makes this
call only to the 
system default memory manager.
<span class="enscript-keyword">&lt;p&gt;</span>
The new memory object initially consists of zero-filled pages.  Only memory 
pages that are actually written are provided to the memory manager.  When
processing <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_request<span class="enscript-keyword">&lt;/strong&gt;</span> calls from the
kernel, the default
memory manager must use <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_unavailable<span class="enscript-keyword">&lt;/strong&gt;</span>
for any pages that have not been written previously.
<span class="enscript-keyword">&lt;p&gt;</span>
The kernel does not expect a reply to this call.  The kernel assumes that the
default memory manager will be ready to handle data requests to this object and 
does not need the confirmation of a <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_change_attributes<span class="enscript-keyword">&lt;/strong&gt;</span> call.
<span class="enscript-keyword">&lt;h3&gt;</span>NOTES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
The kernel requires memory objects to provide temporary backing storage for 
zero-filled memory created by <span class="enscript-keyword">&lt;strong&gt;</span>vm_allocate<span class="enscript-keyword">&lt;/strong&gt;</span> calls, issued
by both user tasks and 
the kernel itself.  The kernel allocates an abstract memory object port to
represent the temporary backing storage and uses <span class="enscript-keyword">&lt;strong&gt;</span>memory_object_create<span class="enscript-keyword">&lt;/strong&gt;</span>
to pass the 
new memory object to the default memory manager, which provides the storage.
<span class="enscript-keyword">&lt;p&gt;</span>
The default memory manager is a trusted system component that is identified to 
the kernel at system initialization time.  The default memory manager can also 
be changed at run time using the <span class="enscript-keyword">&lt;strong&gt;</span>host_default_memory_manager<span class="enscript-keyword">&lt;/strong&gt;</span> call.
<span class="enscript-keyword">&lt;p&gt;</span>
The contents of a kernel-created (as opposed to a user-created) memory object 
can be modified only in main memory.  The default memory manager must not 
change the contents of a temporary memory object, or allow unrelated tasks to 
access the memory object, control, or name port.
<span class="enscript-keyword">&lt;p&gt;</span>
The kernel provides the size of a temporary memory object based on the
allocated size.  Since the object is not mapped by other tasks,
the object will not grow 
by explicit action.  However, the kernel may coalesce adjacent
temporary objects 
in such a way that this object may appear to grow.  As such,
the supplied object 
size is merely a hint as to the maximum size.
<span class="enscript-keyword">&lt;h3&gt;</span>RETURN VALUES<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
Only generic errors apply.
<span class="enscript-keyword">&lt;h3&gt;</span>RELATED INFORMATION<span class="enscript-keyword">&lt;/h3&gt;</span>
<span class="enscript-keyword">&lt;p&gt;</span>
Functions:
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;DP_object_create.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>default_pager_object_create<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;MO_data_initialize.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_initialize<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;MO_data_unavailable.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_data_unavailable<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;MO_default_server.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>memory_object_default_server<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>,
<span class="enscript-keyword">&lt;a href=</span><span class="enscript-string">&quot;SMO_default_server.html&quot;</span><span class="enscript-keyword">&gt;</span><span class="enscript-keyword">&lt;strong&gt;</span>seqnos_memory_object_default_server<span class="enscript-keyword">&lt;/strong&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>.
</pre>
<hr />
</body></html>