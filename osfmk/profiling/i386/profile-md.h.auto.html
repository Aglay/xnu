<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>profile-md.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">profile-md.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2012 Apple Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/*
 * @OSF_COPYRIGHT@
 */</span>
<span class="enscript-comment">/*
 * HISTORY
 * 
 * Revision 1.1.1.1  1998/09/22 21:05:49  wsanchez
 * Import of Mac OS X kernel (~semeria)
 *
 * Revision 1.1.1.1  1998/03/07 02:26:08  wsanchez
 * Import of OSF Mach kernel (~mburg)
 *
 * Revision 1.1.5.2  1996/07/31  09:57:36  paire
 * 	Added some more constraints to __asm__ functions for compilation
 * 	under gcc2.7.1 for PROF_CNT_[L]{ADD|SUB} macros
 * 	[96/06/14            paire]
 *
 * Revision 1.1.5.1  1995/01/06  19:53:52  devrcs
 * 	mk6 CR668 - 1.3b26 merge
 * 	new file for mk6
 * 	[1994/10/12  22:25:27  dwm]
 * 
 * Revision 1.1.2.2  1994/05/16  19:19:26  meissner
 * 	Add {,L}PROF_CNT_{SUB,LSUB,OVERFLOW} macros for gprof command.
 * 	[1994/05/10  10:36:06  meissner]
 * 
 * 	Correct 64-bit integer asms to specify result values as inputs, and use =g instead of =m.
 * 	Cast the integer argument to PROF_CNT_ADD to unsigned long, so a short register is widened.
 * 	Add more support for writing the gprof command.
 * 	PROF_CNT_{EQ,NE} should not use ^=, it just uses ^.
 * 	Round PROF_CNT_DIGITS up to 24 bytes so it is word aligned.
 * 	_profile_cnt_to_decimal now takes the low/high values as separate arguments.
 * 	Delete _profile_cnt_to_hex.
 * 	[1994/04/28  21:45:07  meissner]
 * 
 * 	Add more 64 bit arithmetic macros to support writing gprof.
 * 	[1994/04/20  15:47:05  meissner]
 * 
 * Revision 1.1.2.1  1994/04/08  17:51:56  meissner
 * 	Correct spelling on LPROF_CNT_TO_LDOUBLE macro.
 * 	[1994/04/08  16:18:06  meissner]
 * 
 * 	Make LHISTCOUNTER be 64 bits.
 * 	Define LPROF_CNT_INC to increment LHISTCOUNTER.
 * 	[1994/04/08  12:40:32  meissner]
 * 
 * 	Make most stats 64 bits, except for things like memory allocation.
 * 	[1994/04/02  14:58:34  meissner]
 * 
 * 	Add overflow support for {gprof,prof,old,dummy}_mcount counters.
 * 	[1994/03/17  20:13:37  meissner]
 * 
 * 	Add gprof/prof overflow support
 * 	[1994/03/17  14:56:56  meissner]
 * 
 * 	Define LHISTCOUNTER.
 * 	[1994/02/28  12:05:16  meissner]
 * 
 * 	Set HISTFRACTION to 4, so new lprofil call takes the same space.
 * 	[1994/02/24  16:15:34  meissner]
 * 
 * 	Add too_low/too_high to profile_stats.
 * 	[1994/02/16  22:38:23  meissner]
 * 
 * 	Make prof_cnt_t unsigned long.
 * 	[1994/02/11  16:52:09  meissner]
 * 
 * 	Remember function unique ptr in gfuncs structure to reset profiling.
 * 	Add support for range checking gprof arc {from,self}pc addresses.
 * 	Add counter for # times acontext was locked.
 * 	Expand copyright.
 * 	[1994/02/07  12:41:08  meissner]
 * 
 * 	Keep track of the number of times the kernel overflows the HISTCOUNTER counter.
 * 	[1994/02/03  20:13:31  meissner]
 * 
 * 	Add stats for {user,kernel,idle} mode in the kernel.
 * 	[1994/02/03  15:17:36  meissner]
 * 
 * 	No change.
 * 	[1994/02/03  00:58:59  meissner]
 * 
 * 	Combine _profile_{vars,stats,md}; Allow more than one _profile_vars.
 * 	[1994/02/01  12:04:04  meissner]
 * 
 * 	Split # records to # gprof and # prof records.
 * 	Add my_cpu/max_cpu fields.
 * 	[1994/01/28  23:33:30  meissner]
 * 
 * 	Eliminate hash_{size,mask} from gfuncs structure.
 * 	[1994/01/26  20:23:41  meissner]
 * 
 * 	Add structure size fields to _profile_{vars,stats,md}.
 * 	Add major/minor version number to _profile_md.
 * 	Move allocation context block pointer to main structure.
 * 	Delete shift count for allocation contexts.
 * 	[1994/01/25  01:46:08  meissner]
 * 
 * 	Add HASHFRACTION
 * 	[1994/01/22  01:14:02  meissner]
 * 
 * 	Split profile-md.h into profile-internal.h and profile-md.
 * 	[1994/01/20  20:57:18  meissner]
 * 
 * 	Fixup copyright.
 * 	[1994/01/18  23:08:14  meissner]
 * 
 * 	Make flags byte-sized.
 * 	Add have_bb flag.
 * 	Add init_format flag.
 * 	[1994/01/18  21:57:18  meissner]
 * 
 * 	CR 10198 - Initial version.
 * 	[1994/01/18  19:44:59  meissner]
 * 
 * $EndLog$
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_PROFILE_MD_H</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_PROFILE_MD_H</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;types.h&gt;</span>

<span class="enscript-comment">/*
 * Define the interfaces between the assembly language profiling support
 * that is common between the kernel, mach servers, and user space library.
 */</span>

<span class="enscript-comment">/*
 * Integer types used.
 */</span>

<span class="enscript-comment">/*
 * These hold either a pointer or a signed/unsigned int.
 * They are 32 bit on i386 and 64 bit on x86_64.
 */</span>
<span class="enscript-type">typedef</span>	<span class="enscript-type">long</span>		prof_ptrint_t;
<span class="enscript-type">typedef</span>	<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>	prof_uptrint_t;

<span class="enscript-type">typedef</span>	<span class="enscript-type">long</span>		prof_lock_t;	<span class="enscript-comment">/* lock word type */</span>
<span class="enscript-type">typedef</span> <span class="enscript-type">unsigned</span> <span class="enscript-type">char</span>	prof_flag_t;	<span class="enscript-comment">/* type for boolean flags */</span>

<span class="enscript-comment">/*
 * Double precision counter.
 */</span>

<span class="enscript-comment">/* These are 64 bit on both i386 and x86_64 */</span>
<span class="enscript-type">typedef</span> <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> prof_cnt_t;

<span class="enscript-comment">/* x86_64 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_INC</span>(cnt)	(cnt++)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_ADD</span>(cnt,val)	(cnt+=val)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_LADD</span>(cnt,val)	(cnt+=val)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_SUB</span>(cnt,val)	(cnt-=val)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_LSUB</span>(cnt,val)	(cnt-=val)

#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_ULONG_TO_CNT</span>(cnt,val)	(((cnt).high = 0), ((cnt).low = val))
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">PROF_CNT_OVERFLOW</span>(cnt,high,low)	(((high) = (cnt).high), ((low) = (cnt).low))
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_TO_ULONG</span>(cnt)		(((cnt).high == 0) ? (cnt).low : 0xffffffffu)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_TO_LDOUBLE</span>(cnt)	((((long double)(cnt).high) * 4294967296.0L) + (long double)(cnt).low)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_TO_DECIMAL</span>(buf,cnt)	_profile_cnt_to_decimal(buf, (cnt).low, (cnt).high)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_EQ_0</span>(cnt)		(((cnt).high | (cnt).low) == 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_NE_0</span>(cnt)		(((cnt).high | (cnt).low) != 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_EQ</span>(cnt1,cnt2)		((((cnt1).high ^ (cnt2).high) | ((cnt1).low ^ (cnt2).low)) == 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_NE</span>(cnt1,cnt2)		((((cnt1).high ^ (cnt2).high) | ((cnt1).low ^ (cnt2).low)) != 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_GT</span>(cnt1,cnt2)		(((cnt1).high &gt; (cnt2).high) || ((cnt1).low &gt; (cnt2).low))
#<span class="enscript-reference">define</span> <span class="enscript-function-name">PROF_CNT_LT</span>(cnt1,cnt2)		(((cnt1).high &lt; (cnt2).high) || ((cnt1).low &lt; (cnt2).low))

<span class="enscript-comment">/* max # digits + null to hold prof_cnt_t values (round up to multiple of 4) */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROF_CNT_DIGITS</span>			24

<span class="enscript-comment">/*
 * Types of the profil counter.
 */</span>

<span class="enscript-type">typedef</span> <span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	HISTCOUNTER;		<span class="enscript-comment">/* profil */</span>
<span class="enscript-type">typedef</span> prof_cnt_t	LHISTCOUNTER;		<span class="enscript-comment">/* lprofil */</span>

#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_ULONG_TO_CNT</span>(cnt,val)	PROF_ULONG_TO_CNT(cnt,val)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_INC</span>(lp)		PROF_CNT_INC(lp)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_ADD</span>(lp,val)		PROF_CNT_ADD(lp,val)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_LADD</span>(lp,val)		PROF_CNT_LADD(lp,val)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_SUB</span>(lp,val)		PROF_CNT_SUB(lp,val)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_LSUB</span>(lp,val)		PROF_CNT_LSUB(lp,val)
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">LPROF_CNT_OVERFLOW</span>(lp,high,low)	PROF_CNT_OVERFLOW(lp,high,low)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_TO_ULONG</span>(lp)		PROF_CNT_TO_ULONG(lp)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_TO_LDOUBLE</span>(lp)	PROF_CNT_TO_LDOUBLE(lp)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_TO_DECIMAL</span>(buf,cnt)	PROF_CNT_TO_DECIMAL(buf,cnt)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_EQ_0</span>(cnt)		PROF_CNT_EQ_0(cnt)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_NE_0</span>(cnt)		PROF_CNT_NE_0(cnt)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_EQ</span>(cnt1,cnt2)		PROF_CNT_EQ(cnt1,cnt2)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_NE</span>(cnt1,cnt2)		PROF_CNT_NE(cnt1,cnt2)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_GT</span>(cnt1,cnt2)		PROF_CNT_GT(cnt1,cnt2)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">LPROF_CNT_LT</span>(cnt1,cnt2)		PROF_CNT_LT(cnt1,cnt2)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">LPROF_CNT_DIGITS</span>		PROF_CNT_DIGITS

<span class="enscript-comment">/*
 *  fraction of text space to allocate for histogram counters
 */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HISTFRACTION</span>    4

<span class="enscript-comment">/*
 * Fraction of text space to allocate for from hash buckets.
 */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HASHFRACTION</span>	HISTFRACTION

<span class="enscript-comment">/*
 * Prof call count, external format.
 */</span>

<span class="enscript-type">struct</span> prof_ext {
	prof_uptrint_t	cvalue;		<span class="enscript-comment">/* caller address */</span>
	prof_uptrint_t	cncall;		<span class="enscript-comment">/* # of calls */</span>
};

<span class="enscript-comment">/*
 * Prof call count, internal format.
 */</span>

<span class="enscript-type">struct</span> prof_int {
	<span class="enscript-type">struct</span> prof_ext	prof;		<span class="enscript-comment">/* external prof struct */</span>
	prof_uptrint_t	overflow;	<span class="enscript-comment">/* # times prof counter overflowed */</span>
};

<span class="enscript-comment">/*
 * Gprof arc, external format.
 */</span>

<span class="enscript-type">struct</span> gprof_arc {
	prof_uptrint_t	 frompc;	<span class="enscript-comment">/* caller's caller */</span>
	prof_uptrint_t	 selfpc;	<span class="enscript-comment">/* caller's address */</span>
	prof_uptrint_t	 count;		<span class="enscript-comment">/* # times arc traversed */</span>
};

<span class="enscript-comment">/*
 * Gprof arc, internal format.
 */</span>

<span class="enscript-type">struct</span> hasharc {
	<span class="enscript-type">struct</span> hasharc	*next;		<span class="enscript-comment">/* next gprof record */</span>
	<span class="enscript-type">struct</span> gprof_arc arc;		<span class="enscript-comment">/* gprof record */</span>
	prof_uptrint_t	 overflow;	<span class="enscript-comment">/* # times counter overflowed */</span>
};

<span class="enscript-comment">/*
 * Linked list of all function profile blocks.
 */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">MAX_CACHE</span>	3		<span class="enscript-comment">/* # cache table entries */</span>

<span class="enscript-type">struct</span> gfuncs {
	<span class="enscript-type">struct</span> hasharc **hash_ptr;		<span class="enscript-comment">/* gprof hash table */</span>
	<span class="enscript-type">struct</span> hasharc **unique_ptr; 		<span class="enscript-comment">/* function unique pointer */</span>
	<span class="enscript-type">struct</span> prof_int prof;			<span class="enscript-comment">/* -p stats for elf */</span>
	<span class="enscript-type">struct</span> hasharc *cache_ptr[MAX_CACHE];	<span class="enscript-comment">/* cache element pointers */</span>
};

<span class="enscript-comment">/*
 * Profile information which might be written out in ELF {,g}mon.out files.
 */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">MAX_BUCKETS</span> 9			<span class="enscript-comment">/* max bucket chain to print out */</span>

<span class="enscript-type">struct</span> profile_stats {			<span class="enscript-comment">/* Debugging counters */</span>
	prof_uptrint_t major_version;	<span class="enscript-comment">/* major version number */</span>
	prof_uptrint_t minor_version;	<span class="enscript-comment">/* minor version number */</span>
	prof_uptrint_t stats_size;	<span class="enscript-comment">/* size of profile_vars structure */</span>
	prof_uptrint_t profil_buckets; 	<span class="enscript-comment">/* # profil buckets */</span>
	prof_uptrint_t my_cpu;		<span class="enscript-comment">/* identify current cpu/thread */</span>
	prof_uptrint_t max_cpu;		<span class="enscript-comment">/* identify max cpu/thread */</span>
	prof_uptrint_t prof_records;	<span class="enscript-comment">/* # of functions profiled */</span>
	prof_uptrint_t gprof_records;	<span class="enscript-comment">/* # of gprof arcs */</span>
	prof_uptrint_t hash_buckets;	<span class="enscript-comment">/* # gprof hash buckets */</span>
	prof_uptrint_t bogus_count;	<span class="enscript-comment">/* # of bogus functions found in gprof */</span>

	prof_cnt_t cnt;			<span class="enscript-comment">/* # of calls to _{,g}prof_mcount */</span>
	prof_cnt_t dummy;		<span class="enscript-comment">/* # of calls to _dummy_mcount */</span>
	prof_cnt_t old_mcount;		<span class="enscript-comment">/* # of calls to old mcount */</span>
	prof_cnt_t hash_search;		<span class="enscript-comment">/* # hash buckets searched */</span>
	prof_cnt_t hash_num;		<span class="enscript-comment">/* # times hash table searched */</span>
	prof_cnt_t user_ticks;		<span class="enscript-comment">/* # ticks in user space */</span>
	prof_cnt_t kernel_ticks;	<span class="enscript-comment">/* # ticks in kernel space */</span>
	prof_cnt_t idle_ticks;		<span class="enscript-comment">/* # ticks in idle mode */</span>
	prof_cnt_t overflow_ticks;	<span class="enscript-comment">/* # ticks where HISTCOUNTER overflowed */</span>
	prof_cnt_t acontext_locked;	<span class="enscript-comment">/* # times an acontext was locked */</span>
	prof_cnt_t too_low;		<span class="enscript-comment">/* # times a histogram tick was too low */</span>
	prof_cnt_t too_high;		<span class="enscript-comment">/* # times a histogram tick was too high */</span>
	prof_cnt_t prof_overflow;	<span class="enscript-comment">/* # times a prof count field overflowed */</span>
	prof_cnt_t gprof_overflow;	<span class="enscript-comment">/* # times a gprof count field overflowed */</span>

					<span class="enscript-comment">/* allocation statistics */</span>
	prof_uptrint_t num_alloc  [(<span class="enscript-type">int</span>)ACONTEXT_MAX];	<span class="enscript-comment">/* # allocations */</span>
	prof_uptrint_t bytes_alloc[(<span class="enscript-type">int</span>)ACONTEXT_MAX];	<span class="enscript-comment">/* bytes allocated */</span>
	prof_uptrint_t num_context[(<span class="enscript-type">int</span>)ACONTEXT_MAX];	<span class="enscript-comment">/* # contexts */</span>
	prof_uptrint_t wasted     [(<span class="enscript-type">int</span>)ACONTEXT_MAX];	<span class="enscript-comment">/* wasted bytes */</span>
	prof_uptrint_t overhead   [(<span class="enscript-type">int</span>)ACONTEXT_MAX];	<span class="enscript-comment">/* overhead bytes */</span>

	prof_uptrint_t buckets[MAX_BUCKETS+1]; <span class="enscript-comment">/* # hash indexes that have n buckets */</span>
	prof_cnt_t     cache_hits[MAX_CACHE];  <span class="enscript-comment">/* # times nth cache entry matched */</span>

	prof_cnt_t stats_unused[64];	<span class="enscript-comment">/* reserved for future use */</span>
};

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROFILE_MAJOR_VERSION</span> 1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROFILE_MINOR_VERSION</span> 1

<span class="enscript-comment">/*
 * Machine dependent fields.
 */</span>

<span class="enscript-type">struct</span> profile_md {
	<span class="enscript-type">int</span> major_version;		<span class="enscript-comment">/* major version number */</span>
	<span class="enscript-type">int</span> minor_version;		<span class="enscript-comment">/* minor version number */</span>
	size_t md_size;			<span class="enscript-comment">/* size of profile_md structure */</span>
	<span class="enscript-type">struct</span> hasharc **hash_ptr;	<span class="enscript-comment">/* gprof hash table */</span>
	size_t hash_size;		<span class="enscript-comment">/* size of hash table */</span>
	prof_uptrint_t num_cache;	<span class="enscript-comment">/* # of cache entries */</span>
	<span class="enscript-type">void</span> (*save_mcount_ptr)(<span class="enscript-type">void</span>);	<span class="enscript-comment">/* save for _mcount_ptr */</span>
	<span class="enscript-type">void</span> (**mcount_ptr_ptr)(<span class="enscript-type">void</span>);	<span class="enscript-comment">/* pointer to _mcount_ptr */</span>
	<span class="enscript-type">struct</span> hasharc *dummy_ptr;	<span class="enscript-comment">/* pointer to dummy gprof record */</span>
	<span class="enscript-type">void</span> *(*alloc_pages)(size_t);	<span class="enscript-comment">/* pointer to _profile_alloc_pages */</span>
	<span class="enscript-type">char</span> num_buffer[PROF_CNT_DIGITS]; <span class="enscript-comment">/* convert 64 bit ints to string */</span>
	<span class="enscript-type">long</span> md_unused[58];		<span class="enscript-comment">/* add unused fields */</span>
};

<span class="enscript-comment">/*
 * Record information about each function call.  Specify
 * caller, caller's caller, and a unique label for use by
 * the profiling routines.
 */</span>
<span class="enscript-type">extern</span> <span class="enscript-type">void</span> <span class="enscript-function-name">_prof_mcount</span>(<span class="enscript-type">void</span>);
<span class="enscript-type">extern</span> <span class="enscript-type">void</span> <span class="enscript-function-name">_gprof_mcount</span>(<span class="enscript-type">void</span>);
<span class="enscript-type">extern</span> <span class="enscript-type">void</span> <span class="enscript-function-name">_dummy_mcount</span>(<span class="enscript-type">void</span>);
<span class="enscript-type">extern</span> <span class="enscript-function-name">void</span> (*_mcount_ptr)(<span class="enscript-type">void</span>);

<span class="enscript-comment">/*
 * Function in profile-md.c to convert prof_cnt_t to string format (decimal &amp; hex).
 */</span>
<span class="enscript-type">extern</span> <span class="enscript-type">char</span> *<span class="enscript-function-name">_profile_cnt_to_decimal</span>(<span class="enscript-type">char</span> *, prof_uptrint_t, prof_uptrint_t);

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* _PROFILE_MD_H */</span>
</pre>
<hr />
</body></html>