<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>syscall_sw.c</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">syscall_sw.c&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2005 Apple Computer, Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/*
 * @OSF_COPYRIGHT@
 */</span>
<span class="enscript-comment">/* 
 * Mach Operating System
 * Copyright (c) 1991,1990,1989,1988,1987 Carnegie Mellon University
 * All Rights Reserved.
 * 
 * Permission to use, copy, modify and distribute this software and its
 * documentation is hereby granted, provided that both the copyright
 * notice and this permission notice appear in all copies of the
 * software, derivative works or modified versions, and any portions
 * thereof, and that both notices appear in supporting documentation.
 * 
 * CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS &quot;AS IS&quot;
 * CONDITION.  CARNEGIE MELLON DISCLAIMS ANY LIABILITY OF ANY KIND FOR
 * ANY DAMAGES WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
 * 
 * Carnegie Mellon requests users of this software to return to
 * 
 *  Software Distribution Coordinator  or  <a href="mailto:Software.Distribution@CS.CMU.EDU">Software.Distribution@CS.CMU.EDU</a>
 *  School of Computer Science
 *  Carnegie Mellon University
 *  Pittsburgh PA 15213-3890
 * 
 * any improvements or extensions that they make and grant Carnegie Mellon
 * the rights to redistribute these changes.
 */</span>
<span class="enscript-comment">/*
 */</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/mach_types.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/mach_traps.h&gt;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;kern/syscall_sw.h&gt;</span>
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">CONFIG_REQUIRES_U32_MUNGING</span> || (<span class="enscript-variable-name">__arm__</span> &amp;&amp; (<span class="enscript-variable-name">__BIGGEST_ALIGNMENT__</span> &gt; 4))
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/munge.h&gt;</span>
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/* Forwards */</span>


<span class="enscript-comment">/*
 *	To add a new entry:
 *		Add an &quot;MACH_TRAP(routine, arg_count, num_32_bit_words, munge_routine)&quot; to the table below.
 *		where,
 *		- routine:		The trap handling routine in the kernel
 *		- arg_count:		The number of arguments for the mach trap (independant of arch/arg size).
 *					This value also defines the number of 64-bit words copied in for a U64 process.
 *		- num_32_bit_words:	The number of 32-bit words to be copied in for a U32 process.
 *		- munge_routine:	The argument munging routine to align input args correctly.
 *
 *		Also, add trap definition to mach/syscall_sw.h and
 *		recompile user library.
 *
 *
 * WARNING:	If you add a trap which requires more than 7
 *		parameters, mach/{machine}/syscall_sw.h and {machine}/trap.c
 *		and/or {machine}/locore.s may need to be modified for it
 *		to work successfully.
 *
 * WARNING:	Don't use numbers 0 through -9.  They (along with
 *		the positive numbers) are reserved for Unix.
 */</span>

<span class="enscript-type">int</span> kern_invalid_debug = 0;

<span class="enscript-comment">/* Include declarations of the trap functions. */</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/mach_traps.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/mach_syscalls.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;kern/syscall_subr.h&gt;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;kern/clock.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/mk_timer.h&gt;</span>

<span class="enscript-type">const</span> mach_trap_t	mach_trap_table[MACH_TRAP_TABLE_COUNT] = {
<span class="enscript-comment">/* 0 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 1 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 2 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 3 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 4 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 5 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 6 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 7 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 8 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 9 */</span>		MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 10 */</span>	MACH_TRAP(_kernelrpc_mach_vm_allocate_trap, 4, 5, munge_wwlw),
<span class="enscript-comment">/* 11 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 12 */</span>	MACH_TRAP(_kernelrpc_mach_vm_deallocate_trap, 3, 5, munge_wll),
<span class="enscript-comment">/* 13 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 14 */</span>	MACH_TRAP(_kernelrpc_mach_vm_protect_trap, 5, 7, munge_wllww),
<span class="enscript-comment">/* 15 */</span>	MACH_TRAP(_kernelrpc_mach_vm_map_trap, 6, 8, munge_wwllww),
<span class="enscript-comment">/* 16 */</span>	MACH_TRAP(_kernelrpc_mach_port_allocate_trap, 3, 3, munge_www),
<span class="enscript-comment">/* 17 */</span>	MACH_TRAP(_kernelrpc_mach_port_destroy_trap, 2, 2, munge_ww),
<span class="enscript-comment">/* 18 */</span>	MACH_TRAP(_kernelrpc_mach_port_deallocate_trap, 2, 2, munge_ww),
<span class="enscript-comment">/* 19 */</span>	MACH_TRAP(_kernelrpc_mach_port_mod_refs_trap, 4, 4, munge_wwww),
<span class="enscript-comment">/* 20 */</span>	MACH_TRAP(_kernelrpc_mach_port_move_member_trap, 3, 3, munge_www),
<span class="enscript-comment">/* 21 */</span>	MACH_TRAP(_kernelrpc_mach_port_insert_right_trap, 4, 4, munge_wwww),
<span class="enscript-comment">/* 22 */</span>	MACH_TRAP(_kernelrpc_mach_port_insert_member_trap, 3, 3, munge_www),
<span class="enscript-comment">/* 23 */</span>	MACH_TRAP(_kernelrpc_mach_port_extract_member_trap, 3, 3, munge_www),
<span class="enscript-comment">/* 24 */</span>	MACH_TRAP(_kernelrpc_mach_port_construct_trap, 4, 5, munge_wwlw),
<span class="enscript-comment">/* 25 */</span>	MACH_TRAP(_kernelrpc_mach_port_destruct_trap, 4, 5, munge_wwwl),
<span class="enscript-comment">/* 26 */</span>	MACH_TRAP(mach_reply_port, 0, 0, NULL),
<span class="enscript-comment">/* 27 */</span>	MACH_TRAP(thread_self_trap, 0, 0, NULL),
<span class="enscript-comment">/* 28 */</span>	MACH_TRAP(task_self_trap, 0, 0, NULL),
<span class="enscript-comment">/* 29 */</span>	MACH_TRAP(host_self_trap, 0, 0, NULL),
<span class="enscript-comment">/* 30 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 31 */</span>	MACH_TRAP(mach_msg_trap, 7, 7, munge_wwwwwww),
<span class="enscript-comment">/* 32 */</span>	MACH_TRAP(mach_msg_overwrite_trap, 8, 8, munge_wwwwwwww),
<span class="enscript-comment">/* 33 */</span>	MACH_TRAP(semaphore_signal_trap, 1, 1, munge_w),
<span class="enscript-comment">/* 34 */</span>	MACH_TRAP(semaphore_signal_all_trap, 1, 1, munge_w),
<span class="enscript-comment">/* 35 */</span>	MACH_TRAP(semaphore_signal_thread_trap, 2, 2, munge_ww),
<span class="enscript-comment">/* 36 */</span>	MACH_TRAP(semaphore_wait_trap, 1, 1, munge_w),
<span class="enscript-comment">/* 37 */</span>	MACH_TRAP(semaphore_wait_signal_trap, 2, 2, munge_ww),
<span class="enscript-comment">/* 38 */</span>	MACH_TRAP(semaphore_timedwait_trap, 3, 3, munge_www),
<span class="enscript-comment">/* 39 */</span>	MACH_TRAP(semaphore_timedwait_signal_trap, 4, 4, munge_wwww),
<span class="enscript-comment">/* 40 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 41 */</span>	MACH_TRAP(_kernelrpc_mach_port_guard_trap, 4, 5, munge_wwlw),
<span class="enscript-comment">/* 42 */</span>	MACH_TRAP(_kernelrpc_mach_port_unguard_trap, 3, 4, munge_wwl),
<span class="enscript-comment">/* 43 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 44 */</span>	MACH_TRAP(task_name_for_pid, 3, 3, munge_www),
<span class="enscript-comment">/* 45 */</span> 	MACH_TRAP(task_for_pid, 3, 3, munge_www),
<span class="enscript-comment">/* 46 */</span>	MACH_TRAP(pid_for_task, 2, 2, munge_ww),
<span class="enscript-comment">/* 47 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 48 */</span>	MACH_TRAP(macx_swapon, 4, 5, munge_lwww),
<span class="enscript-comment">/* 49 */</span>	MACH_TRAP(macx_swapoff, 2, 3, munge_lw),
<span class="enscript-comment">/* 50 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 51 */</span>	MACH_TRAP(macx_triggers, 4, 4, munge_wwww),
<span class="enscript-comment">/* 52 */</span>	MACH_TRAP(macx_backing_store_suspend, 1, 1, munge_w),
<span class="enscript-comment">/* 53 */</span>	MACH_TRAP(macx_backing_store_recovery, 1, 1, munge_w),
<span class="enscript-comment">/* 54 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 55 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 56 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 57 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 58 */</span>	MACH_TRAP(pfz_exit, 0, 0, NULL),
<span class="enscript-comment">/* 59 */</span> 	MACH_TRAP(swtch_pri, 0, 0, NULL),
<span class="enscript-comment">/* 60 */</span>	MACH_TRAP(swtch, 0, 0, NULL),
<span class="enscript-comment">/* 61 */</span>	MACH_TRAP(thread_switch, 3, 3, munge_www),
<span class="enscript-comment">/* 62 */</span>	MACH_TRAP(clock_sleep_trap, 5, 5, munge_wwwww),
<span class="enscript-comment">/* 63 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* traps 64 - 95 reserved (debo) */</span>
<span class="enscript-comment">/* 64 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 65 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 66 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 67 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 68 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 69 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 70 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 71 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 72 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 73 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 74 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 75 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 76 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 77 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 78 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 79 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 80 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 81 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 82 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 83 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 84 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 85 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 86 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 87 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 88 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 89 */</span>	MACH_TRAP(mach_timebase_info_trap, 1, 1, munge_w),
<span class="enscript-comment">/* 90 */</span>	MACH_TRAP(mach_wait_until_trap, 1, 2, munge_l),
<span class="enscript-comment">/* 91 */</span>	MACH_TRAP(mk_timer_create_trap, 0, 0, NULL),
<span class="enscript-comment">/* 92 */</span>	MACH_TRAP(mk_timer_destroy_trap, 1, 1, munge_w),
<span class="enscript-comment">/* 93 */</span>	MACH_TRAP(mk_timer_arm_trap, 2, 3, munge_wl),
<span class="enscript-comment">/* 94 */</span>	MACH_TRAP(mk_timer_cancel_trap, 2, 2, munge_ww),		
<span class="enscript-comment">/* 95 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),		
<span class="enscript-comment">/* traps 64 - 95 reserved (debo) */</span>
<span class="enscript-comment">/* 96 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 97 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 98 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 99 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* traps 100-107 reserved for iokit (esb) */</span> 
<span class="enscript-comment">/* 100 */</span>	MACH_TRAP(iokit_user_client_trap, 8, 8, munge_wwwwwwww),
<span class="enscript-comment">/* 101 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 102 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 103 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 104 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 105 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 106 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 107 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* traps 108-127 unused */</span>			
<span class="enscript-comment">/* 108 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 109 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 110 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 111 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 112 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 113 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 114 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 115 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 116 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 117 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 118 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 119 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 120 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 121 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 122 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 123 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 124 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 125 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 126 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),
<span class="enscript-comment">/* 127 */</span>	MACH_TRAP(kern_invalid, 0, 0, NULL),			
};

<span class="enscript-type">const</span> <span class="enscript-type">char</span> * mach_syscall_name_table[MACH_TRAP_TABLE_COUNT] = {
<span class="enscript-comment">/* 0 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 1 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 2 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 3 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 4 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 5 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 6 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 7 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 8 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 9 */</span>		<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 10 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_vm_allocate_trap&quot;</span>,
<span class="enscript-comment">/* 11 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 12 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_vm_deallocate_trap&quot;</span>,
<span class="enscript-comment">/* 13 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 14 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_vm_protect_trap&quot;</span>,
<span class="enscript-comment">/* 15 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_vm_map_trap&quot;</span>,
<span class="enscript-comment">/* 16 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_allocate_trap&quot;</span>,
<span class="enscript-comment">/* 17 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_destroy_trap&quot;</span>,
<span class="enscript-comment">/* 18 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_deallocate_trap&quot;</span>,
<span class="enscript-comment">/* 19 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_mod_refs_trap&quot;</span>,
<span class="enscript-comment">/* 20 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_move_member_trap&quot;</span>,
<span class="enscript-comment">/* 21 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_insert_right_trap&quot;</span>,
<span class="enscript-comment">/* 22 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_insert_member_trap&quot;</span>,
<span class="enscript-comment">/* 23 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_extract_member_trap&quot;</span>,
<span class="enscript-comment">/* 24 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_construct_trap&quot;</span>,
<span class="enscript-comment">/* 25 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_destruct_trap&quot;</span>,
<span class="enscript-comment">/* 26 */</span>	<span class="enscript-string">&quot;mach_reply_port&quot;</span>,
<span class="enscript-comment">/* 27 */</span>	<span class="enscript-string">&quot;thread_self_trap&quot;</span>,
<span class="enscript-comment">/* 28 */</span>	<span class="enscript-string">&quot;task_self_trap&quot;</span>,
<span class="enscript-comment">/* 29 */</span>	<span class="enscript-string">&quot;host_self_trap&quot;</span>,
<span class="enscript-comment">/* 30 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 31 */</span>	<span class="enscript-string">&quot;mach_msg_trap&quot;</span>,
<span class="enscript-comment">/* 32 */</span>	<span class="enscript-string">&quot;mach_msg_overwrite_trap&quot;</span>,
<span class="enscript-comment">/* 33 */</span>	<span class="enscript-string">&quot;semaphore_signal_trap&quot;</span>,
<span class="enscript-comment">/* 34 */</span>	<span class="enscript-string">&quot;semaphore_signal_all_trap&quot;</span>,
<span class="enscript-comment">/* 35 */</span>	<span class="enscript-string">&quot;semaphore_signal_thread_trap&quot;</span>,
<span class="enscript-comment">/* 36 */</span>	<span class="enscript-string">&quot;semaphore_wait_trap&quot;</span>,
<span class="enscript-comment">/* 37 */</span>	<span class="enscript-string">&quot;semaphore_wait_signal_trap&quot;</span>,
<span class="enscript-comment">/* 38 */</span>	<span class="enscript-string">&quot;semaphore_timedwait_trap&quot;</span>,
<span class="enscript-comment">/* 39 */</span>	<span class="enscript-string">&quot;semaphore_timedwait_signal_trap&quot;</span>,
<span class="enscript-comment">/* 40 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 41 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_guard_trap&quot;</span>,
<span class="enscript-comment">/* 42 */</span>	<span class="enscript-string">&quot;_kernelrpc_mach_port_unguard_trap&quot;</span>,
<span class="enscript-comment">/* 43 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 44 */</span>	<span class="enscript-string">&quot;task_name_for_pid&quot;</span>,
<span class="enscript-comment">/* 45 */</span> 	<span class="enscript-string">&quot;task_for_pid&quot;</span>,
<span class="enscript-comment">/* 46 */</span>	<span class="enscript-string">&quot;pid_for_task&quot;</span>,
<span class="enscript-comment">/* 47 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 48 */</span>	<span class="enscript-string">&quot;macx_swapon&quot;</span>,
<span class="enscript-comment">/* 49 */</span>	<span class="enscript-string">&quot;macx_swapoff&quot;</span>,
<span class="enscript-comment">/* 50 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 51 */</span>	<span class="enscript-string">&quot;macx_triggers&quot;</span>,
<span class="enscript-comment">/* 52 */</span>	<span class="enscript-string">&quot;macx_backing_store_suspend&quot;</span>,
<span class="enscript-comment">/* 53 */</span>	<span class="enscript-string">&quot;macx_backing_store_recovery&quot;</span>,
<span class="enscript-comment">/* 54 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 55 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 56 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 57 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 58 */</span>	<span class="enscript-string">&quot;pfz_exit&quot;</span>,
<span class="enscript-comment">/* 59 */</span> 	<span class="enscript-string">&quot;swtch_pri&quot;</span>,
<span class="enscript-comment">/* 60 */</span>	<span class="enscript-string">&quot;swtch&quot;</span>,
<span class="enscript-comment">/* 61 */</span>	<span class="enscript-string">&quot;thread_switch&quot;</span>,
<span class="enscript-comment">/* 62 */</span>	<span class="enscript-string">&quot;clock_sleep_trap&quot;</span>,
<span class="enscript-comment">/* 63 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* traps 64 - 95 reserved (debo) */</span>
<span class="enscript-comment">/* 64 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 65 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 66 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 67 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 68 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 69 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 70 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 71 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 72 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 73 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 74 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 75 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 76 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 77 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 78 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 79 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 80 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 81 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 82 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 83 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 84 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 85 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 86 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 87 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 88 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 89 */</span>	<span class="enscript-string">&quot;mach_timebase_info_trap&quot;</span>,
<span class="enscript-comment">/* 90 */</span>	<span class="enscript-string">&quot;mach_wait_until_trap&quot;</span>,
<span class="enscript-comment">/* 91 */</span>	<span class="enscript-string">&quot;mk_timer_create_trap&quot;</span>,
<span class="enscript-comment">/* 92 */</span>	<span class="enscript-string">&quot;mk_timer_destroy_trap&quot;</span>,
<span class="enscript-comment">/* 93 */</span>	<span class="enscript-string">&quot;mk_timer_arm_trap&quot;</span>,
<span class="enscript-comment">/* 94 */</span>	<span class="enscript-string">&quot;mk_timer_cancel_trap&quot;</span>,
<span class="enscript-comment">/* 95 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* traps 64 - 95 reserved (debo) */</span>
<span class="enscript-comment">/* 96 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 97 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 98 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 99 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* traps 100-107 reserved for iokit (esb) */</span> 
<span class="enscript-comment">/* 100 */</span>	<span class="enscript-string">&quot;iokit_user_client_trap&quot;</span>,
<span class="enscript-comment">/* 101 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 102 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 103 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 104 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 105 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 106 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 107 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* traps 108-127 unused */</span>			
<span class="enscript-comment">/* 108 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 109 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 110 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 111 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 112 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 113 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 114 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 115 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 116 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 117 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 118 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 119 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 120 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 121 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 122 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 123 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 124 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 125 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 126 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
<span class="enscript-comment">/* 127 */</span>	<span class="enscript-string">&quot;kern_invalid&quot;</span>,
};

<span class="enscript-type">int</span>	mach_trap_count = (<span class="enscript-keyword">sizeof</span>(mach_trap_table) / <span class="enscript-keyword">sizeof</span>(mach_trap_table[0]));

kern_return_t
<span class="enscript-function-name">kern_invalid</span>(
	__unused <span class="enscript-type">struct</span> kern_invalid_args *args)
{
	<span class="enscript-keyword">if</span> (kern_invalid_debug) Debugger(<span class="enscript-string">&quot;kern_invalid mach trap&quot;</span>);
	<span class="enscript-keyword">return</span>(KERN_INVALID_ARGUMENT);
}

</pre>
<hr />
</body></html>