<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>mach_traps.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">mach_traps.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2007 Apple Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/*
 * @OSF_COPYRIGHT@
 */</span>
<span class="enscript-comment">/* 
 * Mach Operating System
 * Copyright (c) 1991,1990,1989,1988,1987 Carnegie Mellon University
 * All Rights Reserved.
 * 
 * Permission to use, copy, modify and distribute this software and its
 * documentation is hereby granted, provided that both the copyright
 * notice and this permission notice appear in all copies of the
 * software, derivative works or modified versions, and any portions
 * thereof, and that both notices appear in supporting documentation.
 * 
 * CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS &quot;AS IS&quot;
 * CONDITION.  CARNEGIE MELLON DISCLAIMS ANY LIABILITY OF ANY KIND FOR
 * ANY DAMAGES WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
 * 
 * Carnegie Mellon requests users of this software to return to
 * 
 *  Software Distribution Coordinator  or  <a href="mailto:Software.Distribution@CS.CMU.EDU">Software.Distribution@CS.CMU.EDU</a>
 *  School of Computer Science
 *  Carnegie Mellon University
 *  Pittsburgh PA 15213-3890
 * 
 * any improvements or extensions that they make and grant Carnegie Mellon
 * the rights to redistribute these changes.
 */</span>
<span class="enscript-comment">/*
 */</span>
<span class="enscript-comment">/*
 *	Definitions of general Mach system traps.
 *
 *	These are the definitions as seen from user-space.
 *	The kernel definitions are in &lt;mach/syscall_sw.h&gt;.
 *	Kernel RPC functions are defined in &lt;mach/mach_interface.h&gt;.
 */</span>

#<span class="enscript-reference">ifndef</span>	<span class="enscript-variable-name">_MACH_MACH_TRAPS_H_</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_MACH_MACH_TRAPS_H_</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;stdint.h&gt;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/std_types.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/mach_types.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/kern_return.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/port.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/vm_types.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;mach/clock_types.h&gt;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;machine/endian.h&gt;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/cdefs.h&gt;</span>

__BEGIN_DECLS

#<span class="enscript-reference">ifndef</span>	<span class="enscript-variable-name">KERNEL</span>

#<span class="enscript-reference">ifdef</span>	<span class="enscript-variable-name">PRIVATE</span>

<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">mach_reply_port</span>(<span class="enscript-type">void</span>);

<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">thread_self_trap</span>(<span class="enscript-type">void</span>);

<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">host_self_trap</span>(<span class="enscript-type">void</span>);

<span class="enscript-type">extern</span> mach_msg_return_t <span class="enscript-function-name">mach_msg_trap</span>(
				mach_msg_header_t *msg,
				mach_msg_option_t option,
				mach_msg_size_t send_size,
				mach_msg_size_t rcv_size,
				mach_port_name_t rcv_name,
				mach_msg_timeout_t timeout,
				mach_port_name_t notify);

<span class="enscript-type">extern</span> mach_msg_return_t <span class="enscript-function-name">mach_msg_overwrite_trap</span>(
				mach_msg_header_t *msg,
				mach_msg_option_t option,
				mach_msg_size_t send_size,
				mach_msg_size_t rcv_size,
				mach_port_name_t rcv_name,
				mach_msg_timeout_t timeout,
				mach_port_name_t notify,
				mach_msg_header_t *rcv_msg,
				mach_msg_size_t rcv_limit);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_signal_trap</span>(
				mach_port_name_t signal_name);
					      
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_signal_all_trap</span>(
				mach_port_name_t signal_name);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_signal_thread_trap</span>(
				mach_port_name_t signal_name,
				mach_port_name_t thread_name);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_wait_trap</span>(
				mach_port_name_t wait_name);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_wait_signal_trap</span>(
				mach_port_name_t wait_name,
				mach_port_name_t signal_name);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_timedwait_trap</span>(
				mach_port_name_t wait_name,
				<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> sec,
				clock_res_t nsec);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_timedwait_signal_trap</span>(
				mach_port_name_t wait_name,
				mach_port_name_t signal_name,
				<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> sec,
				clock_res_t nsec);

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* PRIVATE */</span>

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">clock_sleep_trap</span>(
				mach_port_name_t clock_name,
				sleep_type_t sleep_type,
				<span class="enscript-type">int</span> sleep_sec,
				<span class="enscript-type">int</span> sleep_nsec,
				mach_timespec_t	*wakeup_time);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_allocate_trap</span>(
				mach_port_name_t target,
				mach_vm_offset_t *addr,
				mach_vm_size_t size,
				<span class="enscript-type">int</span> flags);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_deallocate_trap</span>(
				mach_port_name_t target,
				mach_vm_address_t address,
				mach_vm_size_t size
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_protect_trap</span>(
				mach_port_name_t target,
				mach_vm_address_t address,
				mach_vm_size_t size,
				boolean_t set_maximum,
				vm_prot_t new_protection
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_map_trap</span>(
				mach_port_name_t target,
				mach_vm_offset_t *address,
				mach_vm_size_t size,
				mach_vm_offset_t mask,
				<span class="enscript-type">int</span> flags,
				vm_prot_t cur_protection
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_allocate_trap</span>(
				mach_port_name_t target,
				mach_port_right_t right,
				mach_port_name_t *name
);


<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_destroy_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_deallocate_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_mod_refs_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name,
				mach_port_right_t right,
				mach_port_delta_t delta
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_move_member_trap</span>(
				mach_port_name_t target,
				mach_port_name_t member,
				mach_port_name_t after
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_insert_right_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name,
				mach_port_name_t poly,
				mach_msg_type_name_t polyPoly
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_insert_member_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name,
				mach_port_name_t pset
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_extract_member_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name,
				mach_port_name_t pset
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_construct_trap</span>(
				mach_port_name_t target,
				mach_port_options_t *options,
				uint64_t context,
				mach_port_name_t *name
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_destruct_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name,
				mach_port_delta_t srdelta,
				uint64_t guard
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_guard_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name,
				uint64_t guard,
				boolean_t strict
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_unguard_trap</span>(
				mach_port_name_t target,
				mach_port_name_t name,
				uint64_t guard
);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_swapon</span>(
				uint64_t filename,
				<span class="enscript-type">int</span> flags,
				<span class="enscript-type">int</span> size,
				<span class="enscript-type">int</span> priority);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_swapoff</span>(
				uint64_t filename,
				<span class="enscript-type">int</span> flags);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_triggers</span>(
				<span class="enscript-type">int</span> hi_water,
				<span class="enscript-type">int</span> low_water,
				<span class="enscript-type">int</span> flags,
				mach_port_t alert_port);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_backing_store_suspend</span>(
				boolean_t suspend);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_backing_store_recovery</span>(
				<span class="enscript-type">int</span> pid);

<span class="enscript-type">extern</span> boolean_t <span class="enscript-function-name">swtch_pri</span>(<span class="enscript-type">int</span> pri);

<span class="enscript-type">extern</span> boolean_t <span class="enscript-function-name">swtch</span>(<span class="enscript-type">void</span>);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">thread_switch</span>(
				mach_port_name_t thread_name,
				<span class="enscript-type">int</span> option,
				mach_msg_timeout_t option_time);

<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">task_self_trap</span>(<span class="enscript-type">void</span>);

<span class="enscript-comment">/*
 *	Obsolete interfaces.
 */</span>

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">task_for_pid</span>(
				mach_port_name_t target_tport,
				<span class="enscript-type">int</span> pid,
				mach_port_name_t *t);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">task_name_for_pid</span>(
				mach_port_name_t target_tport,
				<span class="enscript-type">int</span> pid,
				mach_port_name_t *tn);

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">pid_for_task</span>(
				mach_port_name_t t,
				<span class="enscript-type">int</span> *x);

#<span class="enscript-reference">else</span>	<span class="enscript-comment">/* KERNEL */</span>

#<span class="enscript-reference">ifdef</span>	<span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>

<span class="enscript-comment">/* Syscall data translations routines
 *
 * The kernel may support multiple userspace ABIs, and must use
 * argument structures with elements large enough for any of them.
 */</span>
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">CONFIG_REQUIRES_U32_MUNGING</span>
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">PAD_</span>(t)	(sizeof(uint64_t) &lt;= sizeof(t) \
 		? 0 : <span class="enscript-keyword">sizeof</span>(uint64_t) - <span class="enscript-keyword">sizeof</span>(t))
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PAD_ARG_8</span>
#<span class="enscript-reference">else</span>
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">PAD_</span>(t)	(sizeof(uint32_t) &lt;= sizeof(t) \
 		? 0 : <span class="enscript-keyword">sizeof</span>(uint32_t) - <span class="enscript-keyword">sizeof</span>(t))
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PAD_ARG_8</span> char arg8_pad_[sizeof(uint32_t)];
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">BYTE_ORDER</span> == <span class="enscript-variable-name">LITTLE_ENDIAN</span>
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">PADL_</span>(t)	0
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">PADR_</span>(t)	PAD_(t)
#<span class="enscript-reference">else</span>
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">PADL_</span>(t)	PAD_(t)
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">PADR_</span>(t)	0
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">define</span> <span class="enscript-function-name">PAD_ARG_</span>(arg_type, arg_name) \
  <span class="enscript-type">char</span> arg_name##_l_[PADL_(arg_type)]; arg_type arg_name; <span class="enscript-type">char</span> arg_name##_r_[PADR_(arg_type)];

<span class="enscript-comment">/*
 * To support 32-bit clients as well as 64-bit clients, argument
 * structures may need to be munged to repack the arguments. All
 * active architectures do this inline in the code to dispatch Mach
 * traps, without calling out to the BSD system call mungers.
 */</span>

<span class="enscript-type">struct</span> kern_invalid_args {
	int32_t dummy;
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">kern_invalid</span>(
				<span class="enscript-type">struct</span> kern_invalid_args *args);

<span class="enscript-type">struct</span> mach_reply_port_args {
	int32_t dummy;
};
<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">mach_reply_port</span>(
				<span class="enscript-type">struct</span> mach_reply_port_args *args);

<span class="enscript-type">struct</span> thread_self_trap_args {
	int32_t dummy;
};
<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">thread_self_trap</span>(
				<span class="enscript-type">struct</span> thread_self_trap_args *args);

<span class="enscript-type">struct</span> task_self_trap_args {
	int32_t dummy;
};
<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">task_self_trap</span>(
				<span class="enscript-type">struct</span> task_self_trap_args *args);

<span class="enscript-type">struct</span> host_self_trap_args {
	int32_t dummy;
};
<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">host_self_trap</span>(
				<span class="enscript-type">struct</span> host_self_trap_args *args);

<span class="enscript-type">struct</span> mach_msg_overwrite_trap_args {
	PAD_ARG_(user_addr_t, msg);
	PAD_ARG_(mach_msg_option_t, option);
	PAD_ARG_(mach_msg_size_t, send_size);
	PAD_ARG_(mach_msg_size_t, rcv_size);
	PAD_ARG_(mach_port_name_t, rcv_name);
	PAD_ARG_(mach_msg_timeout_t, timeout);
	PAD_ARG_(mach_port_name_t, notify);
	PAD_ARG_8
	PAD_ARG_(user_addr_t, rcv_msg);  <span class="enscript-comment">/* Unused on mach_msg_trap */</span>
};
<span class="enscript-type">extern</span> mach_msg_return_t <span class="enscript-function-name">mach_msg_trap</span>(
				<span class="enscript-type">struct</span> mach_msg_overwrite_trap_args *args);
<span class="enscript-type">extern</span> mach_msg_return_t <span class="enscript-function-name">mach_msg_overwrite_trap</span>(
				<span class="enscript-type">struct</span> mach_msg_overwrite_trap_args *args);

<span class="enscript-type">struct</span> semaphore_signal_trap_args {
	PAD_ARG_(mach_port_name_t, signal_name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_signal_trap</span>(
				<span class="enscript-type">struct</span> semaphore_signal_trap_args *args);
					      
<span class="enscript-type">struct</span> semaphore_signal_all_trap_args {
	PAD_ARG_(mach_port_name_t, signal_name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_signal_all_trap</span>(
				<span class="enscript-type">struct</span> semaphore_signal_all_trap_args *args);

<span class="enscript-type">struct</span> semaphore_signal_thread_trap_args {
	PAD_ARG_(mach_port_name_t, signal_name);
	PAD_ARG_(mach_port_name_t, thread_name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_signal_thread_trap</span>(
				<span class="enscript-type">struct</span> semaphore_signal_thread_trap_args *args);

<span class="enscript-type">struct</span> semaphore_wait_trap_args {
	PAD_ARG_(mach_port_name_t, wait_name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_wait_trap</span>(
				<span class="enscript-type">struct</span> semaphore_wait_trap_args *args);

<span class="enscript-type">struct</span> semaphore_wait_signal_trap_args {
	PAD_ARG_(mach_port_name_t, wait_name);
	PAD_ARG_(mach_port_name_t, signal_name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_wait_signal_trap</span>(
				<span class="enscript-type">struct</span> semaphore_wait_signal_trap_args *args);

<span class="enscript-type">struct</span> semaphore_timedwait_trap_args {
	PAD_ARG_(mach_port_name_t, wait_name);
	PAD_ARG_(<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>, sec);
	PAD_ARG_(clock_res_t, nsec);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_timedwait_trap</span>(
				<span class="enscript-type">struct</span> semaphore_timedwait_trap_args *args);

<span class="enscript-type">struct</span> semaphore_timedwait_signal_trap_args {
	PAD_ARG_(mach_port_name_t, wait_name);
	PAD_ARG_(mach_port_name_t, signal_name);
	PAD_ARG_(<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>, sec);
	PAD_ARG_(clock_res_t, nsec);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">semaphore_timedwait_signal_trap</span>(
				<span class="enscript-type">struct</span> semaphore_timedwait_signal_trap_args *args);

<span class="enscript-type">struct</span> task_for_pid_args {
	PAD_ARG_(mach_port_name_t, target_tport);
	PAD_ARG_(<span class="enscript-type">int</span>, pid);
	PAD_ARG_(user_addr_t, t);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">task_for_pid</span>(
				<span class="enscript-type">struct</span> task_for_pid_args *args);

<span class="enscript-type">struct</span> task_name_for_pid_args {
	PAD_ARG_(mach_port_name_t, target_tport);
	PAD_ARG_(<span class="enscript-type">int</span>, pid);
	PAD_ARG_(user_addr_t, t);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">task_name_for_pid</span>(
				<span class="enscript-type">struct</span> task_name_for_pid_args *args);

<span class="enscript-type">struct</span> pid_for_task_args {
	PAD_ARG_(mach_port_name_t, t);
	PAD_ARG_(user_addr_t, pid);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">pid_for_task</span>(
				<span class="enscript-type">struct</span> pid_for_task_args *args);

<span class="enscript-type">struct</span> macx_swapon_args {
	PAD_ARG_(uint64_t, filename);
	PAD_ARG_(<span class="enscript-type">int</span>, flags);
	PAD_ARG_(<span class="enscript-type">int</span>, size);
	PAD_ARG_(<span class="enscript-type">int</span>, priority);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_swapon</span>(
				<span class="enscript-type">struct</span> macx_swapon_args *args);

<span class="enscript-type">struct</span> macx_swapoff_args {
    PAD_ARG_(uint64_t, filename);
    PAD_ARG_(<span class="enscript-type">int</span>, flags);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_swapoff</span>(
				<span class="enscript-type">struct</span> macx_swapoff_args *args);

<span class="enscript-type">struct</span> macx_triggers_args {
	PAD_ARG_(<span class="enscript-type">int</span>, hi_water);
	PAD_ARG_(<span class="enscript-type">int</span>, low_water);
	PAD_ARG_(<span class="enscript-type">int</span>, flags);
	PAD_ARG_(mach_port_t, alert_port);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_triggers</span>(
				<span class="enscript-type">struct</span> macx_triggers_args *args);

<span class="enscript-type">struct</span> macx_backing_store_suspend_args {
	PAD_ARG_(boolean_t, suspend);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_backing_store_suspend</span>(
				<span class="enscript-type">struct</span> macx_backing_store_suspend_args *args);

<span class="enscript-type">struct</span> macx_backing_store_recovery_args {
	PAD_ARG_(<span class="enscript-type">int</span>, pid);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">macx_backing_store_recovery</span>(
				<span class="enscript-type">struct</span> macx_backing_store_recovery_args *args);

<span class="enscript-type">struct</span> swtch_pri_args {
	PAD_ARG_(<span class="enscript-type">int</span>, pri);
};
<span class="enscript-type">extern</span> boolean_t <span class="enscript-function-name">swtch_pri</span>(
				<span class="enscript-type">struct</span> swtch_pri_args *args);

<span class="enscript-type">struct</span> pfz_exit_args {
	int32_t dummy;
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">pfz_exit</span>(
				<span class="enscript-type">struct</span> pfz_exit_args *args);

<span class="enscript-type">struct</span> swtch_args {
    int32_t dummy;
};
<span class="enscript-type">extern</span> boolean_t <span class="enscript-function-name">swtch</span>(
				<span class="enscript-type">struct</span> swtch_args *args);

<span class="enscript-type">struct</span> clock_sleep_trap_args{
	PAD_ARG_(mach_port_name_t, clock_name);
	PAD_ARG_(sleep_type_t, sleep_type);
	PAD_ARG_(<span class="enscript-type">int</span>, sleep_sec);
	PAD_ARG_(<span class="enscript-type">int</span>, sleep_nsec);
	PAD_ARG_(user_addr_t, wakeup_time);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">clock_sleep_trap</span>(
				<span class="enscript-type">struct</span> clock_sleep_trap_args *args);

<span class="enscript-type">struct</span> thread_switch_args {
	PAD_ARG_(mach_port_name_t, thread_name);
	PAD_ARG_(<span class="enscript-type">int</span>, option);
	PAD_ARG_(mach_msg_timeout_t, option_time);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">thread_switch</span>(
				<span class="enscript-type">struct</span> thread_switch_args *args);

<span class="enscript-type">struct</span> mach_timebase_info_trap_args {
	PAD_ARG_(user_addr_t, info);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">mach_timebase_info_trap</span>(
				<span class="enscript-type">struct</span> mach_timebase_info_trap_args *args);

<span class="enscript-type">struct</span> mach_wait_until_trap_args {
	PAD_ARG_(uint64_t, deadline);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">mach_wait_until_trap</span>(
				<span class="enscript-type">struct</span> mach_wait_until_trap_args *args);

<span class="enscript-type">struct</span> mk_timer_create_trap_args {
    int32_t dummy;
};
<span class="enscript-type">extern</span> mach_port_name_t <span class="enscript-function-name">mk_timer_create_trap</span>(
				<span class="enscript-type">struct</span> mk_timer_create_trap_args *args);

<span class="enscript-type">struct</span> mk_timer_destroy_trap_args {
	PAD_ARG_(mach_port_name_t, name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">mk_timer_destroy_trap</span>(
				<span class="enscript-type">struct</span> mk_timer_destroy_trap_args *args);

<span class="enscript-type">struct</span> mk_timer_arm_trap_args {
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(uint64_t, expire_time);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">mk_timer_arm_trap</span>(
				<span class="enscript-type">struct</span> mk_timer_arm_trap_args *args);

<span class="enscript-type">struct</span> mk_timer_cancel_trap_args {
    PAD_ARG_(mach_port_name_t, name);
    PAD_ARG_(user_addr_t, result_time);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">mk_timer_cancel_trap</span>(
				<span class="enscript-type">struct</span> mk_timer_cancel_trap_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_vm_allocate_trap_args {
	PAD_ARG_(mach_port_name_t, target);	<span class="enscript-comment">/* 1 word */</span>
	PAD_ARG_(user_addr_t, addr);		<span class="enscript-comment">/* 1 word */</span>
	PAD_ARG_(mach_vm_size_t, size);		<span class="enscript-comment">/* 2 words */</span>
	PAD_ARG_(<span class="enscript-type">int</span>, flags);			<span class="enscript-comment">/* 1 word */</span>
};						<span class="enscript-comment">/* Total: 5 */</span>

<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_allocate_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_vm_allocate_trap_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_vm_deallocate_args {
	PAD_ARG_(mach_port_name_t, target);	<span class="enscript-comment">/* 1 word */</span>
	PAD_ARG_(mach_vm_address_t, address);	<span class="enscript-comment">/* 2 words */</span>
	PAD_ARG_(mach_vm_size_t, size);		<span class="enscript-comment">/* 2 words */</span>
};						<span class="enscript-comment">/* Total: 5 */</span>
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_deallocate_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_vm_deallocate_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_vm_protect_args {
	PAD_ARG_(mach_port_name_t, target);	<span class="enscript-comment">/* 1 word */</span>
	PAD_ARG_(mach_vm_address_t, address);	<span class="enscript-comment">/* 2 words */</span>
	PAD_ARG_(mach_vm_size_t, size);		<span class="enscript-comment">/* 2 words */</span>
	PAD_ARG_(boolean_t, set_maximum);	<span class="enscript-comment">/* 1 word */</span>
	PAD_ARG_(vm_prot_t, new_protection);	<span class="enscript-comment">/* 1 word */</span>
};						<span class="enscript-comment">/* Total: 7 */</span>
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_protect_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_vm_protect_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_vm_map_trap_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(user_addr_t, addr);
	PAD_ARG_(mach_vm_size_t, size);
	PAD_ARG_(mach_vm_offset_t, mask);
	PAD_ARG_(<span class="enscript-type">int</span>, flags);
	PAD_ARG_8
	PAD_ARG_(vm_prot_t, cur_protection);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_vm_map_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_vm_map_trap_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_allocate_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_right_t, right);
	PAD_ARG_(user_addr_t, name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_allocate_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_allocate_args *args);


<span class="enscript-type">struct</span> _kernelrpc_mach_port_destroy_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_destroy_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_destroy_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_deallocate_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_deallocate_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_deallocate_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_mod_refs_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(mach_port_right_t, right);
	PAD_ARG_(mach_port_delta_t, delta);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_mod_refs_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_mod_refs_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_move_member_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, member);
	PAD_ARG_(mach_port_name_t, after);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_move_member_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_move_member_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_insert_right_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(mach_port_name_t, poly);
	PAD_ARG_(mach_msg_type_name_t, polyPoly);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_insert_right_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_insert_right_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_insert_member_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(mach_port_name_t, pset);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_insert_member_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_insert_member_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_extract_member_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(mach_port_name_t, pset);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_extract_member_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_extract_member_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_construct_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(user_addr_t, options);
	PAD_ARG_(uint64_t, context);
	PAD_ARG_(user_addr_t, name);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_construct_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_construct_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_destruct_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(mach_port_delta_t, srdelta);
	PAD_ARG_(uint64_t, guard);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_destruct_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_destruct_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_guard_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(uint64_t, guard);
	PAD_ARG_(boolean_t, strict);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_guard_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_guard_args *args);

<span class="enscript-type">struct</span> _kernelrpc_mach_port_unguard_args {
	PAD_ARG_(mach_port_name_t, target);
	PAD_ARG_(mach_port_name_t, name);
	PAD_ARG_(uint64_t, guard);
};
<span class="enscript-type">extern</span> kern_return_t <span class="enscript-function-name">_kernelrpc_mach_port_unguard_trap</span>(
				<span class="enscript-type">struct</span> _kernelrpc_mach_port_unguard_args *args);


<span class="enscript-comment">/* not published to LP64 clients yet */</span>
<span class="enscript-type">struct</span> iokit_user_client_trap_args {
	PAD_ARG_(<span class="enscript-type">void</span> *, userClientRef);
	PAD_ARG_(uint32_t, index);
	PAD_ARG_(<span class="enscript-type">void</span> *, p1);
	PAD_ARG_(<span class="enscript-type">void</span> *, p2);
	PAD_ARG_(<span class="enscript-type">void</span> *, p3);
	PAD_ARG_(<span class="enscript-type">void</span> *, p4);
	PAD_ARG_(<span class="enscript-type">void</span> *, p5);
    	PAD_ARG_8
	PAD_ARG_(<span class="enscript-type">void</span> *, p6);
};
kern_return_t <span class="enscript-function-name">iokit_user_client_trap</span>(
				<span class="enscript-type">struct</span> iokit_user_client_trap_args *args);

#<span class="enscript-reference">undef</span> <span class="enscript-variable-name">PAD_</span>
#<span class="enscript-reference">undef</span> <span class="enscript-variable-name">PADL_</span>
#<span class="enscript-reference">undef</span> <span class="enscript-variable-name">PADR_</span>
#<span class="enscript-reference">undef</span> <span class="enscript-variable-name">PAD_ARG_</span>
#<span class="enscript-reference">undef</span> <span class="enscript-variable-name">PAD_ARG_8</span>

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* XNU_KERNEL_PRIVATE */</span>

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* KERNEL */</span>

__END_DECLS

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* _MACH_MACH_TRAPS_H_ */</span>
</pre>
<hr />
</body></html>