<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>resource.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">resource.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2008 Apple Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/* Copyright (c) 1995 NeXT Computer, Inc. All Rights Reserved */</span>
<span class="enscript-comment">/*
 * Copyright (c) 1982, 1986, 1993
 *	The Regents of the University of California.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the University of
 *	California, Berkeley and its contributors.
 * 4. Neither the name of the University nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 *	@(#)resource.h	8.2 (Berkeley) 1/4/94
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_SYS_RESOURCE_H_</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">_SYS_RESOURCE_H_</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/appleapiopts.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/cdefs.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/_types.h&gt;</span>

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;stdint.h&gt;</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;Availability.h&gt;</span>
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/* [XSI] The timeval structure shall be defined as described in
 * &lt;sys/time.h&gt;
 */</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/_types/_timeval.h&gt;</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/_types/_user32_timeval.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/_types/_user64_timeval.h&gt;</span>
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/* The id_t type shall be defined as described in &lt;sys/types.h&gt; */</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/_types/_id_t.h&gt;</span>


<span class="enscript-comment">/*
 * Resource limit type (low 63 bits, excluding the sign bit)
 */</span>
<span class="enscript-type">typedef</span> __uint64_t	rlim_t;


<span class="enscript-comment">/*****
 * PRIORITY
 */</span>

<span class="enscript-comment">/*
 * Possible values of the first parameter to getpriority()/setpriority(),
 * used to indicate the type of the second parameter.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">PRIO_PROCESS</span>	0		<span class="enscript-comment">/* Second argument is a PID */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">PRIO_PGRP</span>	1		<span class="enscript-comment">/* Second argument is a GID */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">PRIO_USER</span>	2		<span class="enscript-comment">/* Second argument is a UID */</span>

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">PRIO_DARWIN_THREAD</span>	3		<span class="enscript-comment">/* Second argument is always 0 (current thread) */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">PRIO_DARWIN_PROCESS</span>	4		<span class="enscript-comment">/* Second argument is a PID */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_GPU</span>		5		<span class="enscript-comment">/* Second argument is a PID */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_GPU_ALLOW</span>   0x1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_GPU_DENY</span>    0x2

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_ROLE</span>        6               <span class="enscript-comment">/* Second argument is a PID */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_ROLE_DEFAULT</span>        0x0     <span class="enscript-comment">/* Reset to default state */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_ROLE_UI_FOCAL</span>       0x1     <span class="enscript-comment">/* On  screen,     focal UI */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_ROLE_UI</span>             0x2     <span class="enscript-comment">/* On  screen UI,  focal unknown */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_ROLE_NON_UI</span>         0x3     <span class="enscript-comment">/* Off screen, non-focal UI */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_ROLE_UI_NON_FOCAL</span>   0x4     <span class="enscript-comment">/* On  screen, non-focal UI */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_ROLE_TAL_LAUNCH</span>     0x5     <span class="enscript-comment">/* Throttled-launch (for OS X TAL resume) */</span>

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* PRIVATE */</span>

<span class="enscript-comment">/*
 * Range limitations for the value of the third parameter to setpriority().
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">PRIO_MIN</span>	-20
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">PRIO_MAX</span>	20

<span class="enscript-comment">/* 
 * use PRIO_DARWIN_BG to set the current thread into &quot;background&quot; state
 * which lowers CPU, disk IO, and networking priorites until thread terminates
 * or &quot;background&quot; state is revoked
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_BG</span> 0x1000

<span class="enscript-comment">/*
 * use PRIO_DARWIN_NONUI to restrict a process's ability to make calls to
 * the GPU. (deprecated)
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PRIO_DARWIN_NONUI</span> 0x1001

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>



<span class="enscript-comment">/*****
 * RESOURCE USAGE
 */</span>

<span class="enscript-comment">/*
 * Possible values of the first parameter to getrusage(), used to indicate
 * the scope of the information to be returned.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RUSAGE_SELF</span>	0		<span class="enscript-comment">/* Current process information */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RUSAGE_CHILDREN</span>	-1		<span class="enscript-comment">/* Current process' children */</span>

<span class="enscript-comment">/*
 * A structure representing an accounting of resource utilization.  The
 * address of an instance of this structure is the second parameter to
 * getrusage().
 *
 * Note: All values other than ru_utime and ru_stime are implementaiton
 *       defined and subject to change in a future release.  Their use
 *       is discouraged for standards compliant programs.
 */</span>
<span class="enscript-type">struct</span>	rusage {
	<span class="enscript-type">struct</span> timeval ru_utime;	<span class="enscript-comment">/* user time used (PL) */</span>
	<span class="enscript-type">struct</span> timeval ru_stime;	<span class="enscript-comment">/* system time used (PL) */</span>
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &lt; <span class="enscript-variable-name">__DARWIN_C_FULL</span>
	<span class="enscript-type">long</span>	ru_opaque[14];		<span class="enscript-comment">/* implementation defined */</span>
#<span class="enscript-reference">else</span>
	<span class="enscript-comment">/*
	 * Informational aliases for source compatibility with programs
	 * that need more information than that provided by standards,
	 * and which do not mind being OS-dependent.
	 */</span>
	<span class="enscript-type">long</span>	ru_maxrss;		<span class="enscript-comment">/* max resident set size (PL) */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ru_first</span>	ru_ixrss	<span class="enscript-comment">/* internal: ruadd() range start */</span>
	<span class="enscript-type">long</span>	ru_ixrss;		<span class="enscript-comment">/* integral shared memory size (NU) */</span>
	<span class="enscript-type">long</span>	ru_idrss;		<span class="enscript-comment">/* integral unshared data (NU)  */</span>
	<span class="enscript-type">long</span>	ru_isrss;		<span class="enscript-comment">/* integral unshared stack (NU) */</span>
	<span class="enscript-type">long</span>	ru_minflt;		<span class="enscript-comment">/* page reclaims (NU) */</span>
	<span class="enscript-type">long</span>	ru_majflt;		<span class="enscript-comment">/* page faults (NU) */</span>
	<span class="enscript-type">long</span>	ru_nswap;		<span class="enscript-comment">/* swaps (NU) */</span>
	<span class="enscript-type">long</span>	ru_inblock;		<span class="enscript-comment">/* block input operations (atomic) */</span>
	<span class="enscript-type">long</span>	ru_oublock;		<span class="enscript-comment">/* block output operations (atomic) */</span>
	<span class="enscript-type">long</span>	ru_msgsnd;		<span class="enscript-comment">/* messages sent (atomic) */</span>
	<span class="enscript-type">long</span>	ru_msgrcv;		<span class="enscript-comment">/* messages received (atomic) */</span>
	<span class="enscript-type">long</span>	ru_nsignals;		<span class="enscript-comment">/* signals received (atomic) */</span>
	<span class="enscript-type">long</span>	ru_nvcsw;		<span class="enscript-comment">/* voluntary context switches (atomic) */</span>
	<span class="enscript-type">long</span>	ru_nivcsw;		<span class="enscript-comment">/* involuntary &quot; */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ru_last</span>		ru_nivcsw	<span class="enscript-comment">/* internal: ruadd() range end */</span>
#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>
};

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
<span class="enscript-comment">/*
 * Flavors for proc_pid_rusage().
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">RUSAGE_INFO_V0</span>	0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">RUSAGE_INFO_V1</span>	1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">RUSAGE_INFO_V2</span>	2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">RUSAGE_INFO_V3</span>	3
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RUSAGE_INFO_CURRENT</span> RUSAGE_INFO_V3

<span class="enscript-type">typedef</span> <span class="enscript-type">void</span> *rusage_info_t;

<span class="enscript-type">struct</span> rusage_info_v0 {
	uint8_t  ri_uuid[16];
	uint64_t ri_user_time;
	uint64_t ri_system_time;
	uint64_t ri_pkg_idle_wkups;
	uint64_t ri_interrupt_wkups;
	uint64_t ri_pageins;
	uint64_t ri_wired_size;
	uint64_t ri_resident_size;	
	uint64_t ri_phys_footprint;
	uint64_t ri_proc_start_abstime;
	uint64_t ri_proc_exit_abstime;
};

<span class="enscript-type">struct</span> rusage_info_v1 {
	uint8_t  ri_uuid[16];
	uint64_t ri_user_time;
	uint64_t ri_system_time;
	uint64_t ri_pkg_idle_wkups;
	uint64_t ri_interrupt_wkups;
	uint64_t ri_pageins;
	uint64_t ri_wired_size;
	uint64_t ri_resident_size;	
	uint64_t ri_phys_footprint;
	uint64_t ri_proc_start_abstime;
	uint64_t ri_proc_exit_abstime;
	uint64_t ri_child_user_time;
	uint64_t ri_child_system_time;
	uint64_t ri_child_pkg_idle_wkups;
	uint64_t ri_child_interrupt_wkups;
	uint64_t ri_child_pageins;
	uint64_t ri_child_elapsed_abstime;
};

<span class="enscript-type">struct</span> rusage_info_v2 {
	uint8_t  ri_uuid[16];
	uint64_t ri_user_time;
	uint64_t ri_system_time;
	uint64_t ri_pkg_idle_wkups;
	uint64_t ri_interrupt_wkups;
	uint64_t ri_pageins;
	uint64_t ri_wired_size;
	uint64_t ri_resident_size;	
	uint64_t ri_phys_footprint;
	uint64_t ri_proc_start_abstime;
	uint64_t ri_proc_exit_abstime;
	uint64_t ri_child_user_time;
	uint64_t ri_child_system_time;
	uint64_t ri_child_pkg_idle_wkups;
	uint64_t ri_child_interrupt_wkups;
	uint64_t ri_child_pageins;
	uint64_t ri_child_elapsed_abstime;
	uint64_t ri_diskio_bytesread;
	uint64_t ri_diskio_byteswritten;
};

<span class="enscript-type">struct</span> rusage_info_v3 {
	uint8_t  ri_uuid[16];
	uint64_t ri_user_time;
	uint64_t ri_system_time;
	uint64_t ri_pkg_idle_wkups;
	uint64_t ri_interrupt_wkups;
	uint64_t ri_pageins;
	uint64_t ri_wired_size;
	uint64_t ri_resident_size;	
	uint64_t ri_phys_footprint;
	uint64_t ri_proc_start_abstime;
	uint64_t ri_proc_exit_abstime;
	uint64_t ri_child_user_time;
	uint64_t ri_child_system_time;
	uint64_t ri_child_pkg_idle_wkups;
	uint64_t ri_child_interrupt_wkups;
	uint64_t ri_child_pageins;
	uint64_t ri_child_elapsed_abstime;
	uint64_t ri_diskio_bytesread;
	uint64_t ri_diskio_byteswritten;
	uint64_t ri_cpu_time_qos_default;
	uint64_t ri_cpu_time_qos_maintenance;
	uint64_t ri_cpu_time_qos_background;
	uint64_t ri_cpu_time_qos_utility;
	uint64_t ri_cpu_time_qos_legacy;
	uint64_t ri_cpu_time_qos_user_initiated;
	uint64_t ri_cpu_time_qos_user_interactive;
	uint64_t ri_billed_system_time;
	uint64_t ri_serviced_system_time;
};

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> rusage_info_v3 rusage_info_current;

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL</span>

<span class="enscript-type">struct</span> rusage_superset {
	<span class="enscript-type">struct</span> rusage 			ru;
	rusage_info_current 	ri;
};

<span class="enscript-type">struct</span> rusage_info_child {
	uint64_t ri_child_user_time;
	uint64_t ri_child_system_time;
	uint64_t ri_child_pkg_idle_wkups;
	uint64_t ri_child_interrupt_wkups;
	uint64_t ri_child_pageins;
	uint64_t ri_child_elapsed_abstime;
};

<span class="enscript-type">struct</span>	user64_rusage {
	<span class="enscript-type">struct</span> user64_timeval ru_utime;	<span class="enscript-comment">/* user time used */</span>
	<span class="enscript-type">struct</span> user64_timeval ru_stime;	<span class="enscript-comment">/* system time used */</span>
	user64_long_t	ru_maxrss;		<span class="enscript-comment">/* max resident set size */</span>
	user64_long_t	ru_ixrss;		<span class="enscript-comment">/* integral shared memory size */</span>
	user64_long_t	ru_idrss;		<span class="enscript-comment">/* integral unshared data &quot; */</span>
	user64_long_t	ru_isrss;		<span class="enscript-comment">/* integral unshared stack &quot; */</span>
	user64_long_t	ru_minflt;		<span class="enscript-comment">/* page reclaims */</span>
	user64_long_t	ru_majflt;		<span class="enscript-comment">/* page faults */</span>
	user64_long_t	ru_nswap;		<span class="enscript-comment">/* swaps */</span>
	user64_long_t	ru_inblock;		<span class="enscript-comment">/* block input operations */</span>
	user64_long_t	ru_oublock;		<span class="enscript-comment">/* block output operations */</span>
	user64_long_t	ru_msgsnd;		<span class="enscript-comment">/* messages sent */</span>
	user64_long_t	ru_msgrcv;		<span class="enscript-comment">/* messages received */</span>
	user64_long_t	ru_nsignals;	<span class="enscript-comment">/* signals received */</span>
	user64_long_t	ru_nvcsw;		<span class="enscript-comment">/* voluntary context switches */</span>
	user64_long_t	ru_nivcsw;		<span class="enscript-comment">/* involuntary &quot; */</span>
};

<span class="enscript-type">struct</span>	user32_rusage {
	<span class="enscript-type">struct</span> user32_timeval ru_utime;	<span class="enscript-comment">/* user time used */</span>
	<span class="enscript-type">struct</span> user32_timeval ru_stime;	<span class="enscript-comment">/* system time used */</span>
	user32_long_t	ru_maxrss;		<span class="enscript-comment">/* max resident set size */</span>
	user32_long_t	ru_ixrss;		<span class="enscript-comment">/* integral shared memory size */</span>
	user32_long_t	ru_idrss;		<span class="enscript-comment">/* integral unshared data &quot; */</span>
	user32_long_t	ru_isrss;		<span class="enscript-comment">/* integral unshared stack &quot; */</span>
	user32_long_t	ru_minflt;		<span class="enscript-comment">/* page reclaims */</span>
	user32_long_t	ru_majflt;		<span class="enscript-comment">/* page faults */</span>
	user32_long_t	ru_nswap;		<span class="enscript-comment">/* swaps */</span>
	user32_long_t	ru_inblock;		<span class="enscript-comment">/* block input operations */</span>
	user32_long_t	ru_oublock;		<span class="enscript-comment">/* block output operations */</span>
	user32_long_t	ru_msgsnd;		<span class="enscript-comment">/* messages sent */</span>
	user32_long_t	ru_msgrcv;		<span class="enscript-comment">/* messages received */</span>
	user32_long_t	ru_nsignals;	<span class="enscript-comment">/* signals received */</span>
	user32_long_t	ru_nvcsw;		<span class="enscript-comment">/* voluntary context switches */</span>
	user32_long_t	ru_nivcsw;		<span class="enscript-comment">/* involuntary &quot; */</span>
};

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL */</span>


<span class="enscript-comment">/*****
 * RESOURCE LIMITS
 */</span>

<span class="enscript-comment">/*
 * Symbolic constants for resource limits; since all limits are representable
 * as a type rlim_t, we are permitted to define RLIM_SAVED_* in terms of
 * RLIM_INFINITY.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIM_INFINITY</span>	(((__uint64_t)1 &lt;&lt; 63) - 1)	<span class="enscript-comment">/* no limit */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIM_SAVED_MAX</span>	RLIM_INFINITY	<span class="enscript-comment">/* Unrepresentable hard limit */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIM_SAVED_CUR</span>	RLIM_INFINITY	<span class="enscript-comment">/* Unrepresentable soft limit */</span>

<span class="enscript-comment">/*
 * Possible values of the first parameter to getrlimit()/setrlimit(), to
 * indicate for which resource the operation is being performed.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_CPU</span>	0		<span class="enscript-comment">/* cpu time per process */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_FSIZE</span>	1		<span class="enscript-comment">/* file size */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_DATA</span>	2		<span class="enscript-comment">/* data segment size */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_STACK</span>	3		<span class="enscript-comment">/* stack size */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_CORE</span>	4		<span class="enscript-comment">/* core file size */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_AS</span>	5		<span class="enscript-comment">/* address space (resident set size) */</span>
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_RSS</span>	RLIMIT_AS	<span class="enscript-comment">/* source compatibility alias */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_MEMLOCK</span>	6		<span class="enscript-comment">/* locked-in-memory address space */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_NPROC</span>	7		<span class="enscript-comment">/* number of processes */</span>
#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_NOFILE</span>	8		<span class="enscript-comment">/* number of open files */</span>
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIM_NLIMITS</span>	9		<span class="enscript-comment">/* total number of resource limits */</span>
#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_RLIMIT_POSIX_FLAG</span>	0x1000	<span class="enscript-comment">/* Set bit for strict POSIX */</span>

<span class="enscript-comment">/*
 * A structure representing a resource limit.  The address of an instance
 * of this structure is the second parameter to getrlimit()/setrlimit().
 */</span>
<span class="enscript-type">struct</span> rlimit {
	rlim_t	rlim_cur;		<span class="enscript-comment">/* current (soft) limit */</span>
	rlim_t	rlim_max;		<span class="enscript-comment">/* maximum value for rlim_cur */</span>
};

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
<span class="enscript-comment">/*
 * proc_rlimit_control()
 *
 * Resource limit flavors
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">RLIMIT_WAKEUPS_MONITOR</span>		0x1 <span class="enscript-comment">/* Configure the wakeups monitor. */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_CPU_USAGE_MONITOR</span>	0x2 <span class="enscript-comment">/* Configure the CPU usage monitor. */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">RLIMIT_THREAD_CPULIMITS</span>		0x3 <span class="enscript-comment">/* Configure a blocking, per-thread, CPU limits. */</span>

<span class="enscript-comment">/*
 * Flags for wakeups monitor control.
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">WAKEMON_ENABLE</span>			0x01
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">WAKEMON_DISABLE</span>			0x02
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">WAKEMON_GET_PARAMS</span>		0x04
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">WAKEMON_SET_DEFAULTS</span>		0x08
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">WAKEMON_MAKE_FATAL</span>		0x10 <span class="enscript-comment">/* Configure the task so that violations are fatal. */</span>
<span class="enscript-comment">/*
 * Flags for CPU usage monitor control.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CPUMON_MAKE_FATAL</span>		0x1000

<span class="enscript-type">struct</span> proc_rlimit_control_wakeupmon {
	uint32_t wm_flags;
	int32_t wm_rate;
};

<span class="enscript-comment">/* I/O type */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_TYPE_DISK</span>	0
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">PRIVATE</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_TYPE_VFS_HFS_CASE_SENSITIVITY</span> 1
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/* scope */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_SCOPE_PROCESS</span>   0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_SCOPE_THREAD</span>    1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_SCOPE_DARWIN_BG</span> 2

<span class="enscript-comment">/* I/O Priority */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_DEFAULT</span>		0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_IMPORTANT</span>		1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_PASSIVE</span>		2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_THROTTLE</span>		3
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_UTILITY</span>		4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_STANDARD</span>		5

<span class="enscript-comment">/* compatibility with older names */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_APPLICATION</span>       IOPOL_STANDARD
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_NORMAL</span>            IOPOL_IMPORTANT

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">PRIVATE</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_VFS_HFS_CASE_SENSITIVITY_DEFAULT</span>	0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IOPOL_VFS_HFS_CASE_SENSITIVITY_FORCE_CASE_SENSITIVE</span>	1
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
<span class="enscript-comment">/*
 * Structures for use in communicating via iopolicysys() between Libc and the
 * kernel.  Not to be used by user programs directly.
 */</span>

<span class="enscript-comment">/*
 * the command to iopolicysys()
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IOPOL_CMD_GET</span>		0x00000001	<span class="enscript-comment">/* Get I/O policy */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IOPOL_CMD_SET</span>		0x00000002	<span class="enscript-comment">/* Set I/O policy */</span>

<span class="enscript-comment">/*
 * Second parameter to iopolicysys()
 */</span>
<span class="enscript-type">struct</span> _iopol_param_t {
	<span class="enscript-type">int</span> iop_scope;	<span class="enscript-comment">/* current process or a thread */</span>
	<span class="enscript-type">int</span> iop_iotype;
	<span class="enscript-type">int</span> iop_policy;
};

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* PRIVATE */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">KERNEL</span>

__BEGIN_DECLS
<span class="enscript-type">int</span>	getpriority(<span class="enscript-type">int</span>, id_t);
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
<span class="enscript-type">int</span>	getiopolicy_np(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) __OSX_AVAILABLE_STARTING(__MAC_10_5, __IPHONE_2_0);
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>
<span class="enscript-type">int</span>	getrlimit(<span class="enscript-type">int</span>, <span class="enscript-type">struct</span> rlimit *) __DARWIN_ALIAS(getrlimit);
<span class="enscript-type">int</span>	getrusage(<span class="enscript-type">int</span>, <span class="enscript-type">struct</span> rusage *);
<span class="enscript-type">int</span>	setpriority(<span class="enscript-type">int</span>, id_t, <span class="enscript-type">int</span>);
#<span class="enscript-reference">if</span> <span class="enscript-variable-name">__DARWIN_C_LEVEL</span> &gt;= <span class="enscript-variable-name">__DARWIN_C_FULL</span>
<span class="enscript-type">int</span>	setiopolicy_np(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) __OSX_AVAILABLE_STARTING(__MAC_10_5, __IPHONE_2_0);
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __DARWIN_C_LEVEL &gt;= __DARWIN_C_FULL */</span>
<span class="enscript-type">int</span>	setrlimit(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> <span class="enscript-type">struct</span> rlimit *) __DARWIN_ALIAS(setrlimit);
__END_DECLS

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* !KERNEL */</span>
#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* !_SYS_RESOURCE_H_ */</span>
</pre>
<hr />
</body></html>