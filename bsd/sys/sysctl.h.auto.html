<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>sysctl.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">sysctl.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2006 Apple Computer, Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/* Copyright (c) 1995 NeXT Computer, Inc. All Rights Reserved */</span>
<span class="enscript-comment">/*
 * Copyright (c) 1989, 1993
 *	The Regents of the University of California.  All rights reserved.
 *
 * This code is derived from software contributed to Berkeley by
 * Mike Karels at Berkeley Software Design, Inc.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the University of
 *	California, Berkeley and its contributors.
 * 4. Neither the name of the University nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 *	@(#)sysctl.h	8.1 (Berkeley) 6/2/93
 */</span>
<span class="enscript-comment">/*
 * NOTICE: This file was modified by SPARTA, Inc. in 2005 to introduce
 * support for mandatory and extensible security protections.  This notice
 * is included in support of clause 2.2 (b) of the Apple Public License,
 * Version 2.0.
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_SYS_SYSCTL_H_</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">_SYS_SYSCTL_H_</span>

<span class="enscript-comment">/*
 * These are for the eproc structure defined below.
 */</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/cdefs.h&gt;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/appleapiopts.h&gt;</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/time.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/ucred.h&gt;</span>
#<span class="enscript-reference">else</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;libkern/sysctl.h&gt;</span>
#<span class="enscript-reference">endif</span>
#<span class="enscript-reference">endif</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/proc.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/vm.h&gt;</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/linker_set.h&gt;</span>
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/*
 * Definitions for sysctl call.  The sysctl call uses a hierarchical name
 * for objects that can be examined or modified.  The name is expressed as
 * a sequence of integers.  Like a file path name, the meaning of each
 * component depends on its place in the hierarchy.  The top-level and kern
 * identifiers are defined here, and other identifiers are defined in the
 * respective subsystem header files.
 */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTL_MAXNAME</span>	12	<span class="enscript-comment">/* largest number of components supported */</span>

<span class="enscript-comment">/*
 * Each subsystem defined by sysctl defines a list of variables
 * for that subsystem. Each name is either a node with further 
 * levels defined below it, or it is a leaf of some particular
 * type given below. Each sysctl level defines a set of name/type
 * pairs to be used by sysctl(1) in manipulating the subsystem.
 *
 * When declaring new sysctl names, use the CTLFLAG_LOCKED flag in the
 * type to indicate that all necessary locking will be handled
 * within the sysctl.
 *
 * Any sysctl defined without CTLFLAG_LOCKED is considered legacy
 * and will be protected by a global mutex.
 *
 * Note:	This is not optimal, so it is best to handle locking
 *		yourself, if you are able to do so.  A simple design
 *		pattern for use to avoid in a single function known
 *		to potentially be in the paging path ot doing a DMA
 *		to physical memory in a user space process is:
 *
 *			lock
 *			perform operation vs. local buffer
 *			unlock
 *			SYSCTL_OUT(rey, local buffer, length)
 *
 *		...this assumes you are not using a deep call graph
 *		or are unable to pass a local buffer address as a
 *		parameter into your deep call graph.
 *
 *		Note that very large user buffers can fail the wire
 *		if to do so would require more physical pages than
 *		are available (the caller will get an ENOMEM error,
 *		see sysctl_mem_hold() for details).
 */</span>
<span class="enscript-type">struct</span> ctlname {
	<span class="enscript-type">char</span>	*ctl_name;	<span class="enscript-comment">/* subsystem name */</span>
	<span class="enscript-type">int</span>	ctl_type;	<span class="enscript-comment">/* type of name */</span>
};

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLTYPE</span>		0xf	<span class="enscript-comment">/* Mask for the type */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTLTYPE_NODE</span>	1	<span class="enscript-comment">/* name is a node */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTLTYPE_INT</span>	2	<span class="enscript-comment">/* name describes an integer */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTLTYPE_STRING</span>	3	<span class="enscript-comment">/* name describes a string */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTLTYPE_QUAD</span>	4	<span class="enscript-comment">/* name describes a 64-bit number */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTLTYPE_OPAQUE</span>	5	<span class="enscript-comment">/* name describes a structure */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTLTYPE_STRUCT</span>	CTLTYPE_OPAQUE	<span class="enscript-comment">/* name describes a structure */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_RD</span>	0x80000000	<span class="enscript-comment">/* Allow reads of variable */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_WR</span>	0x40000000	<span class="enscript-comment">/* Allow writes to the variable */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_RW</span>	(CTLFLAG_RD|CTLFLAG_WR)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_NOLOCK</span>	0x20000000	<span class="enscript-comment">/* XXX Don't Lock */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_ANYBODY</span>	0x10000000	<span class="enscript-comment">/* All users can set this var */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_SECURE</span>	0x08000000	<span class="enscript-comment">/* Permit set only if securelevel&lt;=0 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_MASKED</span>	0x04000000	<span class="enscript-comment">/* deprecated variable, do not display */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_NOAUTO</span>	0x02000000	<span class="enscript-comment">/* do not auto-register */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_KERN</span>	0x01000000	<span class="enscript-comment">/* valid inside the kernel */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_LOCKED</span>	0x00800000	<span class="enscript-comment">/* node will handle locking itself */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTLFLAG_OID2</span>	0x00400000	<span class="enscript-comment">/* struct sysctl_oid has version info */</span>

<span class="enscript-comment">/*
 * USE THIS instead of a hardwired number from the categories below
 * to get dynamically assigned sysctl entries using the linker-set
 * technology. This is the way nearly all new sysctl variables should
 * be implemented.
 *
 * e.g. SYSCTL_INT(_parent, OID_AUTO, name, CTLFLAG_RW, &amp;variable, 0, &quot;&quot;);
 *
 * Note that linker set technology will automatically register all nodes
 * declared like this on kernel initialization, UNLESS they are defined
 * in I/O-Kit. In this case, you have to call sysctl_register_oid()
 * manually - just like in a KEXT.
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">OID_AUTO</span>	(-1)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">OID_AUTO_START</span> 100 <span class="enscript-comment">/* conventional */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">SYSCTL_HANDLER_ARGS</span> (struct sysctl_oid *oidp, void *arg1, int arg2, \
	<span class="enscript-type">struct</span> sysctl_req *req)


<span class="enscript-comment">/*
 * This describes the access space for a sysctl request.  This is needed
 * so that we can use the interface from the kernel or from user-space.
 */</span>
<span class="enscript-type">struct</span> sysctl_req {
	<span class="enscript-type">struct</span> proc	*p;
	<span class="enscript-type">int</span>		lock;
	user_addr_t	oldptr;		<span class="enscript-comment">/* pointer to user supplied buffer */</span>
	size_t		oldlen;		<span class="enscript-comment">/* user buffer length (also returned) */</span>
	size_t		oldidx;		<span class="enscript-comment">/* total data iteratively copied out */</span>
	<span class="enscript-type">int</span>		(*oldfunc)(<span class="enscript-type">struct</span> sysctl_req *, <span class="enscript-type">const</span> <span class="enscript-type">void</span> *, size_t);
	user_addr_t	newptr;		<span class="enscript-comment">/* buffer containing new value */</span>
	size_t		newlen;		<span class="enscript-comment">/* length of new value */</span>
	size_t		newidx;		<span class="enscript-comment">/* total data iteratively copied in */</span>
	<span class="enscript-type">int</span>		(*newfunc)(<span class="enscript-type">struct</span> sysctl_req *, <span class="enscript-type">void</span> *, size_t);
};

<span class="enscript-function-name">SLIST_HEAD</span>(sysctl_oid_list, sysctl_oid);

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">SYSCTL_OID_VERSION</span>	1	<span class="enscript-comment">/* current OID structure version */</span>

<span class="enscript-comment">/*
 * This describes one &quot;oid&quot; in the MIB tree.  Potentially more nodes can
 * be hidden behind it, expanded by the handler.
 *
 * NOTES:	We implement binary comparibility between CTLFLAG_OID2 and
 *		pre-CTLFLAG_OID2 structure in sysctl_register_oid() and in
 *		sysctl_unregister_oid() using the fact that the fields up
 *		to oid_fmt are unchanged, and that the field immediately
 *		following is on an alignment boundary following a pointer
 *		type and is also a pointer.  This lets us get the previous
 *		size of the structure, and the copy-cut-off point, using
 *		the offsetof() language primitive, and these values  are
 *		used in conjunction with the fact that earlier and future
 *		statically compiled sysctl_oid structures are declared via
 *		macros.  This lets us overload the macros so that the addition
 *		of the CTLFLAG_OID2 in newly compiled code containing sysctl
 *		node declarations, subsequently allowing us to to avoid
 *		changing the KPI used for non-static (un)registration in
 *		KEXTs.
 *
 *		This depends on the fact that people declare SYSCTLs,
 *		rather than declaring sysctl_oid structures.  All new code
 *		should avoid declaring struct sysctl_oid's directly without
 *		the macros; the current risk for this is limited to losing
 *		your description field and ending up with a malloc'ed copy,
 *		as if it were a legacy binary static declaration via SYSCTL;
 *		in the future, we may deprecate access to a named structure
 *		type in third party code.  Use the macros, or our code will
 *		end up with compile errors when that happens.
 *
 *		Please try to include a long description of the field in any
 *		new sysctl declarations (all the macros support this).  This
 *		field may be the only human readable documentation your users
 *		get for your sysctl.
 */</span>
<span class="enscript-type">struct</span> sysctl_oid {
	<span class="enscript-type">struct</span> sysctl_oid_list *oid_parent;
	SLIST_ENTRY(sysctl_oid) oid_link;
	<span class="enscript-type">int</span>		oid_number;
	<span class="enscript-type">int</span>		oid_kind;
	<span class="enscript-type">void</span>		*oid_arg1;
	<span class="enscript-type">int</span>		oid_arg2;
	<span class="enscript-type">const</span> <span class="enscript-type">char</span>	*oid_name;
	<span class="enscript-type">int</span> 		(*oid_handler) SYSCTL_HANDLER_ARGS;
	<span class="enscript-type">const</span> <span class="enscript-type">char</span>	*oid_fmt;
	<span class="enscript-type">const</span> <span class="enscript-type">char</span>	*oid_descr; <span class="enscript-comment">/* offsetof() field / long description */</span>
	<span class="enscript-type">int</span>		oid_version;
	<span class="enscript-type">int</span>		oid_refcnt;
};

#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_IN</span>(r, p, l) (r-&gt;newfunc)(r, p, l)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_OUT</span>(r, p, l) (r-&gt;oldfunc)(r, p, l)

<span class="enscript-type">typedef</span> <span class="enscript-function-name">int</span> (* sysctl_handler_t) SYSCTL_HANDLER_ARGS;

__BEGIN_DECLS

<span class="enscript-comment">/* old interface */</span>
<span class="enscript-type">int</span> sysctl_handle_int SYSCTL_HANDLER_ARGS;
<span class="enscript-type">int</span> sysctl_handle_long SYSCTL_HANDLER_ARGS;
<span class="enscript-type">int</span> sysctl_handle_quad SYSCTL_HANDLER_ARGS;
<span class="enscript-type">int</span> sysctl_handle_int2quad SYSCTL_HANDLER_ARGS;
<span class="enscript-type">int</span> sysctl_handle_string SYSCTL_HANDLER_ARGS;
<span class="enscript-type">int</span> sysctl_handle_opaque SYSCTL_HANDLER_ARGS;
<span class="enscript-comment">/* new interface */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">sysctl_io_number</span>(<span class="enscript-type">struct</span> sysctl_req *req, <span class="enscript-type">long</span> <span class="enscript-type">long</span> bigValue, size_t valueSize, <span class="enscript-type">void</span> *pValue, <span class="enscript-type">int</span> *changed);
<span class="enscript-type">int</span> <span class="enscript-function-name">sysctl_io_string</span>(<span class="enscript-type">struct</span> sysctl_req *req, <span class="enscript-type">char</span> *pValue, size_t valueSize, <span class="enscript-type">int</span> trunc, <span class="enscript-type">int</span> *changed);
<span class="enscript-type">int</span> <span class="enscript-function-name">sysctl_io_opaque</span>(<span class="enscript-type">struct</span> sysctl_req *req, <span class="enscript-type">void</span> *pValue, size_t valueSize, <span class="enscript-type">int</span> *changed);

<span class="enscript-comment">/*
 * These functions are used to add/remove an oid from the mib.
 */</span>
<span class="enscript-type">void</span> <span class="enscript-function-name">sysctl_register_oid</span>(<span class="enscript-type">struct</span> sysctl_oid *oidp);
<span class="enscript-type">void</span> <span class="enscript-function-name">sysctl_unregister_oid</span>(<span class="enscript-type">struct</span> sysctl_oid *oidp);

<span class="enscript-comment">/* Not exported */</span>
<span class="enscript-type">void</span> <span class="enscript-function-name">sysctl_register_fixed</span>(<span class="enscript-type">void</span>);

__END_DECLS

<span class="enscript-comment">/* Declare an oid to allow child oids to be added to it. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_DECL</span>(name)					\
	<span class="enscript-type">extern</span> <span class="enscript-type">struct</span> sysctl_oid_list sysctl_##name##_children

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">SYSCTL_LINKER_SET_ENTRY</span> LINKER_SET_ENTRY
#<span class="enscript-reference">else</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_LINKER_SET_ENTRY</span>(a, b)
#<span class="enscript-reference">endif</span>
<span class="enscript-comment">/*
 * Macros to define sysctl entries.  Which to use?  Pure data that are 
 * returned without modification, SYSCTL_&lt;data type&gt; is for you, like
 * SYSCTL_QUAD for a 64-bit value.  When you want to run a handler of your
 * own, SYSCTL_PROC. 
 *
 * parent:	parent in name hierarchy (e.g. _kern for &quot;kern&quot;)
 * nbr:		ID.  Almost certainly OID_AUTO (&quot;pick one for me&quot;) for you.
 * name:	name for this particular item (e.g. &quot;thesysctl&quot; for &quot;kern.thesysctl&quot;)
 * kind/access: Control flags (CTLFLAG_*).  Some notable options include:
 * 			CTLFLAG_ANYBODY: 	non-root users allowed
 * 			CTLFLAG_MASKED:	 	don't show in sysctl listing in userland
 * 			CTLFLAG_LOCKED:		does own locking (no additional protection needed)
 * 			CTLFLAG_KERN:		valid inside kernel (best avoided generally)
 * 			CTLFLAG_WR:		&quot;new&quot; value accepted
 * a1, a2:	entry-data, passed to handler (see specific macros)
 * Format String: Tells &quot;sysctl&quot; tool how to print data from this entry.
 *	 		&quot;A&quot; - string
 *	 		&quot;I&quot; - list of integers. &quot;IU&quot; - list of unsigned integers. space-separated.
 *	 		&quot;-&quot; - do not print
 *	 		&quot;L&quot; - longs, as ints with I
 *			&quot;P&quot; - pointer
 * 			&quot;Q&quot; - quads
 * 			&quot;S&quot;,&quot;T&quot; - clock info, see sysctl.c in system_cmds (you probably don't need this)
 * Description: unused
 */</span>


<span class="enscript-comment">/* This constructs a &quot;raw&quot; MIB oid. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_STRUCT_INIT</span>(parent, nbr, name, kind, a1, a2, handler, fmt, descr) \
	{												\
		&amp;sysctl_##parent##_children, { 0 },			\
		nbr, (<span class="enscript-type">int</span>)(kind|CTLFLAG_OID2), a1, (<span class="enscript-type">int</span>)(a2), #name, handler, fmt, descr, SYSCTL_OID_VERSION, 0 \
	}

#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_OID</span>(parent, nbr, name, kind, a1, a2, handler, fmt, descr) \
	<span class="enscript-type">struct</span> sysctl_oid sysctl_##parent##_##name = SYSCTL_STRUCT_INIT(parent, nbr, name, kind, a1, a2, handler, fmt, descr); \
	SYSCTL_LINKER_SET_ENTRY(__sysctl_set, sysctl_##parent##_##name)

<span class="enscript-comment">/* This constructs a node from which other oids can hang. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_NODE</span>(parent, nbr, name, access, handler, descr)		    \
	<span class="enscript-type">struct</span> sysctl_oid_list sysctl_##parent##_##name##_children;	    \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_NODE|access,		    \
		   (<span class="enscript-type">void</span>*)&amp;sysctl_##parent##_##name##_children, 0, handler, \
		   <span class="enscript-string">&quot;N&quot;</span>, descr);

<span class="enscript-comment">/* Oid for a string.  len can be 0 to indicate '\0' termination. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_STRING</span>(parent, nbr, name, access, arg, len, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_STRING|access, \
		arg, len, sysctl_handle_string, <span class="enscript-string">&quot;A&quot;</span>, descr)

#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_COMPAT_INT</span>(parent, nbr, name, access, ptr, val, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_INT|access, \
               ptr, val, sysctl_handle_int, <span class="enscript-string">&quot;I&quot;</span>, descr)

#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_COMPAT_UINT</span>(parent, nbr, name, access, ptr, val, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_INT|access, \
		ptr, val, sysctl_handle_int, <span class="enscript-string">&quot;IU&quot;</span>, descr)

<span class="enscript-comment">/* Oid for an int.  If ptr is NULL, val is returned. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_INT</span>(parent, nbr, name, access, ptr, val, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_INT|access, \
               ptr, val, sysctl_handle_int, <span class="enscript-string">&quot;I&quot;</span>, descr); \
	<span class="enscript-type">typedef</span> <span class="enscript-type">char</span> _sysctl_##parent##_##name##_size_check[(__builtin_constant_p(ptr) || <span class="enscript-keyword">sizeof</span>(*(ptr)) == <span class="enscript-keyword">sizeof</span>(<span class="enscript-type">int</span>)) ? 0 : -1];

<span class="enscript-comment">/* Oid for an unsigned int.  If ptr is NULL, val is returned. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_UINT</span>(parent, nbr, name, access, ptr, val, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_INT|access, \
		ptr, val, sysctl_handle_int, <span class="enscript-string">&quot;IU&quot;</span>, descr); \
	<span class="enscript-type">typedef</span> <span class="enscript-type">char</span> _sysctl_##parent##_##name##_size_check[(__builtin_constant_p(ptr) || <span class="enscript-keyword">sizeof</span>(*(ptr)) == <span class="enscript-keyword">sizeof</span>(<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>)) ? 0 : -1];

<span class="enscript-comment">/* Oid for a long.  The pointer must be non NULL. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_LONG</span>(parent, nbr, name, access, ptr, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_INT|access, \
		ptr, 0, sysctl_handle_long, <span class="enscript-string">&quot;L&quot;</span>, descr); \
	<span class="enscript-type">typedef</span> <span class="enscript-type">char</span> _sysctl_##parent##_##name##_size_check[(__builtin_constant_p(ptr) || <span class="enscript-keyword">sizeof</span>(*(ptr)) == <span class="enscript-keyword">sizeof</span>(<span class="enscript-type">long</span>)) ? 0 : -1];

<span class="enscript-comment">/* Oid for a quad.  The pointer must be non NULL. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_QUAD</span>(parent, nbr, name, access, ptr, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_QUAD|access, \
		ptr, 0, sysctl_handle_quad, <span class="enscript-string">&quot;Q&quot;</span>, descr); \
	<span class="enscript-type">typedef</span> <span class="enscript-type">char</span> _sysctl_##parent##_##name##_size_check[(__builtin_constant_p(ptr) || <span class="enscript-keyword">sizeof</span>(*(ptr)) == <span class="enscript-keyword">sizeof</span>(<span class="enscript-type">long</span> <span class="enscript-type">long</span>)) ? 0 : -1];

<span class="enscript-comment">/* Oid for an opaque object.  Specified by a pointer and a length. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_OPAQUE</span>(parent, nbr, name, access, ptr, len, fmt, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_OPAQUE|access, \
		ptr, len, sysctl_handle_opaque, fmt, descr)

<span class="enscript-comment">/* Oid for a struct.  Specified by a pointer and a type. */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_STRUCT</span>(parent, nbr, name, access, ptr, type, descr) \
	SYSCTL_OID(parent, nbr, name, CTLTYPE_OPAQUE|access, \
		ptr, <span class="enscript-keyword">sizeof</span>(<span class="enscript-type">struct</span> type), sysctl_handle_opaque, \
		<span class="enscript-string">&quot;S,&quot;</span> #type, descr)

<span class="enscript-comment">/* 
 * Oid for a procedure.  Specified by a pointer and an arg.
 * CTLTYPE_* macros can determine how the &quot;sysctl&quot; tool deals with
 * input (e.g. converting to int).
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">SYSCTL_PROC</span>(parent, nbr, name, access, ptr, arg, handler, fmt, descr) \
	SYSCTL_OID(parent, nbr, name, access, \
		ptr, arg, handler, fmt, descr)
		
		
<span class="enscript-type">extern</span> <span class="enscript-type">struct</span> sysctl_oid_list sysctl__children;
<span class="enscript-function-name">SYSCTL_DECL</span>(_kern);
<span class="enscript-function-name">SYSCTL_DECL</span>(_sysctl);
<span class="enscript-function-name">SYSCTL_DECL</span>(_vm);
<span class="enscript-function-name">SYSCTL_DECL</span>(_vfs);
<span class="enscript-function-name">SYSCTL_DECL</span>(_net);
<span class="enscript-function-name">SYSCTL_DECL</span>(_debug);
<span class="enscript-function-name">SYSCTL_DECL</span>(_hw);
<span class="enscript-function-name">SYSCTL_DECL</span>(_machdep);
<span class="enscript-function-name">SYSCTL_DECL</span>(_user);

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">SYSCTL_DEF_ENABLED</span>
#<span class="enscript-reference">else</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">SYSCTL_DEF_ENABLED</span>
#<span class="enscript-reference">endif</span>
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">SYSCTL_DEF_ENABLED</span>
<span class="enscript-comment">/*
 * Top-level identifiers
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_UNSPEC</span>	0		<span class="enscript-comment">/* unused */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_KERN</span>	1		<span class="enscript-comment">/* &quot;high kernel&quot;: proc, limits */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_VM</span>		2		<span class="enscript-comment">/* virtual memory */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_VFS</span>		3		<span class="enscript-comment">/* file system, mount type is next */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_NET</span>		4		<span class="enscript-comment">/* network, see socket.h */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_DEBUG</span>	5		<span class="enscript-comment">/* debugging parameters */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_HW</span>		6		<span class="enscript-comment">/* generic cpu/io */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_MACHDEP</span>	7		<span class="enscript-comment">/* machine dependent */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_USER</span>	8		<span class="enscript-comment">/* user-level */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_MAXID</span>	9		<span class="enscript-comment">/* number of valid top-level ids */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTL_NAMES</span> { \
	{ 0, 0 }, \
	{ <span class="enscript-string">&quot;kern&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;vm&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;vfs&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;net&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;debug&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;hw&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;machdep&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;user&quot;</span>, CTLTYPE_NODE }, \
}

<span class="enscript-comment">/*
 * CTL_KERN identifiers
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_OSTYPE</span>	 	 1	<span class="enscript-comment">/* string: system version */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_OSRELEASE</span>	 	 2	<span class="enscript-comment">/* string: system release */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_OSREV</span>	 	 3	<span class="enscript-comment">/* int: system revision */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_VERSION</span>	 	 4	<span class="enscript-comment">/* string: compile time info */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_MAXVNODES</span>	 	 5	<span class="enscript-comment">/* int: max vnodes */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_MAXPROC</span>	 	 6	<span class="enscript-comment">/* int: max processes */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_MAXFILES</span>	 	 7	<span class="enscript-comment">/* int: max open files */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_ARGMAX</span>	 	 8	<span class="enscript-comment">/* int: max arguments to exec */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_SECURELVL</span>	 	 9	<span class="enscript-comment">/* int: system security level */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_HOSTNAME</span>		10	<span class="enscript-comment">/* string: hostname */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_HOSTID</span>		11	<span class="enscript-comment">/* int: host identifier */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_CLOCKRATE</span>		12	<span class="enscript-comment">/* struct: struct clockrate */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_VNODE</span>		13	<span class="enscript-comment">/* struct: vnode structures */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC</span>		14	<span class="enscript-comment">/* struct: process entries */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_FILE</span>		15	<span class="enscript-comment">/* struct: file entries */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROF</span>		16	<span class="enscript-comment">/* node: kernel profiling info */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_POSIX1</span>		17	<span class="enscript-comment">/* int: POSIX.1 version */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_NGROUPS</span>		18	<span class="enscript-comment">/* int: # of supplemental group ids */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_JOB_CONTROL</span>	19	<span class="enscript-comment">/* int: is job control available */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_SAVED_IDS</span>		20	<span class="enscript-comment">/* int: saved set-user/group-ID */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_BOOTTIME</span>		21	<span class="enscript-comment">/* struct: time kernel was booted */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_NISDOMAINNAME</span>	22	<span class="enscript-comment">/* string: YP domain name */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_DOMAINNAME</span>		KERN_NISDOMAINNAME
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_MAXPARTITIONS</span>	23	<span class="enscript-comment">/* int: number of partitions/disk */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_KDEBUG</span>			24	<span class="enscript-comment">/* int: kernel trace points */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_UPDATEINTERVAL</span>	25	<span class="enscript-comment">/* int: update process sleep time */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_OSRELDATE</span>		26	<span class="enscript-comment">/* int: OS release date */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_NTP_PLL</span>		27	<span class="enscript-comment">/* node: NTP PLL control */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_BOOTFILE</span>		28	<span class="enscript-comment">/* string: name of booted kernel */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_MAXFILESPERPROC</span>	29	<span class="enscript-comment">/* int: max open files per proc */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_MAXPROCPERUID</span> 	30	<span class="enscript-comment">/* int: max processes per uid */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_DUMPDEV</span>		31	<span class="enscript-comment">/* dev_t: device to dump on */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_IPC</span>		32	<span class="enscript-comment">/* node: anything related to IPC */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_DUMMY</span>		33	<span class="enscript-comment">/* unused */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PS_STRINGS</span>	34	<span class="enscript-comment">/* int: address of PS_STRINGS */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_USRSTACK32</span>	35	<span class="enscript-comment">/* int: address of USRSTACK */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_LOGSIGEXIT</span>	36	<span class="enscript-comment">/* int: do we log sigexit procs? */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_SYMFILE</span>		37	<span class="enscript-comment">/* string: kernel symbol filename */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_PROCARGS</span>		38
                             <span class="enscript-comment">/* 39 was KERN_PCSAMPLES... now deprecated */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_NETBOOT</span>		40	<span class="enscript-comment">/* int: are we netbooted? 1=yes,0=no */</span>
                             <span class="enscript-comment">/* 41 was KERN_PANICINFO : panic UI information (deprecated) */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_SYSV</span>		42	<span class="enscript-comment">/* node: System V IPC information */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_AFFINITY</span>		43	<span class="enscript-comment">/* xxx */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_TRANSLATE</span>	   	44	<span class="enscript-comment">/* xxx */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_CLASSIC</span>	   	KERN_TRANSLATE	<span class="enscript-comment">/* XXX backwards compat */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_EXEC</span>		45	<span class="enscript-comment">/* xxx */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_CLASSICHANDLER</span>	KERN_EXEC <span class="enscript-comment">/* XXX backwards compatibility */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_AIOMAX</span>		46	<span class="enscript-comment">/* int: max aio requests */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_AIOPROCMAX</span>		47	<span class="enscript-comment">/* int: max aio requests per process */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_AIOTHREADS</span>		48	<span class="enscript-comment">/* int: max aio worker threads */</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__APPLE_API_UNSTABLE</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROCARGS2</span>		49
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __APPLE_API_UNSTABLE */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_COREFILE</span>		50	<span class="enscript-comment">/* string: corefile format string */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_COREDUMP</span>		51	<span class="enscript-comment">/* int: whether to coredump at all */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_SUGID_COREDUMP</span>	52	<span class="enscript-comment">/* int: whether to dump SUGID cores */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROCDELAYTERM</span>	53	<span class="enscript-comment">/* int: set/reset current proc for delayed termination during shutdown */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_SHREG_PRIVATIZABLE</span>	54	<span class="enscript-comment">/* int: can shared regions be privatized ? */</span>
                             <span class="enscript-comment">/* 55 was KERN_PROC_LOW_PRI_IO... now deprecated */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_LOW_PRI_WINDOW</span>	56	<span class="enscript-comment">/* int: set/reset throttle window - milliseconds */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_LOW_PRI_DELAY</span>	57	<span class="enscript-comment">/* int: set/reset throttle delay - milliseconds */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_POSIX</span>		58	<span class="enscript-comment">/* node: posix tunables */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_USRSTACK64</span>		59	<span class="enscript-comment">/* LP64 user stack query */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_NX_PROTECTION</span>	60	<span class="enscript-comment">/* int: whether no-execute protection is enabled */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_TFP</span> 		61	<span class="enscript-comment">/* Task for pid settings */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROCNAME</span> 		62	<span class="enscript-comment">/* setup process program  name(2*MAXCOMLEN) */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_THALTSTACK</span>		63	<span class="enscript-comment">/* for compat with older x86 and does nothing */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_SPECULATIVE_READS</span>	64	<span class="enscript-comment">/* int: whether speculative reads are disabled */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_OSVERSION</span>		65	<span class="enscript-comment">/* for build number i.e. 9A127 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_SAFEBOOT</span>		66	<span class="enscript-comment">/* are we booted safe? */</span>
			<span class="enscript-comment">/*	67 was KERN_LCTX (login context) */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_RAGEVNODE</span>		68
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_TTY</span>		69	<span class="enscript-comment">/* node: tty settings */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_CHECKOPENEVT</span>       70      <span class="enscript-comment">/* spi: check the VOPENEVT flag on vnodes at open time */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_THREADNAME</span>		71	<span class="enscript-comment">/* set/get thread name */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_MAXID</span>		72	<span class="enscript-comment">/* number of valid kern ids */</span>
<span class="enscript-comment">/*
 * Don't add any more sysctls like this.  Instead, use the SYSCTL_*() macros
 * and OID_AUTO. This will have the added benefit of not having to recompile
 * sysctl(8) to pick up your changes.
 */</span>

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">COUNT_SYSCALLS</span> &amp;&amp; <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">KERNEL</span>) 
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_COUNT_SYSCALLS</span> (KERN_OSTYPE + 1000)	<span class="enscript-comment">/* keep called count for each bsd syscall */</span>
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">if</span> <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">__LP64__</span>)
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_USRSTACK</span> KERN_USRSTACK64
#<span class="enscript-reference">else</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_USRSTACK</span> KERN_USRSTACK32
#<span class="enscript-reference">endif</span>


<span class="enscript-comment">/* KERN_RAGEVNODE types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_RAGE_PROC</span>		1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_RAGE_THREAD</span>	2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_UNRAGE_PROC</span>	3
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_UNRAGE_THREAD</span>	4

<span class="enscript-comment">/* KERN_OPENEVT types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_OPENEVT_PROC</span>     1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_UNOPENEVT_PROC</span>   2

<span class="enscript-comment">/* KERN_TFP types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_TFP_POLICY</span> 		1

<span class="enscript-comment">/* KERN_TFP_POLICY values . All policies allow task port for self */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_TFP_POLICY_DENY</span> 		0 	<span class="enscript-comment">/* Deny Mode: None allowed except privileged */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_TFP_POLICY_DEFAULT</span> 	2	<span class="enscript-comment">/* Default  Mode: related ones allowed and upcall authentication */</span>

<span class="enscript-comment">/* KERN_KDEBUG types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDEFLAGS</span>		1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDDFLAGS</span>		2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDENABLE</span>		3
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDSETBUF</span>		4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDGETBUF</span>		5
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDSETUP</span>		6
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDREMOVE</span>		7
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDSETREG</span>		8
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDGETREG</span>		9
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDREADTR</span>		10
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDPIDTR</span>		11
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDTHRMAP</span>           12
<span class="enscript-comment">/* Don't use 13 as it is overloaded with KERN_VNODE */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDPIDEX</span>            14
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDSETRTCDEC</span>        15
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDGETENTROPY</span>       16		<span class="enscript-comment">/* Obsolescent */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDWRITETR</span>		17
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDWRITEMAP</span>		18
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDENABLE_BG_TRACE</span>	19
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDDISABLE_BG_TRACE</span>	20
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDREADCURTHRMAP</span>	21
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDSET_TYPEFILTER</span>   22
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDBUFWAIT</span>		23
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDCPUMAP</span>		24
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDWAIT_BG_TRACE_RESET</span> 25
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDSET_BG_TYPEFILTER</span>   26
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDWRITEMAP_V3</span>	27
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_KDWRITETR_V3</span>	28

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTL_KERN_NAMES</span> { \
	{ 0, 0 }, \
	{ <span class="enscript-string">&quot;ostype&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;osrelease&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;osrevision&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;version&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;maxvnodes&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;maxproc&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;maxfiles&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;argmax&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;securelevel&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;hostname&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;hostid&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;clockrate&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;vnode&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;proc&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;file&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;profiling&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;posix1version&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;ngroups&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;job_control&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;saved_ids&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;boottime&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;nisdomainname&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;maxpartitions&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;kdebug&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;update&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;osreldate&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;ntp_pll&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;bootfile&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;maxfilesperproc&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;maxprocperuid&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;dumpdev&quot;</span>, CTLTYPE_STRUCT }, <span class="enscript-comment">/* we lie; don't print as int */</span> \
	{ <span class="enscript-string">&quot;ipc&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;usrstack&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;logsigexit&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;symfile&quot;</span>,CTLTYPE_STRING },\
	{ <span class="enscript-string">&quot;procargs&quot;</span>,CTLTYPE_STRUCT },\
        { <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT },		<span class="enscript-comment">/* deprecated pcsamples */</span> \
	{ <span class="enscript-string">&quot;netboot&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT }, 		<span class="enscript-comment">/* deprecated: panicinfo */</span> \
	{ <span class="enscript-string">&quot;sysv&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;exec&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;aiomax&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;aioprocmax&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;aiothreads&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;procargs2&quot;</span>,CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;corefile&quot;</span>,CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;coredump&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;sugid_coredump&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;delayterm&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;shreg_private&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;proc_low_pri_io&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;low_pri_window&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;low_pri_delay&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;usrstack64&quot;</span>, CTLTYPE_QUAD }, \
	{ <span class="enscript-string">&quot;nx&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;tfp&quot;</span>, CTLTYPE_NODE }, \
	{ <span class="enscript-string">&quot;procname&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;threadsigaltstack&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;speculative_reads_disabled&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;osversion&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;safeboot&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT }, 		<span class="enscript-comment">/* deprecated: lctx */</span> \
	{ <span class="enscript-string">&quot;rage_vnode&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;tty&quot;</span>, CTLTYPE_NODE },	\
	{ <span class="enscript-string">&quot;check_openevt&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;thread_name&quot;</span>, CTLTYPE_STRING } \
}

<span class="enscript-comment">/*
 * CTL_VFS identifiers
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTL_VFS_NAMES</span> { \
	{ <span class="enscript-string">&quot;vfsconf&quot;</span>, CTLTYPE_STRUCT } \
}

<span class="enscript-comment">/* 
 * KERN_PROC subtypes
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KERN_PROC_ALL</span>		0	<span class="enscript-comment">/* everything */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC_PID</span>		1	<span class="enscript-comment">/* by process id */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC_PGRP</span>		2	<span class="enscript-comment">/* by process group id */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC_SESSION</span>	3	<span class="enscript-comment">/* by session of pid */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC_TTY</span>		4	<span class="enscript-comment">/* by controlling tty */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC_UID</span>		5	<span class="enscript-comment">/* by effective uid */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC_RUID</span>		6	<span class="enscript-comment">/* by real uid */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KERN_PROC_LCID</span>		7	<span class="enscript-comment">/* by login context id */</span>

#<span class="enscript-reference">if</span> <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>) || !<span class="enscript-reference">defined</span>(<span class="enscript-variable-name">KERNEL</span>) 
<span class="enscript-comment">/* 
 * KERN_PROC subtype ops return arrays of augmented proc structures:
 */</span>

<span class="enscript-type">struct</span> _pcred {
	<span class="enscript-type">char</span>	pc_lock[72];		<span class="enscript-comment">/* opaque content */</span>
	<span class="enscript-type">struct</span>	ucred *pc_ucred;	<span class="enscript-comment">/* Current credentials. */</span>
	uid_t	p_ruid;			<span class="enscript-comment">/* Real user id. */</span>
	uid_t	p_svuid;		<span class="enscript-comment">/* Saved effective user id. */</span>
	gid_t	p_rgid;			<span class="enscript-comment">/* Real group id. */</span>
	gid_t	p_svgid;		<span class="enscript-comment">/* Saved effective group id. */</span>
	<span class="enscript-type">int</span>	p_refcnt;		<span class="enscript-comment">/* Number of references. */</span>
};

<span class="enscript-type">struct</span> _ucred {
	int32_t	cr_ref;			<span class="enscript-comment">/* reference count */</span>
	uid_t	cr_uid;			<span class="enscript-comment">/* effective user id */</span>
	<span class="enscript-type">short</span>	cr_ngroups;		<span class="enscript-comment">/* number of groups */</span>
	gid_t	cr_groups[NGROUPS];	<span class="enscript-comment">/* groups */</span>
};

<span class="enscript-type">struct</span> kinfo_proc {
	<span class="enscript-type">struct</span>	extern_proc kp_proc;			<span class="enscript-comment">/* proc structure */</span>
	<span class="enscript-type">struct</span>	eproc {
		<span class="enscript-type">struct</span>	proc *e_paddr;		<span class="enscript-comment">/* address of proc */</span>
		<span class="enscript-type">struct</span>	session *e_sess;	<span class="enscript-comment">/* session pointer */</span>
		<span class="enscript-type">struct</span>	_pcred e_pcred;		<span class="enscript-comment">/* process credentials */</span>
		<span class="enscript-type">struct</span>	_ucred e_ucred;		<span class="enscript-comment">/* current credentials */</span>
		<span class="enscript-type">struct</span>	 vmspace e_vm;		<span class="enscript-comment">/* address space */</span>
		pid_t	e_ppid;			<span class="enscript-comment">/* parent process id */</span>
		pid_t	e_pgid;			<span class="enscript-comment">/* process group id */</span>
		<span class="enscript-type">short</span>	e_jobc;			<span class="enscript-comment">/* job control counter */</span>
		dev_t	e_tdev;			<span class="enscript-comment">/* controlling tty dev */</span>
		pid_t	e_tpgid;		<span class="enscript-comment">/* tty process group id */</span>
		<span class="enscript-type">struct</span>	session *e_tsess;	<span class="enscript-comment">/* tty session pointer */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">WMESGLEN</span>	7
		<span class="enscript-type">char</span>	e_wmesg[WMESGLEN+1];	<span class="enscript-comment">/* wchan message */</span>
		segsz_t e_xsize;		<span class="enscript-comment">/* text size */</span>
		<span class="enscript-type">short</span>	e_xrssize;		<span class="enscript-comment">/* text rss */</span>
		<span class="enscript-type">short</span>	e_xccount;		<span class="enscript-comment">/* text references */</span>
		<span class="enscript-type">short</span>	e_xswrss;
		int32_t	e_flag;
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">EPROC_CTTY</span>	0x01	<span class="enscript-comment">/* controlling tty vnode active */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">EPROC_SLEADER</span>	0x02	<span class="enscript-comment">/* session leader */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">COMAPT_MAXLOGNAME</span>	12
		<span class="enscript-type">char</span>	e_login[COMAPT_MAXLOGNAME];	<span class="enscript-comment">/* short setlogin() name */</span>
		int32_t	e_spare[4];
	} kp_eproc;
};

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* defined(XNU_KERNEL_PRIVATE) || !defined(KERNEL) */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">BSD_KERNEL_PRIVATE</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/proc_internal.h&gt;</span>

<span class="enscript-comment">/* LP64 version of _pcred.  all pointers 
 * grow when we're dealing with a 64-bit process.
 * WARNING - keep in sync with _pcred
 */</span>

<span class="enscript-type">struct</span> user32_pcred {
	<span class="enscript-type">char</span>	pc_lock[72];		<span class="enscript-comment">/* opaque content */</span>
	user32_addr_t	pc_ucred;	<span class="enscript-comment">/* Current credentials. */</span>
	uid_t	p_ruid;			<span class="enscript-comment">/* Real user id. */</span>
	uid_t	p_svuid;		<span class="enscript-comment">/* Saved effective user id. */</span>
	gid_t	p_rgid;			<span class="enscript-comment">/* Real group id. */</span>
	gid_t	p_svgid;		<span class="enscript-comment">/* Saved effective group id. */</span>
	<span class="enscript-type">int</span>	p_refcnt;		<span class="enscript-comment">/* Number of references. */</span>
};
<span class="enscript-type">struct</span> user64_pcred {
	<span class="enscript-type">char</span>	pc_lock[72];		<span class="enscript-comment">/* opaque content */</span>
	user64_addr_t	pc_ucred;	<span class="enscript-comment">/* Current credentials. */</span>
	uid_t	p_ruid;			<span class="enscript-comment">/* Real user id. */</span>
	uid_t	p_svuid;		<span class="enscript-comment">/* Saved effective user id. */</span>
	gid_t	p_rgid;			<span class="enscript-comment">/* Real group id. */</span>
	gid_t	p_svgid;		<span class="enscript-comment">/* Saved effective group id. */</span>
	<span class="enscript-type">int</span>	p_refcnt;		<span class="enscript-comment">/* Number of references. */</span>
};

<span class="enscript-comment">/* LP64 version of kinfo_proc.  all pointers 
 * grow when we're dealing with a 64-bit process.
 * WARNING - keep in sync with kinfo_proc
 */</span>
<span class="enscript-type">struct</span> user32_kinfo_proc {
	<span class="enscript-type">struct</span>	user32_extern_proc kp_proc;	<span class="enscript-comment">/* proc structure */</span>
	<span class="enscript-type">struct</span>	user32_eproc {
		user32_addr_t e_paddr;		<span class="enscript-comment">/* address of proc */</span>
		user32_addr_t e_sess;			<span class="enscript-comment">/* session pointer */</span>
		<span class="enscript-type">struct</span>	user32_pcred e_pcred;		<span class="enscript-comment">/* process credentials */</span>
		<span class="enscript-type">struct</span>	_ucred e_ucred;		<span class="enscript-comment">/* current credentials */</span>
		<span class="enscript-type">struct</span>	user32_vmspace e_vm; <span class="enscript-comment">/* address space */</span>
		pid_t	e_ppid;			<span class="enscript-comment">/* parent process id */</span>
		pid_t	e_pgid;			<span class="enscript-comment">/* process group id */</span>
		<span class="enscript-type">short</span>	e_jobc;			<span class="enscript-comment">/* job control counter */</span>
		dev_t	e_tdev;			<span class="enscript-comment">/* controlling tty dev */</span>
		pid_t	e_tpgid;		<span class="enscript-comment">/* tty process group id */</span>
		user32_addr_t	e_tsess;	<span class="enscript-comment">/* tty session pointer */</span>
		<span class="enscript-type">char</span>	e_wmesg[WMESGLEN+1];	<span class="enscript-comment">/* wchan message */</span>
		segsz_t e_xsize;		<span class="enscript-comment">/* text size */</span>
		<span class="enscript-type">short</span>	e_xrssize;		<span class="enscript-comment">/* text rss */</span>
		<span class="enscript-type">short</span>	e_xccount;		<span class="enscript-comment">/* text references */</span>
		<span class="enscript-type">short</span>	e_xswrss;
		int32_t	e_flag;
		<span class="enscript-type">char</span>	e_login[COMAPT_MAXLOGNAME];	<span class="enscript-comment">/* short setlogin() name */</span>
		int32_t	e_spare[4];
	} kp_eproc;
};
<span class="enscript-type">struct</span> user64_kinfo_proc {
	<span class="enscript-type">struct</span>	user64_extern_proc kp_proc;	<span class="enscript-comment">/* proc structure */</span>
	<span class="enscript-type">struct</span>	user64_eproc {
		user_addr_t e_paddr;		<span class="enscript-comment">/* address of proc */</span>
		user_addr_t e_sess;			<span class="enscript-comment">/* session pointer */</span>
		<span class="enscript-type">struct</span>	user64_pcred e_pcred;		<span class="enscript-comment">/* process credentials */</span>
		<span class="enscript-type">struct</span>	_ucred e_ucred;		<span class="enscript-comment">/* current credentials */</span>
		<span class="enscript-type">struct</span>	 user_vmspace e_vm; <span class="enscript-comment">/* address space */</span>
		pid_t	e_ppid;			<span class="enscript-comment">/* parent process id */</span>
		pid_t	e_pgid;			<span class="enscript-comment">/* process group id */</span>
		<span class="enscript-type">short</span>	e_jobc;			<span class="enscript-comment">/* job control counter */</span>
		dev_t	e_tdev;			<span class="enscript-comment">/* controlling tty dev */</span>
		pid_t	e_tpgid;		<span class="enscript-comment">/* tty process group id */</span>
		user64_addr_t	e_tsess __attribute((aligned(8)));	<span class="enscript-comment">/* tty session pointer */</span>
		<span class="enscript-type">char</span>	e_wmesg[WMESGLEN+1];	<span class="enscript-comment">/* wchan message */</span>
		segsz_t e_xsize;		<span class="enscript-comment">/* text size */</span>
		<span class="enscript-type">short</span>	e_xrssize;		<span class="enscript-comment">/* text rss */</span>
		<span class="enscript-type">short</span>	e_xccount;		<span class="enscript-comment">/* text references */</span>
		<span class="enscript-type">short</span>	e_xswrss;
		int32_t	e_flag;
		<span class="enscript-type">char</span>	e_login[COMAPT_MAXLOGNAME];	<span class="enscript-comment">/* short setlogin() name */</span>
		int32_t	e_spare[4];
	} kp_eproc;
};

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* BSD_KERNEL_PRIVATE */</span>

<span class="enscript-comment">/*
 * KERN_IPC identifiers
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KIPC_MAXSOCKBUF</span>		1	<span class="enscript-comment">/* int: max size of a socket buffer */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_SOCKBUF_WASTE</span>	2	<span class="enscript-comment">/* int: wastage factor in sockbuf */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_SOMAXCONN</span>		3	<span class="enscript-comment">/* int: max length of connection q */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_MAX_LINKHDR</span>	4	<span class="enscript-comment">/* int: max length of link header */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_MAX_PROTOHDR</span>	5	<span class="enscript-comment">/* int: max length of network header */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_MAX_HDR</span>		6	<span class="enscript-comment">/* int: max total length of headers */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_MAX_DATALEN</span>	7	<span class="enscript-comment">/* int: max length of data? */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_MBSTAT</span>		8	<span class="enscript-comment">/* struct: mbuf usage statistics */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KIPC_NMBCLUSTERS</span>	9	<span class="enscript-comment">/* int: maximum mbuf clusters */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">KIPC_SOQLIMITCOMPAT</span>	10	<span class="enscript-comment">/* int: socket queue limit */</span>

<span class="enscript-comment">/*
 * CTL_VM identifiers
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">VM_METER</span>	1		<span class="enscript-comment">/* struct vmmeter */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">VM_LOADAVG</span>	2		<span class="enscript-comment">/* struct loadavg */</span>
<span class="enscript-comment">/*
 * Note: &quot;3&quot; was skipped sometime ago and should probably remain unused
 * to avoid any new entry from being accepted by older kernels...
 */</span> 
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">VM_MACHFACTOR</span>	4		<span class="enscript-comment">/* struct loadavg with mach factor*/</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">VM_SWAPUSAGE</span>	5		<span class="enscript-comment">/* total swap usage */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">VM_MAXID</span>	6		<span class="enscript-comment">/* number of valid vm ids */</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_VM_NAMES</span> { \
	{ 0, 0 }, \
	{ <span class="enscript-string">&quot;vmmeter&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;loadavg&quot;</span>, CTLTYPE_STRUCT }, \
	{ 0, 0 }, <span class="enscript-comment">/* placeholder for &quot;3&quot; (see comment above) */</span> \
	{ <span class="enscript-string">&quot;dummy&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;swapusage&quot;</span>, CTLTYPE_STRUCT } \
}

<span class="enscript-type">struct</span> xsw_usage {
	u_int64_t	xsu_total;
	u_int64_t	xsu_avail;
	u_int64_t	xsu_used;
	u_int32_t	xsu_pagesize;
	boolean_t	xsu_encrypted;
};

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__APPLE_API_PRIVATE</span>
<span class="enscript-comment">/* Load average structure.  Use of fixpt_t assume &lt;sys/types.h&gt; in scope. */</span>
<span class="enscript-comment">/* XXX perhaps we should protect fixpt_t, and define it here (or discard it) */</span>
<span class="enscript-type">struct</span> loadavg {
	fixpt_t	ldavg[3];
	<span class="enscript-type">long</span>	fscale;
};
<span class="enscript-type">extern</span> <span class="enscript-type">struct</span> loadavg averunnable;
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">LSCALE</span>	1000		<span class="enscript-comment">/* scaling for &quot;fixed point&quot; arithmetic */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">BSD_KERNEL_PRIVATE</span>

<span class="enscript-type">struct</span> user32_loadavg {
	fixpt_t	ldavg[3];
    user32_long_t	fscale;
};

<span class="enscript-type">struct</span> user64_loadavg {
	fixpt_t	ldavg[3];
    user64_long_t	fscale;
};

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* BSD_KERNEL_PRIVATE */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __APPLE_API_PRIVATE */</span>


<span class="enscript-comment">/*
 * CTL_HW identifiers
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_MACHINE</span>	 1		<span class="enscript-comment">/* string: machine class */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_MODEL</span>	 2		<span class="enscript-comment">/* string: specific machine model */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_NCPU</span>		 3		<span class="enscript-comment">/* int: number of cpus */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_BYTEORDER</span>	 4		<span class="enscript-comment">/* int: machine byte order */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_PHYSMEM</span>	 5		<span class="enscript-comment">/* int: total memory */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_USERMEM</span>	 6		<span class="enscript-comment">/* int: non-kernel memory */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_PAGESIZE</span>	 7		<span class="enscript-comment">/* int: software page size */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_DISKNAMES</span>	 8		<span class="enscript-comment">/* strings: disk drive names */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_DISKSTATS</span>	 9		<span class="enscript-comment">/* struct: diskstats[] */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_EPOCH</span>  	10		<span class="enscript-comment">/* int: 0 for Legacy, else NewWorld */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_FLOATINGPT</span>	11		<span class="enscript-comment">/* int: has HW floating point? */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_MACHINE_ARCH</span>	12		<span class="enscript-comment">/* string: machine architecture */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_VECTORUNIT</span>	13		<span class="enscript-comment">/* int: has HW vector unit? */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_BUS_FREQ</span>	14		<span class="enscript-comment">/* int: Bus Frequency */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_CPU_FREQ</span>	15		<span class="enscript-comment">/* int: CPU Frequency */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_CACHELINE</span>	16		<span class="enscript-comment">/* int: Cache Line Size in Bytes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_L1ICACHESIZE</span>	17		<span class="enscript-comment">/* int: L1 I Cache Size in Bytes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_L1DCACHESIZE</span>	18		<span class="enscript-comment">/* int: L1 D Cache Size in Bytes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_L2SETTINGS</span>	19		<span class="enscript-comment">/* int: L2 Cache Settings */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_L2CACHESIZE</span>	20		<span class="enscript-comment">/* int: L2 Cache Size in Bytes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_L3SETTINGS</span>	21		<span class="enscript-comment">/* int: L3 Cache Settings */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_L3CACHESIZE</span>	22		<span class="enscript-comment">/* int: L3 Cache Size in Bytes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_TB_FREQ</span>	23		<span class="enscript-comment">/* int: Bus Frequency */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_MEMSIZE</span>	24		<span class="enscript-comment">/* uint64_t: physical ram size */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HW_AVAILCPU</span>	25		<span class="enscript-comment">/* int: number of available CPUs */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">HW_MAXID</span>	26		<span class="enscript-comment">/* number of valid hw ids */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">CTL_HW_NAMES</span> { \
	{ 0, 0 }, \
	{ <span class="enscript-string">&quot;machine&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;model&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;ncpu&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;byteorder&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;physmem&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;usermem&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;pagesize&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;disknames&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;diskstats&quot;</span>, CTLTYPE_STRUCT }, \
	{ <span class="enscript-string">&quot;epoch&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;floatingpoint&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;machinearch&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;vectorunit&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;busfrequency&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;cpufrequency&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;cachelinesize&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;l1icachesize&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;l1dcachesize&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;l2settings&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;l2cachesize&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;l3settings&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;l3cachesize&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;tbfrequency&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;memsize&quot;</span>, CTLTYPE_QUAD }, \
	{ <span class="enscript-string">&quot;availcpu&quot;</span>, CTLTYPE_INT } \
}

<span class="enscript-comment">/*
 * XXX This information should be moved to the man page.
 *
 * These are the support HW selectors for sysctlbyname.  Parameters that are byte counts or frequencies are 64 bit numbers.
 * All other parameters are 32 bit numbers.
 *
 *   hw.memsize                - The number of bytes of physical memory in the system.
 *
 *   hw.ncpu                   - The maximum number of processors that could be available this boot.
 *                               Use this value for sizing of static per processor arrays; i.e. processor load statistics.
 *
 *   hw.activecpu              - The number of processors currently available for executing threads.
 *                               Use this number to determine the number threads to create in SMP aware applications.
 *                               This number can change when power management modes are changed.
 *
 *   hw.physicalcpu            - The number of physical processors available in the current power management mode.
 *   hw.physicalcpu_max        - The maximum number of physical processors that could be available this boot
 *
 *   hw.logicalcpu             - The number of logical processors available in the current power management mode.
 *   hw.logicalcpu_max         - The maximum number of logical processors that could be available this boot
 *
 *   hw.tbfrequency            - This gives the time base frequency used by the OS and is the basis of all timing services.
 *                               In general is is better to use mach's or higher level timing services, but this value
 *                               is needed to convert the PPC Time Base registers to real time.
 *
 *   hw.cpufrequency           - These values provide the current, min and max cpu frequency.  The min and max are for
 *   hw.cpufrequency_max       - all power management modes.  The current frequency is the max frequency in the current mode.
 *   hw.cpufrequency_min       - All frequencies are in Hz.
 *
 *   hw.busfrequency           - These values provide the current, min and max bus frequency.  The min and max are for
 *   hw.busfrequency_max       - all power management modes.  The current frequency is the max frequency in the current mode.
 *   hw.busfrequency_min       - All frequencies are in Hz.
 *
 *   hw.cputype                - These values provide the mach-o cpu type and subtype.  A complete list is in &lt;mach/machine.h&gt;
 *   hw.cpusubtype             - These values should be used to determine what processor family the running cpu is from so that
 *                               the best binary can be chosen, or the best dynamic code generated.  They should not be used
 *                               to determine if a given processor feature is available.
 *   hw.cputhreadtype          - This value will be present if the processor supports threads.  Like hw.cpusubtype this selector
 *                               should not be used to infer features, and only used to name the processors thread architecture.
 *                               The values are defined in &lt;mach/machine.h&gt;
 *
 *   hw.byteorder              - Gives the byte order of the processor.  4321 for big endian, 1234 for little.
 *
 *   hw.pagesize               - Gives the size in bytes of the pages used by the processor and VM system.
 *
 *   hw.cachelinesize          - Gives the size in bytes of the processor's cache lines.
 *                               This value should be use to control the strides of loops that use cache control instructions
 *                               like dcbz, dcbt or dcbst.
 *
 *   hw.l1dcachesize           - These values provide the size in bytes of the L1, L2 and L3 caches.  If a cache is not present
 *   hw.l1icachesize           - then the selector will return and error.
 *   hw.l2cachesize            -
 *   hw.l3cachesize            -
 *
 *   hw.packages               - Gives the number of processor packages.
 *
 * These are the selectors for optional processor features for specific processors.  Selectors that return errors are not support 
 * on the system.  Supported features will return 1 if they are recommended or 0 if they are supported but are not expected to help .
 * performance.  Future versions of these selectors may return larger values as necessary so it is best to test for non zero.
 *
 * For PowerPC:
 *
 *   hw.optional.floatingpoint - Floating Point Instructions
 *   hw.optional.altivec       - AltiVec Instructions
 *   hw.optional.graphicsops   - Graphics Operations
 *   hw.optional.64bitops      - 64-bit Instructions
 *   hw.optional.fsqrt         - HW Floating Point Square Root Instruction
 *   hw.optional.stfiwx        - Store Floating Point as Integer Word Indexed Instructions
 *   hw.optional.dcba          - Data Cache Block Allocate Instruction
 *   hw.optional.datastreams   - Data Streams Instructions
 *   hw.optional.dcbtstreams   - Data Cache Block Touch Steams Instruction Form
 *
 * For x86 Architecture:
 * 
 *   hw.optional.floatingpoint     - Floating Point Instructions
 *   hw.optional.mmx               - Original MMX vector instructions
 *   hw.optional.sse               - Streaming SIMD Extensions
 *   hw.optional.sse2              - Streaming SIMD Extensions 2
 *   hw.optional.sse3              - Streaming SIMD Extensions 3
 *   hw.optional.supplementalsse3  - Supplemental Streaming SIMD Extensions 3
 *   hw.optional.x86_64            - 64-bit support
 */</span>


<span class="enscript-comment">/*
 * CTL_USER definitions
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_CS_PATH</span>		 1	<span class="enscript-comment">/* string: _CS_PATH */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_BC_BASE_MAX</span>	 2	<span class="enscript-comment">/* int: BC_BASE_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_BC_DIM_MAX</span>		 3	<span class="enscript-comment">/* int: BC_DIM_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_BC_SCALE_MAX</span>	 4	<span class="enscript-comment">/* int: BC_SCALE_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_BC_STRING_MAX</span>	 5	<span class="enscript-comment">/* int: BC_STRING_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_COLL_WEIGHTS_MAX</span>	 6	<span class="enscript-comment">/* int: COLL_WEIGHTS_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_EXPR_NEST_MAX</span>	 7	<span class="enscript-comment">/* int: EXPR_NEST_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_LINE_MAX</span>		 8	<span class="enscript-comment">/* int: LINE_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_RE_DUP_MAX</span>		 9	<span class="enscript-comment">/* int: RE_DUP_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_VERSION</span>	10	<span class="enscript-comment">/* int: POSIX2_VERSION */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_C_BIND</span>	11	<span class="enscript-comment">/* int: POSIX2_C_BIND */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_C_DEV</span>	12	<span class="enscript-comment">/* int: POSIX2_C_DEV */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_CHAR_TERM</span>	13	<span class="enscript-comment">/* int: POSIX2_CHAR_TERM */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_FORT_DEV</span>	14	<span class="enscript-comment">/* int: POSIX2_FORT_DEV */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_FORT_RUN</span>	15	<span class="enscript-comment">/* int: POSIX2_FORT_RUN */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_LOCALEDEF</span>	16	<span class="enscript-comment">/* int: POSIX2_LOCALEDEF */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_SW_DEV</span>	17	<span class="enscript-comment">/* int: POSIX2_SW_DEV */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_POSIX2_UPE</span>		18	<span class="enscript-comment">/* int: POSIX2_UPE */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_STREAM_MAX</span>		19	<span class="enscript-comment">/* int: POSIX2_STREAM_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_TZNAME_MAX</span>		20	<span class="enscript-comment">/* int: POSIX2_TZNAME_MAX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">USER_MAXID</span>		21	<span class="enscript-comment">/* number of valid user ids */</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_USER_NAMES</span> { \
	{ 0, 0 }, \
	{ <span class="enscript-string">&quot;cs_path&quot;</span>, CTLTYPE_STRING }, \
	{ <span class="enscript-string">&quot;bc_base_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;bc_dim_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;bc_scale_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;bc_string_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;coll_weights_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;expr_nest_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;line_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;re_dup_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_version&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_c_bind&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_c_dev&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_char_term&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_fort_dev&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_fort_run&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_localedef&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_sw_dev&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;posix2_upe&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;stream_max&quot;</span>, CTLTYPE_INT }, \
	{ <span class="enscript-string">&quot;tzname_max&quot;</span>, CTLTYPE_INT } \
}



<span class="enscript-comment">/*
 * CTL_DEBUG definitions
 *
 * Second level identifier specifies which debug variable.
 * Third level identifier specifies which stucture component.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_DEBUG_NAME</span>		0	<span class="enscript-comment">/* string: variable name */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_DEBUG_VALUE</span>		1	<span class="enscript-comment">/* int: variable value */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">CTL_DEBUG_MAXID</span>		20


#<span class="enscript-reference">if</span> (<span class="enscript-variable-name">CTL_MAXID</span> != 9) || (<span class="enscript-variable-name">KERN_MAXID</span> != 72) || (<span class="enscript-variable-name">VM_MAXID</span> != 6) || (<span class="enscript-variable-name">HW_MAXID</span> != 26) || (<span class="enscript-variable-name">USER_MAXID</span> != 21) || (<span class="enscript-variable-name">CTL_DEBUG_MAXID</span> != 20)
#<span class="enscript-reference">error</span> <span class="enscript-variable-name">Use</span> <span class="enscript-variable-name">the</span> <span class="enscript-variable-name">SYSCTL_</span>*() <span class="enscript-variable-name">macros</span> <span class="enscript-variable-name">and</span> <span class="enscript-variable-name">OID_AUTO</span> <span class="enscript-variable-name">instead</span>!
#<span class="enscript-reference">endif</span>


#<span class="enscript-reference">ifdef</span>	<span class="enscript-variable-name">KERNEL</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">BSD_KERNEL_PRIVATE</span>
<span class="enscript-type">extern</span> <span class="enscript-type">char</span>	machine[];
<span class="enscript-type">extern</span> <span class="enscript-type">char</span>	osrelease[];
<span class="enscript-type">extern</span> <span class="enscript-type">char</span>	ostype[];
<span class="enscript-type">extern</span> <span class="enscript-type">char</span>	osversion[];

<span class="enscript-type">struct</span> linker_set;

<span class="enscript-type">void</span>	sysctl_register_set(<span class="enscript-type">const</span> <span class="enscript-type">char</span> *set);
<span class="enscript-type">void</span>	sysctl_unregister_set(<span class="enscript-type">const</span> <span class="enscript-type">char</span> *set);
<span class="enscript-type">void</span>	sysctl_mib_init(<span class="enscript-type">void</span>);

<span class="enscript-type">int</span> <span class="enscript-function-name">sysctl_int</span>(user_addr_t, size_t *, user_addr_t, size_t, <span class="enscript-type">int</span> *);
<span class="enscript-type">int</span> <span class="enscript-function-name">sysctl_quad</span>(user_addr_t, size_t *, user_addr_t, size_t, quad_t *);

<span class="enscript-type">void</span> <span class="enscript-function-name">sysctl_register_all</span>(<span class="enscript-type">void</span>);

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* BSD_KERNEL_PRIVATE */</span>
#<span class="enscript-reference">else</span>	<span class="enscript-comment">/* !KERNEL */</span>

__BEGIN_DECLS
<span class="enscript-type">int</span>	sysctl(<span class="enscript-type">int</span> *, u_int, <span class="enscript-type">void</span> *, size_t *, <span class="enscript-type">void</span> *, size_t);
<span class="enscript-type">int</span>	sysctlbyname(<span class="enscript-type">const</span> <span class="enscript-type">char</span> *, <span class="enscript-type">void</span> *, size_t *, <span class="enscript-type">void</span> *, size_t);
<span class="enscript-type">int</span>	sysctlnametomib(<span class="enscript-type">const</span> <span class="enscript-type">char</span> *, <span class="enscript-type">int</span> *, size_t *);
__END_DECLS

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* KERNEL */</span>


#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* SYSCTL_DEF_ENABLED */</span>


#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* !_SYS_SYSCTL_H_ */</span>
</pre>
<hr />
</body></html>