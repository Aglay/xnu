<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>if.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">if.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2015 Apple Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 *
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 *
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 *
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/*
 * Copyright (c) 1982, 1986, 1989, 1993
 *	The Regents of the University of California.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the University of
 *	California, Berkeley and its contributors.
 * 4. Neither the name of the University nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 *	@(#)if.h	8.1 (Berkeley) 6/10/93
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_NET_IF_H_</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">_NET_IF_H_</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/cdefs.h&gt;</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IF_NAMESIZE</span>	16

#<span class="enscript-reference">if</span> !<span class="enscript-reference">defined</span>(<span class="enscript-variable-name">_POSIX_C_SOURCE</span>) || <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">_DARWIN_C_SOURCE</span>)
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/appleapiopts.h&gt;</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__APPLE__</span>
<span class="enscript-comment">/*
 * Define Data-Link event subclass, and associated
 * events.
 */</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_SUBCLASS</span> 2

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_SIFFLAGS</span>				1
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_SIFMETRICS</span>			2
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_SIFMTU</span>				3
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_SIFPHYS</span>				4
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_SIFMEDIA</span>				5
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_SIFGENERIC</span>			6
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_ADDMULTI</span>				7
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_DELMULTI</span>				8
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_IF_ATTACHED</span>			9
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_IF_DETACHING</span>			10
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_IF_DETACHED</span>			11
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_LINK_OFF</span>				12
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_LINK_ON</span>				13
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_PROTO_ATTACHED</span>			14
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_PROTO_DETACHED</span>			15
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_LINK_ADDRESS_CHANGED</span>		16
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_WAKEFLAGS_CHANGED</span>		17
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_IF_IDLE_ROUTE_REFCNT</span>		18
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_IFCAP_CHANGED</span>			19
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_LINK_QUALITY_METRIC_CHANGED</span>	20
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_NODE_PRESENCE</span>			21
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_NODE_ABSENCE</span>			22
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_MASTER_ELECTED</span>			23
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_ISSUES</span>				24
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_IFDELEGATE_CHANGED</span>		25
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_AWDL_RESTRICTED</span>			26
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_AWDL_UNRESTRICTED</span>		27
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">KEV_DL_RRC_STATE_CHANGED</span>		28

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;net/if_var.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/types.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/socket.h&gt;</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;net/if_dl.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;netinet/in.h&gt;</span>
#<span class="enscript-reference">endif</span>
#<span class="enscript-reference">endif</span>

<span class="enscript-type">struct</span> if_clonereq {
	<span class="enscript-type">int</span>	ifcr_total;		<span class="enscript-comment">/* total cloners (out) */</span>
	<span class="enscript-type">int</span>	ifcr_count;		<span class="enscript-comment">/* room for this many in user buffer */</span>
	<span class="enscript-type">char</span>	*ifcr_buffer;		<span class="enscript-comment">/* buffer for cloner names */</span>
};

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL_PRIVATE</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IF_MAXUNIT</span>	0x7fff	<span class="enscript-comment">/* historical value */</span>

<span class="enscript-type">struct</span> if_clonereq64 {
	<span class="enscript-type">int</span>	ifcr_total;		<span class="enscript-comment">/* total cloners (out) */</span>
	<span class="enscript-type">int</span>	ifcr_count;		<span class="enscript-comment">/* room for this many in user buffer */</span>
	user64_addr_t ifcru_buffer	__attribute__((aligned(8)));
};

<span class="enscript-type">struct</span> if_clonereq32 {
	<span class="enscript-type">int</span>	ifcr_total;		<span class="enscript-comment">/* total cloners (out) */</span>
	<span class="enscript-type">int</span>	ifcr_count;		<span class="enscript-comment">/* room for this many in user buffer */</span>
	user32_addr_t ifcru_buffer;
};
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_UP</span>		0x1		<span class="enscript-comment">/* interface is up */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_BROADCAST</span>	0x2		<span class="enscript-comment">/* broadcast address valid */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_DEBUG</span>	0x4		<span class="enscript-comment">/* turn on debugging */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_LOOPBACK</span>	0x8		<span class="enscript-comment">/* is a loopback net */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_POINTOPOINT</span>	0x10		<span class="enscript-comment">/* interface is point-to-point link */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_NOTRAILERS</span>	0x20		<span class="enscript-comment">/* obsolete: avoid use of trailers */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_RUNNING</span>	0x40		<span class="enscript-comment">/* resources allocated */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_NOARP</span>	0x80		<span class="enscript-comment">/* no address resolution protocol */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_PROMISC</span>	0x100		<span class="enscript-comment">/* receive all packets */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_ALLMULTI</span>	0x200		<span class="enscript-comment">/* receive all multicast packets */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_OACTIVE</span>	0x400		<span class="enscript-comment">/* transmission in progress */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_SIMPLEX</span>	0x800		<span class="enscript-comment">/* can't hear own transmissions */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_LINK0</span>	0x1000		<span class="enscript-comment">/* per link layer defined bit */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_LINK1</span>	0x2000		<span class="enscript-comment">/* per link layer defined bit */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_LINK2</span>	0x4000		<span class="enscript-comment">/* per link layer defined bit */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_ALTPHYS</span>	IFF_LINK2	<span class="enscript-comment">/* use alternate physical connection */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_MULTICAST</span>	0x8000		<span class="enscript-comment">/* supports multicast */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
<span class="enscript-comment">/* extended flags definitions:  (all bits reserved for internal/future use) */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_AUTOCONFIGURING</span>	0x00000001	<span class="enscript-comment">/* allow BOOTP/DHCP replies to enter */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_ENQUEUE_MULTI</span>	0x00000002	<span class="enscript-comment">/* enqueue multiple packets at once */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_DELAY_START</span>	0x00000004	<span class="enscript-comment">/* delay start callback */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_PROBE_CONNECTIVITY</span>	0x00000008	<span class="enscript-comment">/* Probe connections going over this interface */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_IPV6_DISABLED</span>	0x00000020	<span class="enscript-comment">/* coupled to ND6_IFF_IFDISABLED */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_ACCEPT_RTADV</span>	0x00000040	<span class="enscript-comment">/* accepts IPv6 RA on the interface */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_TXSTART</span>		0x00000080	<span class="enscript-comment">/* has start callback */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_RXPOLL</span>		0x00000100	<span class="enscript-comment">/* supports opportunistic input poll */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_VLAN</span>		0x00000200	<span class="enscript-comment">/* interface has one or more vlans */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_BOND</span>		0x00000400	<span class="enscript-comment">/* interface is part of bond */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_ARPLL</span>		0x00000800	<span class="enscript-comment">/* ARP for IPv4LL addresses */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_NOWINDOWSCALE</span>	0x00001000	<span class="enscript-comment">/* Don't scale TCP window on iface */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_NOAUTOIPV6LL</span>	0x00002000	<span class="enscript-comment">/* Need explicit IPv6 LL address */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_EXPENSIVE</span>		0x00004000	<span class="enscript-comment">/* Data access has a cost */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_IPV4_ROUTER</span>	0x00008000	<span class="enscript-comment">/* interior when in IPv4 router mode */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_IPV6_ROUTER</span>	0x00010000	<span class="enscript-comment">/* interior when in IPv6 router mode */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_LOCALNET_PRIVATE</span>	0x00020000	<span class="enscript-comment">/* local private network */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_SERVICE_TRIGGERED</span>	IFEF_LOCALNET_PRIVATE
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_IPV6_ND6ALT</span>	0x00040000	<span class="enscript-comment">/* alternative. KPI for ND6 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_RESTRICTED_RECV</span>	0x00080000	<span class="enscript-comment">/* interface restricts inbound pkts */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_AWDL</span>		0x00100000	<span class="enscript-comment">/* Apple Wireless Direct Link */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_NOACKPRI</span>		0x00200000	<span class="enscript-comment">/* No TCP ACK prioritization */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_AWDL_RESTRICTED</span>	0x00400000	<span class="enscript-comment">/* Restricted AWDL mode */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_2KCL</span>		0x00800000	<span class="enscript-comment">/* prefers 2K cluster (socket based tunnel) */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_SENDLIST</span>		0x10000000	<span class="enscript-comment">/* Supports tx packet lists */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_DIRECTLINK</span>		0x20000000	<span class="enscript-comment">/* point-to-point topology */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">_IFEF_INUSE</span>		0x40000000	<span class="enscript-comment">/* deprecated */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_UPDOWNCHANGE</span>	0x80000000	<span class="enscript-comment">/* up/down state is changing */</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
<span class="enscript-comment">/*
 * Current requirements for an AWDL interface.  Setting/clearing IFEF_AWDL
 * will also trigger the setting/clearing of the rest of the flags.  Once
 * IFEF_AWDL is set, the rest of flags cannot be cleared, by definition.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFEF_AWDL_MASK</span> \
	(IFEF_LOCALNET_PRIVATE | IFEF_IPV6_ND6ALT | IFEF_RESTRICTED_RECV | \
	IFEF_AWDL)
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* XNU_KERNEL_PRIVATE */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* PRIVATE */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL_PRIVATE</span>
<span class="enscript-comment">/*
 * !!! NOTE !!!
 *
 * if_idle_flags definitions: (all bits are reserved for internal/future
 * use). Setting these flags MUST be done via the ifnet_set_idle_flags()
 * KPI due to the associated reference counting.  Clearing them may be done by
 * calling the KPI, otherwise implicitly at interface detach time.  Setting
 * the if_idle_flags field to a non-zero value will cause the networking
 * stack to aggressively purge expired objects (routes, etc.)
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRF_IDLE_NOTIFY</span>	0x1	<span class="enscript-comment">/* Generate notifications on idle */</span>

<span class="enscript-comment">/* flags set internally only: */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFF_CANTCHANGE</span> \
	(IFF_BROADCAST|IFF_POINTOPOINT|IFF_RUNNING|IFF_OACTIVE|\
	    IFF_SIMPLEX|IFF_MULTICAST|IFF_ALLMULTI)
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>

<span class="enscript-comment">/*
 * Capabilities that interfaces can advertise.
 *
 * struct ifnet.if_capabilities
 *   contains the optional features &amp; capabilities a particular interface
 *   supports (not only the driver but also the detected hw revision).
 *   Capabilities are defined by IFCAP_* below.
 * struct ifnet.if_capenable
 *   contains the enabled (either by default or through ifconfig) optional
 *   features &amp; capabilities on this interface.
 *   Capabilities are defined by IFCAP_* below.
 * struct if_data.ifi_hwassist in IFNET_* form, defined in net/kpi_interface.h,
 *   contains the enabled optional features &amp; capabilites that can be used
 *   individually per packet and are specified in the mbuf pkthdr.csum_flags
 *   field.  IFCAP_* and IFNET_* do not match one to one and IFNET_* may be
 *   more detailed or differenciated than IFCAP_*.
 *   IFNET_* hwassist flags have corresponding CSUM_* in sys/mbuf.h
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_RXCSUM</span>		0x00001	<span class="enscript-comment">/* can offload checksum on RX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_TXCSUM</span>		0x00002	<span class="enscript-comment">/* can offload checksum on TX */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_VLAN_MTU</span>		0x00004	<span class="enscript-comment">/* VLAN-compatible MTU */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_VLAN_HWTAGGING</span>	0x00008	<span class="enscript-comment">/* hardware VLAN tag support */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_JUMBO_MTU</span>		0x00010	<span class="enscript-comment">/* 9000 byte MTU supported */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_TSO4</span>		0x00020	<span class="enscript-comment">/* can do TCP Segmentation Offload */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_TSO6</span>		0x00040	<span class="enscript-comment">/* can do TCP6 Segmentation Offload */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_LRO</span>		0x00080	<span class="enscript-comment">/* can do Large Receive Offload */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_AV</span>		0x00100	<span class="enscript-comment">/* can do 802.1 AV Bridging */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_TXSTATUS</span>		0x00200	<span class="enscript-comment">/* can return linklevel xmit status */</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_HWCSUM</span>	(IFCAP_RXCSUM | IFCAP_TXCSUM)
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_TSO</span>	(IFCAP_TSO4 | IFCAP_TSO6)

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFCAP_VALID</span> (IFCAP_HWCSUM | IFCAP_TSO | IFCAP_LRO | IFCAP_VLAN_MTU | \
	IFCAP_VLAN_HWTAGGING | IFCAP_JUMBO_MTU | IFCAP_AV | IFCAP_TXSTATUS)

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFQ_MAXLEN</span>	128
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFNET_SLOWHZ</span>	1	<span class="enscript-comment">/* granularity is 1 second */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFQ_TARGET_DELAY</span>	(10ULL * 1000 * 1000)	<span class="enscript-comment">/* 10 ms */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFQ_UPDATE_INTERVAL</span>	(100ULL * 1000 * 1000)	<span class="enscript-comment">/* 100 ms */</span>

<span class="enscript-comment">/*
 * Message format for use in obtaining information about interfaces
 * from sysctl and the routing socket
 */</span>
<span class="enscript-type">struct</span> if_msghdr {
	<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	ifm_msglen;	<span class="enscript-comment">/* to skip non-understood messages */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">char</span>	ifm_version;	<span class="enscript-comment">/* future binary compatability */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">char</span>	ifm_type;	<span class="enscript-comment">/* message type */</span>
	<span class="enscript-type">int</span>		ifm_addrs;	<span class="enscript-comment">/* like rtm_addrs */</span>
	<span class="enscript-type">int</span>		ifm_flags;	<span class="enscript-comment">/* value of if_flags */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	ifm_index;	<span class="enscript-comment">/* index for associated ifp */</span>
	<span class="enscript-type">struct</span>	if_data ifm_data;	<span class="enscript-comment">/* statistics and other data about if */</span>
};

<span class="enscript-comment">/*
 * Message format for use in obtaining information about interface addresses
 * from sysctl and the routing socket
 */</span>
<span class="enscript-type">struct</span> ifa_msghdr {
	<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	ifam_msglen;	<span class="enscript-comment">/* to skip non-understood messages */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">char</span>	ifam_version;	<span class="enscript-comment">/* future binary compatability */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">char</span>	ifam_type;	<span class="enscript-comment">/* message type */</span>
	<span class="enscript-type">int</span>		ifam_addrs;	<span class="enscript-comment">/* like rtm_addrs */</span>
	<span class="enscript-type">int</span>		ifam_flags;	<span class="enscript-comment">/* value of ifa_flags */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	ifam_index;	<span class="enscript-comment">/* index for associated ifp */</span>
	<span class="enscript-type">int</span>		ifam_metric;	<span class="enscript-comment">/* value of ifa_metric */</span>
};

<span class="enscript-comment">/*
 * Message format for use in obtaining information about multicast addresses
 * from the routing socket
 */</span>
<span class="enscript-type">struct</span> ifma_msghdr {
	<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	ifmam_msglen;	<span class="enscript-comment">/* to skip non-understood messages */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">char</span>	ifmam_version;	<span class="enscript-comment">/* future binary compatability */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">char</span>	ifmam_type;	<span class="enscript-comment">/* message type */</span>
	<span class="enscript-type">int</span>		ifmam_addrs;	<span class="enscript-comment">/* like rtm_addrs */</span>
	<span class="enscript-type">int</span>		ifmam_flags;	<span class="enscript-comment">/* value of ifa_flags */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	ifmam_index;	<span class="enscript-comment">/* index for associated ifp */</span>
};

<span class="enscript-comment">/*
 * Message format for use in obtaining information about interfaces
 * from sysctl
 */</span>
<span class="enscript-type">struct</span> if_msghdr2 {
	u_short	ifm_msglen;	<span class="enscript-comment">/* to skip over non-understood messages */</span>
	u_char	ifm_version;	<span class="enscript-comment">/* future binary compatability */</span>
	u_char	ifm_type;	<span class="enscript-comment">/* message type */</span>
	<span class="enscript-type">int</span>	ifm_addrs;	<span class="enscript-comment">/* like rtm_addrs */</span>
	<span class="enscript-type">int</span>	ifm_flags;	<span class="enscript-comment">/* value of if_flags */</span>
	u_short	ifm_index;	<span class="enscript-comment">/* index for associated ifp */</span>
	<span class="enscript-type">int</span>	ifm_snd_len;	<span class="enscript-comment">/* instantaneous length of send queue */</span>
	<span class="enscript-type">int</span>	ifm_snd_maxlen;	<span class="enscript-comment">/* maximum length of send queue */</span>
	<span class="enscript-type">int</span>	ifm_snd_drops;	<span class="enscript-comment">/* number of drops in send queue */</span>
	<span class="enscript-type">int</span>	ifm_timer;	<span class="enscript-comment">/* time until if_watchdog called */</span>
	<span class="enscript-type">struct</span> if_data64	ifm_data;	<span class="enscript-comment">/* statistics and other data */</span>
};

<span class="enscript-comment">/*
 * Message format for use in obtaining information about multicast addresses
 * from sysctl
 */</span>
<span class="enscript-type">struct</span> ifma_msghdr2 {
	u_short	ifmam_msglen;	<span class="enscript-comment">/* to skip over non-understood messages */</span>
	u_char	ifmam_version;	<span class="enscript-comment">/* future binary compatability */</span>
	u_char	ifmam_type;	<span class="enscript-comment">/* message type */</span>
	<span class="enscript-type">int</span>	ifmam_addrs;	<span class="enscript-comment">/* like rtm_addrs */</span>
	<span class="enscript-type">int</span>	ifmam_flags;	<span class="enscript-comment">/* value of ifa_flags */</span>
	u_short	ifmam_index;	<span class="enscript-comment">/* index for associated ifp */</span>
	int32_t ifmam_refcount;
};

<span class="enscript-comment">/*
 * ifdevmtu: interface device mtu
 *    Used with SIOCGIFDEVMTU to get the current mtu in use by the device,
 *    as well as the minimum and maximum mtu allowed by the device.
 */</span>
<span class="enscript-type">struct</span> ifdevmtu {
	<span class="enscript-type">int</span>	ifdm_current;
	<span class="enscript-type">int</span>	ifdm_min;
	<span class="enscript-type">int</span>	ifdm_max;
};

#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>(4)

<span class="enscript-comment">/*
 ifkpi: interface kpi ioctl
 Used with SIOCSIFKPI and SIOCGIFKPI.

 ifk_module_id - From in the kernel, a value from kev_vendor_code_find. From
 	user space, a value from SIOCGKEVVENDOR ioctl on a kernel event socket.
 ifk_type - The type. Types are specific to each module id.
 ifk_data - The data. ifk_ptr may be a 64bit pointer for 64 bit processes.

 Copying data between user space and kernel space is done using copyin
 and copyout. A process may be running in 64bit mode. In such a case,
 the pointer will be a 64bit pointer, not a 32bit pointer. The following
 sample is a safe way to copy the data in to the kernel from either a
 32bit or 64bit process:

 user_addr_t tmp_ptr;
 if (IS_64BIT_PROCESS(current_proc())) {
 	tmp_ptr = CAST_USER_ADDR_T(ifkpi.ifk_data.ifk_ptr64);
 }
 else {
 	tmp_ptr = CAST_USER_ADDR_T(ifkpi.ifk_data.ifk_ptr);
 }
 error = copyin(tmp_ptr, allocated_dst_buffer, size of allocated_dst_buffer);
 */</span>

<span class="enscript-type">struct</span> ifkpi {
	<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	ifk_module_id;
	<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	ifk_type;
	<span class="enscript-type">union</span> {
		<span class="enscript-type">void</span>		*ifk_ptr;
		<span class="enscript-type">int</span>		ifk_value;
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL</span>
		u_int64_t	ifk_ptr64;
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL */</span>
	} ifk_data;
};

<span class="enscript-comment">/* Wake capabilities of a interface */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IF_WAKE_ON_MAGIC_PACKET</span> 	0x01
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL_PRIVATE</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IF_WAKE_VALID_FLAGS</span> IF_WAKE_ON_MAGIC_PACKET
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>


#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>()

<span class="enscript-comment">/*
 * Interface request structure used for socket
 * ioctl's.  All interface ioctl's must have parameter
 * definitions which begin with ifr_name.  The
 * remainder may be interface specific.
 */</span>
<span class="enscript-type">struct</span>	ifreq {
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">IFNAMSIZ</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFNAMSIZ</span>	IF_NAMESIZE
#<span class="enscript-reference">endif</span>
	<span class="enscript-type">char</span>	ifr_name[IFNAMSIZ];		<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	<span class="enscript-type">union</span> {
		<span class="enscript-type">struct</span>	sockaddr ifru_addr;
		<span class="enscript-type">struct</span>	sockaddr ifru_dstaddr;
		<span class="enscript-type">struct</span>	sockaddr ifru_broadaddr;
		<span class="enscript-type">short</span>	ifru_flags;
		<span class="enscript-type">int</span>	ifru_metric;
		<span class="enscript-type">int</span>	ifru_mtu;
		<span class="enscript-type">int</span>	ifru_phys;
		<span class="enscript-type">int</span>	ifru_media;
		<span class="enscript-type">int</span>	ifru_intval;
		caddr_t	ifru_data;
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL_PRIVATE</span>
		u_int64_t ifru_data64;	<span class="enscript-comment">/* 64-bit ifru_data */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>
		<span class="enscript-type">struct</span>	ifdevmtu ifru_devmtu;
		<span class="enscript-type">struct</span>	ifkpi	ifru_kpi;
		u_int32_t ifru_wake_flags;
		u_int32_t ifru_route_refcnt;
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
		<span class="enscript-type">int</span>	ifru_link_quality_metric;
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* PRIVATE */</span>
		<span class="enscript-type">int</span>	ifru_cap[2];
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
		<span class="enscript-type">struct</span> {
			uint32_t	ifo_flags;
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRIFOF_BLOCK_OPPORTUNISTIC</span>	0x00000001
			uint32_t	ifo_inuse;
		} ifru_opportunistic;
		u_int64_t ifru_eflags;
		<span class="enscript-type">struct</span> {
			int32_t		ifl_level;
			uint32_t	ifl_flags;
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRLOGF_DLIL</span>			0x00000001
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRLOGF_FAMILY</span>			0x00010000
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRLOGF_DRIVER</span>			0x01000000
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRLOGF_FIRMWARE</span>		0x10000000
			int32_t		ifl_category;
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRLOGCAT_CONNECTIVITY</span>		1
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRLOGCAT_QUALITY</span>		2
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRLOGCAT_PERFORMANCE</span>		3
			int32_t		ifl_subcategory;
		} ifru_log;
		u_int32_t ifru_delegated;
		<span class="enscript-type">struct</span> {
			uint32_t	ift_type;
			uint32_t	ift_family;
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_ANY</span>		0
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_LOOPBACK</span>		1
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_ETHERNET</span>		2
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_SLIP</span>		3
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_TUN</span>		4
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_VLAN</span>		5
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_PPP</span>		6
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_PVC</span>		7
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_DISC</span>		8
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_MDECAP</span>		9
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_GIF</span>		10
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_FAITH</span>		11
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_STF</span>		12
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_FIREWIRE</span>		13
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_BOND</span>		14
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_FAMILY_CELLULAR</span>		15
			uint32_t	ift_subfamily;
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_SUBFAMILY_ANY</span>		0
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_SUBFAMILY_USB</span>		1
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_SUBFAMILY_BLUETOOTH</span>	2
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_SUBFAMILY_WIFI</span>		3
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_SUBFAMILY_THUNDERBOLT</span>	4
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFRTYPE_SUBFAMILY_RESERVED</span>	5
		} ifru_type;
		u_int32_t ifru_functional_type;
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IFRTYPE_FUNCTIONAL_UNKNOWN</span>	0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IFRTYPE_FUNCTIONAL_LOOPBACK</span>	1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IFRTYPE_FUNCTIONAL_WIRED</span>	2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IFRTYPE_FUNCTIONAL_WIFI_INFRA</span>	3
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IFRTYPE_FUNCTIONAL_WIFI_AWDL</span>	4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IFRTYPE_FUNCTIONAL_CELLULAR</span>	5
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IFRTYPE_FUNCTIONAL_LAST</span>		5
		u_int32_t ifru_expensive;
		u_int32_t ifru_2kcl;
		<span class="enscript-type">struct</span> {
			u_int32_t qlen;
			u_int32_t timeout;
		} ifru_start_delay;
		<span class="enscript-type">struct</span> if_interface_state	ifru_interface_state;
		u_int32_t ifru_probe_connectivity;
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* PRIVATE */</span>
	} ifr_ifru;
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_addr</span>	ifr_ifru.ifru_addr	<span class="enscript-comment">/* address */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_dstaddr</span>	ifr_ifru.ifru_dstaddr	<span class="enscript-comment">/* other end of p-to-p link */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_broadaddr</span>	ifr_ifru.ifru_broadaddr	<span class="enscript-comment">/* broadcast address */</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__APPLE__</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_flags</span>	ifr_ifru.ifru_flags	<span class="enscript-comment">/* flags */</span>
#<span class="enscript-reference">else</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_flags</span>	ifr_ifru.ifru_flags[0]	<span class="enscript-comment">/* flags */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_prevflags</span>	ifr_ifru.ifru_flags[1]	<span class="enscript-comment">/* flags */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __APPLE__ */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_metric</span>	ifr_ifru.ifru_metric	<span class="enscript-comment">/* metric */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_mtu</span>		ifr_ifru.ifru_mtu	<span class="enscript-comment">/* mtu */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_phys</span>	ifr_ifru.ifru_phys	<span class="enscript-comment">/* physical wire */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_media</span>	ifr_ifru.ifru_media	<span class="enscript-comment">/* physical media */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_data</span>	ifr_ifru.ifru_data	<span class="enscript-comment">/* for use by interface */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_devmtu</span>	ifr_ifru.ifru_devmtu
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_intval</span>	ifr_ifru.ifru_intval	<span class="enscript-comment">/* integer value */</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL_PRIVATE</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_data64</span>	ifr_ifru.ifru_data64	<span class="enscript-comment">/* 64-bit pointer */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_kpi</span>		ifr_ifru.ifru_kpi
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_wake_flags</span>	ifr_ifru.ifru_wake_flags <span class="enscript-comment">/* wake capabilities */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_route_refcnt</span> ifr_ifru.ifru_route_refcnt <span class="enscript-comment">/* route references count */</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_link_quality_metric</span> ifr_ifru.ifru_link_quality_metric <span class="enscript-comment">/* LQM */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* PRIVATE */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_reqcap</span>	ifr_ifru.ifru_cap[0]	<span class="enscript-comment">/* requested capabilities */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_curcap</span>	ifr_ifru.ifru_cap[1]	<span class="enscript-comment">/* current capabilities */</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_opportunistic</span>	ifr_ifru.ifru_opportunistic
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_eflags</span>	ifr_ifru.ifru_eflags	<span class="enscript-comment">/* extended flags  */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_log</span>		ifr_ifru.ifru_log	<span class="enscript-comment">/* logging level/flags */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_delegated</span>	ifr_ifru.ifru_delegated <span class="enscript-comment">/* delegated interface index */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_expensive</span>	ifr_ifru.ifru_expensive
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_type</span>	ifr_ifru.ifru_type	<span class="enscript-comment">/* interface type */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_functional_type</span>	ifr_ifru.ifru_functional_type
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_2kcl</span>	ifr_ifru.ifru_2kcl
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_start_delay_qlen</span>	ifr_ifru.ifru_start_delay.qlen
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_start_delay_timeout</span>	ifr_ifru.ifru_start_delay.timeout
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">ifr_interface_state</span>	ifr_ifru.ifru_interface_state
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifr_probe_connectivity</span>	ifr_ifru.ifru_probe_connectivity
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* PRIVATE */</span>
};

#<span class="enscript-reference">define</span>	<span class="enscript-function-name">_SIZEOF_ADDR_IFREQ</span>(ifr) \
	((ifr).ifr_addr.sa_len &gt; <span class="enscript-keyword">sizeof</span> (<span class="enscript-type">struct</span> sockaddr) ? \
	(<span class="enscript-keyword">sizeof</span> (<span class="enscript-type">struct</span> ifreq) - <span class="enscript-keyword">sizeof</span> (<span class="enscript-type">struct</span> sockaddr) + \
	(ifr).ifr_addr.sa_len) : <span class="enscript-keyword">sizeof</span> (<span class="enscript-type">struct</span> ifreq))

<span class="enscript-type">struct</span> ifaliasreq {
	<span class="enscript-type">char</span>	ifra_name[IFNAMSIZ];		<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	<span class="enscript-type">struct</span>	sockaddr ifra_addr;
	<span class="enscript-type">struct</span>	sockaddr ifra_broadaddr;
	<span class="enscript-type">struct</span>	sockaddr ifra_mask;
};

<span class="enscript-type">struct</span> rslvmulti_req {
	<span class="enscript-type">struct</span> sockaddr *sa;
	<span class="enscript-type">struct</span> sockaddr **llsa;
};

#<span class="enscript-reference">if</span> !<span class="enscript-reference">defined</span>(<span class="enscript-variable-name">KERNEL</span>) || <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">KERNEL_PRIVATE</span>)
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>(4)

<span class="enscript-type">struct</span> ifmediareq {
	<span class="enscript-type">char</span>	ifm_name[IFNAMSIZ];	<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	<span class="enscript-type">int</span>	ifm_current;		<span class="enscript-comment">/* current media options */</span>
	<span class="enscript-type">int</span>	ifm_mask;		<span class="enscript-comment">/* don't care mask */</span>
	<span class="enscript-type">int</span>	ifm_status;		<span class="enscript-comment">/* media status */</span>
	<span class="enscript-type">int</span>	ifm_active;		<span class="enscript-comment">/* active options */</span>
	<span class="enscript-type">int</span>	ifm_count;		<span class="enscript-comment">/* # entries in ifm_ulist array */</span>
	<span class="enscript-type">int</span>	*ifm_ulist;		<span class="enscript-comment">/* media words */</span>
};

#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>()
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* !KERNEL || KERNEL_PRIVATE */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL_PRIVATE</span>
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>(4)
<span class="enscript-type">struct</span> ifmediareq64 {
	<span class="enscript-type">char</span>	ifm_name[IFNAMSIZ];	<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	<span class="enscript-type">int</span>	ifm_current;		<span class="enscript-comment">/* current media options */</span>
	<span class="enscript-type">int</span>	ifm_mask;		<span class="enscript-comment">/* don't care mask */</span>
	<span class="enscript-type">int</span>	ifm_status;		<span class="enscript-comment">/* media status */</span>
	<span class="enscript-type">int</span>	ifm_active;		<span class="enscript-comment">/* active options */</span>
	<span class="enscript-type">int</span>	ifm_count;		<span class="enscript-comment">/* # entries in ifm_ulist array */</span>
	user64_addr_t ifmu_ulist __attribute__((aligned(8)));
};

<span class="enscript-type">struct</span> ifmediareq32 {
	<span class="enscript-type">char</span>	ifm_name[IFNAMSIZ];	<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	<span class="enscript-type">int</span>	ifm_current;		<span class="enscript-comment">/* current media options */</span>
	<span class="enscript-type">int</span>	ifm_mask;		<span class="enscript-comment">/* don't care mask */</span>
	<span class="enscript-type">int</span>	ifm_status;		<span class="enscript-comment">/* media status */</span>
	<span class="enscript-type">int</span>	ifm_active;		<span class="enscript-comment">/* active options */</span>
	<span class="enscript-type">int</span>	ifm_count;		<span class="enscript-comment">/* # entries in ifm_ulist array */</span>
	user32_addr_t ifmu_ulist;	<span class="enscript-comment">/* 32-bit pointer */</span>
};
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>()
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>


#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>(4)
<span class="enscript-type">struct</span>  ifdrv {
	<span class="enscript-type">char</span>		ifd_name[IFNAMSIZ];	<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>	ifd_cmd;
	size_t		ifd_len;		<span class="enscript-comment">/* length of ifd_data buffer */</span>
	<span class="enscript-type">void</span>		*ifd_data;
};
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>()

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL_PRIVATE</span>
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>(4)
<span class="enscript-type">struct</span> ifdrv32 {
	<span class="enscript-type">char</span>		ifd_name[IFNAMSIZ];	<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	u_int32_t	ifd_cmd;
	u_int32_t	ifd_len;
	user32_addr_t	ifd_data;
};

<span class="enscript-type">struct</span>  ifdrv64 {
	<span class="enscript-type">char</span>		ifd_name[IFNAMSIZ];	<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	u_int64_t	ifd_cmd;
	u_int64_t	ifd_len;
	user64_addr_t	ifd_data;
};
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>()
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>

<span class="enscript-comment">/*
 * Structure used to retrieve aux status data from interfaces.
 * Kernel suppliers to this interface should respect the formatting
 * needed by ifconfig(8): each line starts with a TAB and ends with
 * a newline.
 */</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFSTATMAX</span>	800		<span class="enscript-comment">/* 10 lines of text */</span>
<span class="enscript-type">struct</span> ifstat {
	<span class="enscript-type">char</span>	ifs_name[IFNAMSIZ];	<span class="enscript-comment">/* if name, e.g. &quot;en0&quot; */</span>
	<span class="enscript-type">char</span>	ascii[IFSTATMAX + 1];
};

#<span class="enscript-reference">if</span> !<span class="enscript-reference">defined</span>(<span class="enscript-variable-name">KERNEL</span>) || <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">KERNEL_PRIVATE</span>)
<span class="enscript-comment">/*
 * Structure used in SIOCGIFCONF request.
 * Used to retrieve interface configuration
 * for machine (useful for programs which
 * must know all networks accessible).
 */</span>
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>(4)
<span class="enscript-type">struct</span>	ifconf {
	<span class="enscript-type">int</span>	ifc_len;		<span class="enscript-comment">/* size of associated buffer */</span>
	<span class="enscript-type">union</span> {
		caddr_t	ifcu_buf;
		<span class="enscript-type">struct</span>	ifreq *ifcu_req;
	} ifc_ifcu;
};
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>()
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifc_buf</span>	ifc_ifcu.ifcu_buf	<span class="enscript-comment">/* buffer address */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">ifc_req</span>	ifc_ifcu.ifcu_req	<span class="enscript-comment">/* array of structures returned */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* !KERNEL || KERNEL_PRIVATE */</span>

#<span class="enscript-reference">if</span> <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">KERNEL_PRIVATE</span>)
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>(4)
<span class="enscript-type">struct</span> ifconf32 {
	<span class="enscript-type">int</span>	ifc_len;		<span class="enscript-comment">/* size of associated buffer */</span>
	<span class="enscript-type">struct</span> {
		user32_addr_t ifcu_req;
	} ifc_ifcu;
};

<span class="enscript-type">struct</span> ifconf64 {
	<span class="enscript-type">int</span>	ifc_len;		<span class="enscript-comment">/* size of associated buffer */</span>
	<span class="enscript-type">struct</span> {
		user64_addr_t ifcu_req	__attribute__((aligned(8)));
	} ifc_ifcu;
};
#<span class="enscript-reference">pragma</span> <span class="enscript-variable-name">pack</span>()
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL_PRIVATE */</span>

<span class="enscript-comment">/*
 * DLIL KEV_DL_PROTO_ATTACHED/DETACHED structure
 */</span>
<span class="enscript-type">struct</span> kev_dl_proto_data {
	<span class="enscript-type">struct</span> net_event_data   	link_data;
	u_int32_t			proto_family;
	u_int32_t			proto_remaining_count;
};

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">PRIVATE</span>
<span class="enscript-comment">/*
 * Link Quality Metrics
 *
 *	IFNET_LQM_THRESH_OFF      Metric is not available; device is off.
 *	IFNET_LQM_THRESH_UNKNOWN  Metric is not (yet) known.
 *	IFNET_LQM_THRESH_BAD	  Link quality is considered bad by driver.
 *	IFNET_LQM_THRESH_POOR     Link quality is considered poor by driver.
 *	IFNET_LQM_THRESH_GOOD     Link quality is considered good by driver.
 */</span>
<span class="enscript-type">enum</span> {
	IFNET_LQM_THRESH_OFF		= (-2),
	IFNET_LQM_THRESH_UNKNOWN	= (-1),
	IFNET_LQM_THRESH_BAD		= 10,
	IFNET_LQM_THRESH_POOR		= 50,
	IFNET_LQM_THRESH_GOOD		= 100
};
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFNET_LQM_MIN</span>	IFNET_LQM_THRESH_OFF
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFNET_LQM_MAX</span>	IFNET_LQM_THRESH_GOOD
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* XNU_KERNEL_PRIVATE */</span>

<span class="enscript-comment">/*
 * DLIL KEV_DL_LINK_QUALITY_METRIC_CHANGED structure
 */</span>
<span class="enscript-type">struct</span> kev_dl_link_quality_metric_data {
	<span class="enscript-type">struct</span> net_event_data	link_data;
	<span class="enscript-type">int</span>			link_quality_metric;
};

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IF_DESCSIZE</span>	128

<span class="enscript-comment">/*
 * Structure for SIOC[SG]IFDESC
 */</span>
<span class="enscript-type">struct</span> if_descreq {
	<span class="enscript-type">char</span>			ifdr_name[IFNAMSIZ];	<span class="enscript-comment">/* interface name */</span>
	u_int32_t		ifdr_len;		<span class="enscript-comment">/* up to IF_DESCSIZE */</span>
	u_int8_t		ifdr_desc[IF_DESCSIZE];	<span class="enscript-comment">/* opaque data */</span>
};

<span class="enscript-comment">/*
 *	Output packet scheduling models
 *
 *	IFNET_SCHED_MODEL_NORMAL The default output packet scheduling model
 *		where the driver or media does not require strict scheduling
 *		strategy, and that the networking stack is free to choose the
 *		most appropriate scheduling and queueing algorithm, including
 *		shaping traffics.
 *	IFNET_SCHED_MODEL_DRIVER_MANAGED The alternative output packet
 *		scheduling model where the driver or media requires strict
 *		scheduling strategy (e.g. 802.11 WMM), and that the networking
 *		stack is only responsible for creating multiple queues for the
 *		corresponding service classes.
 */</span>
<span class="enscript-type">enum</span> {
	IFNET_SCHED_MODEL_NORMAL		= 0,
	IFNET_SCHED_MODEL_DRIVER_MANAGED	= 1,
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
	IFNET_SCHED_MODEL_MAX			= 2,
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* XNU_KERNEL_PRIVATE */</span>
};

<span class="enscript-comment">/*
 * Values for iflpr_flags
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFLPRF_ALTQ</span>		0x1	<span class="enscript-comment">/* configured via PF/ALTQ */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFLPRF_DRVMANAGED</span>	0x2	<span class="enscript-comment">/* output queue scheduled by drv */</span>

<span class="enscript-comment">/*
 * Structure for SIOCGIFLINKPARAMS
 */</span>
<span class="enscript-type">struct</span> if_linkparamsreq {
	<span class="enscript-type">char</span>		iflpr_name[IFNAMSIZ];	<span class="enscript-comment">/* interface name */</span>
	u_int32_t	iflpr_flags;
	u_int32_t	iflpr_output_sched;
	u_int64_t	iflpr_output_tbr_rate;
	u_int32_t	iflpr_output_tbr_percent;
	<span class="enscript-type">struct</span> if_bandwidths iflpr_output_bw;
	<span class="enscript-type">struct</span> if_bandwidths iflpr_input_bw;
	<span class="enscript-type">struct</span> if_latencies iflpr_output_lt;
	<span class="enscript-type">struct</span> if_latencies iflpr_input_lt;
};

<span class="enscript-comment">/*
 * Structure for SIOCGIFQUEUESTATS
 */</span>
<span class="enscript-type">struct</span> if_qstatsreq {
	<span class="enscript-type">char</span>		ifqr_name[IFNAMSIZ];	<span class="enscript-comment">/* interface name */</span>
	u_int32_t	ifqr_slot;
	<span class="enscript-type">void</span>		*ifqr_buf		__attribute__((aligned(8)));
	<span class="enscript-type">int</span>		 ifqr_len		__attribute__((aligned(8)));
};

<span class="enscript-comment">/*
 * Node Proximity Metrics
 */</span>
<span class="enscript-type">enum</span> {
	IFNET_NPM_THRESH_UNKNOWN	= (-1),
	IFNET_NPM_THRESH_NEAR		= 30,
	IFNET_NPM_THRESH_GENERAL	= 70,
	IFNET_NPM_THRESH_FAR		= 100,
};

<span class="enscript-comment">/*
 *	Received Signal Strength Indication [special values]
 *
 *	IFNET_RSSI_UNKNOWN	Metric is not (yet) known.
 */</span>
<span class="enscript-type">enum</span> {
	IFNET_RSSI_UNKNOWN	= ((-2147483647)-1),	<span class="enscript-comment">/* INT32_MIN */</span>
};


<span class="enscript-comment">/*
 * DLIL KEV_DL_NODE_PRESENCE/KEV_DL_NODE_ABSENCE event structures
 */</span>
<span class="enscript-type">struct</span> kev_dl_node_presence {
	<span class="enscript-type">struct</span> net_event_data   link_data;
	<span class="enscript-type">struct</span> sockaddr_in6	sin6_node_address;
	<span class="enscript-type">struct</span> sockaddr_dl	sdl_node_address;
	int32_t			rssi;
	<span class="enscript-type">int</span>			link_quality_metric;
	<span class="enscript-type">int</span>			node_proximity_metric;
	u_int8_t		node_service_info[48];
};

<span class="enscript-type">struct</span> kev_dl_node_absence {
	<span class="enscript-type">struct</span> net_event_data   link_data;
	<span class="enscript-type">struct</span> sockaddr_in6	sin6_node_address;
	<span class="enscript-type">struct</span> sockaddr_dl	sdl_node_address;
};

<span class="enscript-comment">/*
 * Structure for SIOC[SG]IFTHROTTLE
 */</span>
<span class="enscript-type">struct</span> if_throttlereq {
	<span class="enscript-type">char</span>		ifthr_name[IFNAMSIZ];	<span class="enscript-comment">/* interface name */</span>
	u_int32_t	ifthr_level;
};

<span class="enscript-comment">/*
 *	Interface throttling levels
 *
 *	IFNET_THROTTLE_OFF The default throttling level (no throttling.)
 *		All service class queues operate normally according to the
 *		standard packet scheduler configuration.
 *	IFNET_THROTTLE_OPPORTUNISTIC One or more service class queues that
 *		are responsible for managing &quot;opportunistic&quot; traffics are
 *		suspended.  Packets enqueued on those queues will be dropped
 *		and a flow advisory error will be generated to the data
 *		source.  Existing packets in the queues will stay enqueued
 *		until the interface is no longer throttled, or until they
 *		are explicitly flushed.
 */</span>
<span class="enscript-type">enum</span> {
	IFNET_THROTTLE_OFF			= 0,
	IFNET_THROTTLE_OPPORTUNISTIC		= 1,
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">XNU_KERNEL_PRIVATE</span>
	IFNET_THROTTLE_MAX			= 2,
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* XNU_KERNEL_PRIVATE */</span>
};

<span class="enscript-comment">/*
 * Structure for SIOC[A/D]IFAGENTID
 */</span>
<span class="enscript-type">struct</span> if_agentidreq {
	<span class="enscript-type">char</span>		ifar_name[IFNAMSIZ];	<span class="enscript-comment">/* interface name */</span>
	uuid_t		ifar_uuid;		<span class="enscript-comment">/* agent UUID to add or delete */</span>
};

<span class="enscript-comment">/*
 * Structure for SIOCGIFAGENTIDS
 */</span>
<span class="enscript-type">struct</span> if_agentidsreq {
	<span class="enscript-type">char</span>		ifar_name[IFNAMSIZ];	<span class="enscript-comment">/* interface name */</span>
	u_int32_t	ifar_count;		<span class="enscript-comment">/* number of agent UUIDs */</span>
	uuid_t		*ifar_uuids;		<span class="enscript-comment">/* array of agent UUIDs */</span>
};

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">BSD_KERNEL_PRIVATE</span>
<span class="enscript-type">struct</span> if_agentidsreq32 {
	<span class="enscript-type">char</span>		ifar_name[IFNAMSIZ];
	u_int32_t	ifar_count;
	user32_addr_t ifar_uuids;
};
<span class="enscript-type">struct</span> if_agentidsreq64 {
	<span class="enscript-type">char</span>		ifar_name[IFNAMSIZ];
	u_int32_t	ifar_count;
	user64_addr_t ifar_uuids __attribute__((aligned(8)));
};
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* BSD_KERNEL_PRIVATE */</span>

#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">DLIL_MODIDLEN</span>	20	<span class="enscript-comment">/* same as IFNET_MODIDLEN */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">DLIL_MODARGLEN</span>	12	<span class="enscript-comment">/* same as IFNET_MODARGLEN */</span>

<span class="enscript-comment">/*
 * DLIL KEV_DL_ISSUES event structure
 */</span>
<span class="enscript-type">struct</span> kev_dl_issues {
	<span class="enscript-type">struct</span> net_event_data   link_data;
	u_int8_t		modid[DLIL_MODIDLEN];
	u_int64_t		timestamp;
	u_int8_t		info[DLIL_MODARGLEN];
};

<span class="enscript-comment">/*
 * DLIL KEV_DL_RRC_STATE_CHANGED structure
 */</span>
<span class="enscript-type">struct</span> kev_dl_rrc_state {
	<span class="enscript-type">struct</span> net_event_data	link_data;
	u_int32_t		rrc_state;
};

<span class="enscript-comment">/*
 * Length of network signature/fingerprint blob.
 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">IFNET_SIGNATURELEN</span>	20

<span class="enscript-comment">/*
 * Structure for SIOC[S/G]IFNETSIGNATURE
 */</span>
<span class="enscript-type">struct</span> if_nsreq {
	<span class="enscript-type">char</span>		ifnsr_name[IFNAMSIZ];
	u_int8_t	ifnsr_family;	<span class="enscript-comment">/* address family */</span>
	u_int8_t	ifnsr_len;	<span class="enscript-comment">/* data length */</span>
	u_int16_t	ifnsr_flags;	<span class="enscript-comment">/* for future */</span>
	u_int8_t	ifnsr_data[IFNET_SIGNATURELEN];
};
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* PRIVATE */</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">MALLOC_DECLARE</span>
<span class="enscript-function-name">MALLOC_DECLARE</span>(M_IFADDR);
<span class="enscript-function-name">MALLOC_DECLARE</span>(M_IFMADDR);
#<span class="enscript-reference">endif</span>
#<span class="enscript-reference">endif</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* (_POSIX_C_SOURCE &amp;&amp; !_DARWIN_C_SOURCE) */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">KERNEL</span>
<span class="enscript-type">struct</span> if_nameindex {
	<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	 if_index;	<span class="enscript-comment">/* 1, 2, ... */</span>
	<span class="enscript-type">char</span>		*if_name;	<span class="enscript-comment">/* null terminated name: &quot;le0&quot;, ... */</span>
};

__BEGIN_DECLS
<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	 if_nametoindex(<span class="enscript-type">const</span> <span class="enscript-type">char</span> *);
<span class="enscript-type">char</span>		*if_indextoname(<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>, <span class="enscript-type">char</span> *);
<span class="enscript-type">struct</span>		 if_nameindex *if_nameindex(<span class="enscript-type">void</span>);
<span class="enscript-type">void</span>		 if_freenameindex(<span class="enscript-type">struct</span> if_nameindex *);
__END_DECLS
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;net/kpi_interface.h&gt;</span>
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* !_NET_IF_H_ */</span>
</pre>
<hr />
</body></html>