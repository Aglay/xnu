<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Makefile</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">Makefile&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
export MakeInc_cmd=${<span class="enscript-reference">SRCROOT</span>}/makedefs/MakeInc.cmd
export MakeInc_def=${<span class="enscript-reference">SRCROOT</span>}/makedefs/MakeInc.def
export MakeInc_rule=${<span class="enscript-reference">SRCROOT</span>}/makedefs/MakeInc.rule
export MakeInc_dir=${<span class="enscript-reference">SRCROOT</span>}/makedefs/MakeInc.dir

include $(<span class="enscript-reference">MakeInc_cmd</span>)
include $(<span class="enscript-reference">MakeInc_def</span>)

<span class="enscript-comment"># Special handling for x86_64h which shares a MASTER config file with x86_64:
</span>ifeq ($(<span class="enscript-reference">CURRENT_ARCH_CONFIG_LC</span>),x86_64h)
DOCONF_ARCH_CONFIG_LC = x86_64
else
DOCONF_ARCH_CONFIG_LC = $(<span class="enscript-reference">CURRENT_ARCH_CONFIG_LC</span>)
endif

MASTERCONFDIR = $(<span class="enscript-reference">SRCROOT</span>)/config
DOCONFDEPS = $(<span class="enscript-reference">addprefix $(MASTERCONFDIR)/, MASTER MASTER.$(DOCONF_ARCH_CONFIG_LC)</span>) \
	$(<span class="enscript-reference">addprefix $(SOURCE)/, Makefile.template Makefile.$(DOCONF_ARCH_CONFIG_LC) files files.$(DOCONF_ARCH_CONFIG_LC)</span>)

ifneq (,$(<span class="enscript-reference">wildcard $(MASTERCONFDIR)/MASTER.$(DOCONF_ARCH_CONFIG_LC).$(CURRENT_MACHINE_CONFIG_LC)</span>))
DOCONFDEPS += $(<span class="enscript-reference">MASTERCONFDIR</span>)/MASTER.$(<span class="enscript-reference">DOCONF_ARCH_CONFIG_LC</span>).$(<span class="enscript-reference">CURRENT_MACHINE_CONFIG_LC</span>)
endif

<span class="enscript-keyword">$(TARGET)/$(CURRENT_KERNEL_CONFIG)/Makefile:</span> $(<span class="enscript-reference">SRCROOT</span>)/SETUP/config/doconf $(<span class="enscript-reference">OBJROOT</span>)/SETUP/config $(<span class="enscript-reference">DOCONFDEPS</span>)
	$(<span class="enscript-reference">_v</span>)$(<span class="enscript-reference">MKDIR</span>) $(<span class="enscript-reference">TARGET</span>)/$(<span class="enscript-reference">CURRENT_KERNEL_CONFIG</span>)
	$(<span class="enscript-reference">_v</span>)$(<span class="enscript-reference">SRCROOT</span>)/SETUP/config/doconf -c -cpu $(<span class="enscript-reference">DOCONF_ARCH_CONFIG_LC</span>) -soc $(<span class="enscript-reference">CURRENT_MACHINE_CONFIG_LC</span>) -d $(<span class="enscript-reference">TARGET</span>)/$(<span class="enscript-reference">CURRENT_KERNEL_CONFIG</span>) -s $(<span class="enscript-reference">SOURCE</span>) -m $(<span class="enscript-reference">MASTERCONFDIR</span>) $(<span class="enscript-reference">CURRENT_KERNEL_CONFIG</span>);

<span class="enscript-keyword">do_all:</span> $(<span class="enscript-reference">TARGET</span>)/$(<span class="enscript-reference">CURRENT_KERNEL_CONFIG</span>)/Makefile
	$(<span class="enscript-reference">_v</span>)${<span class="enscript-reference">MAKE</span>} \
		-C $(<span class="enscript-reference">TARGET</span>)/$(<span class="enscript-reference">CURRENT_KERNEL_CONFIG</span>)			\
		-f $(<span class="enscript-reference">TARGET</span>)/$(<span class="enscript-reference">CURRENT_KERNEL_CONFIG</span>)/Makefile		\
		CURRENT_KERNEL_CONFIG=${<span class="enscript-reference">CURRENT_KERNEL_CONFIG</span>}		\
		CURRENT_ARCH_CONFIG=${<span class="enscript-reference">CURRENT_ARCH_CONFIG</span>}		\
		CURRENT_MACHINE_CONFIG=${<span class="enscript-reference">CURRENT_MACHINE_CONFIG</span>}	\
		SOURCE=$(<span class="enscript-reference">subst conf/,,$(SOURCE)</span>)			\
		TARGET=${<span class="enscript-reference">TARGET</span>}					\
		OBJPATH=${<span class="enscript-reference">OBJPATH</span>}					\
		build_all;

<span class="enscript-keyword">do_build_all::</span> do_all 

include $(<span class="enscript-reference">MakeInc_rule</span>)
include $(<span class="enscript-reference">MakeInc_dir</span>)
</pre>
<hr />
</body></html>