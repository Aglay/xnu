<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>FileMgrInternal.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">FileMgrInternal.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2014 Apple Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/*
	File:		FilesInternal.h

	Contains:	IPI for File Manager (HFS Plus)

	Version:	HFS Plus 1.0

	Copyright:	ï¿½ 1996-2001 by Apple Computer, Inc., all rights reserved.

*/</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">__FILEMGRINTERNAL__</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">__FILEMGRINTERNAL__</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/appleapiopts.h&gt;</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">KERNEL</span>
#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__APPLE_API_PRIVATE</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/param.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/vnode.h&gt;</span>

#<span class="enscript-reference">if</span> !<span class="enscript-variable-name">HFS_ALLOC_TEST</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;../../hfs.h&quot;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;../../hfs_macos_defs.h&quot;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;../../hfs_format.h&quot;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;../../hfs_cnode.h&quot;</span>

#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__cplusplus</span>
<span class="enscript-type">extern</span> <span class="enscript-string">&quot;C&quot;</span> {
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/* CatalogNodeID is used to track catalog objects */</span>
<span class="enscript-type">typedef</span> u_int32_t		HFSCatalogNodeID;

<span class="enscript-comment">/* internal error codes*/</span>

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">TARGET_API_MACOS_X</span>
  #define ERR_BASE	-32767
#<span class="enscript-reference">else</span>
  #define ERR_BASE	0
#<span class="enscript-reference">endif</span>

<span class="enscript-type">enum</span> {
																<span class="enscript-comment">/* FXM errors*/</span>
	fxRangeErr					= ERR_BASE + 16,				<span class="enscript-comment">/* file position beyond mapped range*/</span>
	fxOvFlErr					= ERR_BASE + 17,				<span class="enscript-comment">/* extents file overflow*/</span>
																<span class="enscript-comment">/* Unicode errors*/</span>
	uniTooLongErr				= ERR_BASE + 24,				<span class="enscript-comment">/* Unicode string too long to convert to Str31*/</span>
	uniBufferTooSmallErr		= ERR_BASE + 25,				<span class="enscript-comment">/* Unicode output buffer too small*/</span>
	uniNotMappableErr			= ERR_BASE + 26,				<span class="enscript-comment">/* Unicode string can't be mapped to given script*/</span>
																<span class="enscript-comment">/* BTree Manager errors*/</span>
	btNotFound					= ERR_BASE + 32,				<span class="enscript-comment">/* record not found*/</span>
	btExists					= ERR_BASE + 33,				<span class="enscript-comment">/* record already exists*/</span>
	btNoSpaceAvail				= ERR_BASE + 34,				<span class="enscript-comment">/* no available space*/</span>
	btNoFit						= ERR_BASE + 35,				<span class="enscript-comment">/* record doesn't fit in node */</span>
	btBadNode					= ERR_BASE + 36,				<span class="enscript-comment">/* bad node detected*/</span>
	btBadHdr					= ERR_BASE + 37,				<span class="enscript-comment">/* bad BTree header record detected*/</span>
	dsBadRotate					= ERR_BASE + 64,				<span class="enscript-comment">/* bad BTree rotate*/</span>
																<span class="enscript-comment">/* Catalog Manager errors*/</span>
	cmNotFound					= ERR_BASE + 48,				<span class="enscript-comment">/* CNode not found*/</span>
	cmExists					= ERR_BASE + 49,				<span class="enscript-comment">/* CNode already exists*/</span>
	cmNotEmpty					= ERR_BASE + 50,				<span class="enscript-comment">/* directory CNode not empty (valence = 0)*/</span>
	cmRootCN					= ERR_BASE + 51,				<span class="enscript-comment">/* invalid reference to root CNode*/</span>
	cmBadNews					= ERR_BASE + 52,				<span class="enscript-comment">/* detected bad catalog structure*/</span>
	cmFThdDirErr				= ERR_BASE + 53,				<span class="enscript-comment">/* thread belongs to a directory not a file*/</span>
	cmFThdGone					= ERR_BASE + 54,				<span class="enscript-comment">/* file thread doesn't exist*/</span>
	cmParentNotFound			= ERR_BASE + 55,				<span class="enscript-comment">/* CNode for parent ID does not exist*/</span>
																<span class="enscript-comment">/* TFS internal errors*/</span>
	fsDSIntErr					= -127							<span class="enscript-comment">/* Internal file system error*/</span>
};


<span class="enscript-comment">/* internal flags*/</span>

<span class="enscript-type">enum</span> {
	kEFAllMask      = 0x01,   <span class="enscript-comment">/* allocate all requested bytes or none */</span>
	kEFContigMask   = 0x02,   <span class="enscript-comment">/* force contiguous allocation */</span>
	kEFReserveMask  = 0x04,   <span class="enscript-comment">/* keep block reserve */</span>
	kEFDeferMask    = 0x08,   <span class="enscript-comment">/* defer file block allocations */</span>
	kEFNoClumpMask  = 0x10,   <span class="enscript-comment">/* don't round up to clump size */</span>
	kEFMetadataMask  = 0x20,  <span class="enscript-comment">/* metadata allocation */</span>

	kTFTrunExtBit				= 0,							<span class="enscript-comment">/*	truncate to the extent containing new PEOF*/</span>
	kTFTrunExtMask				= 1
};

<span class="enscript-type">enum</span> {
	kUndefinedStrLen			= 0,							<span class="enscript-comment">/* Unknown string length */</span>
	kNoHint						= 0,

																<span class="enscript-comment">/*	FileIDs variables*/</span>
	kNumExtentsToCache			= 4								<span class="enscript-comment">/*	just guessing for ExchangeFiles*/</span>
};


<span class="enscript-comment">/* Universal Extent Key */</span>

<span class="enscript-type">union</span> ExtentKey {
	HFSExtentKey 					hfs;
	HFSPlusExtentKey 				hfsPlus;
};
<span class="enscript-type">typedef</span> <span class="enscript-type">union</span> ExtentKey					ExtentKey;
<span class="enscript-comment">/* Universal extent descriptor */</span>

<span class="enscript-type">union</span> ExtentDescriptor {
	HFSExtentDescriptor 			hfs;
	HFSPlusExtentDescriptor 		hfsPlus;
};
<span class="enscript-type">typedef</span> <span class="enscript-type">union</span> ExtentDescriptor			ExtentDescriptor;
<span class="enscript-comment">/* Universal extent record */</span>

<span class="enscript-type">union</span> ExtentRecord {
	HFSExtentRecord 				hfs;
	HFSPlusExtentRecord 			hfsPlus;
};
<span class="enscript-type">typedef</span> <span class="enscript-type">union</span> ExtentRecord				ExtentRecord;


<span class="enscript-type">enum</span> {
	CMMaxCName					= kHFSMaxFileNameChars
};



<span class="enscript-comment">/* Universal catalog name*/</span>

<span class="enscript-type">union</span> CatalogName {
	Str31 							pstr;
	HFSUniStr255 					ustr;
};
<span class="enscript-type">typedef</span> <span class="enscript-type">union</span> CatalogName CatalogName;


<span class="enscript-comment">/*
 * MacOS accessor routines
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">GetFileControlBlock</span>(fref)		VTOF((fref))
#<span class="enscript-reference">define</span> <span class="enscript-function-name">GetFileRefNumFromFCB</span>(fcb)		FTOV((fcb))

<span class="enscript-comment">/*	Test for error and return if error occurred*/</span>
<span class="enscript-function-name">EXTERN_API_C</span>( <span class="enscript-type">void</span> )
<span class="enscript-function-name">ReturnIfError</span>					(OSErr 					result);

#<span class="enscript-reference">define</span>	<span class="enscript-function-name">ReturnIfError</span>(result)				do {	if ( (result) != noErr ) return (result); } while(0)

<span class="enscript-comment">/*	Exit function on error*/</span>
<span class="enscript-function-name">EXTERN_API_C</span>( <span class="enscript-type">void</span> )
<span class="enscript-function-name">ExitOnError</span>						(OSErr 					result);

#<span class="enscript-reference">define</span>	<span class="enscript-function-name">ExitOnError</span>( result )				do {	if ( ( result ) != noErr )	goto ErrorExit; } while(0)



<span class="enscript-comment">/* Catalog Manager Routines (IPI)*/</span>

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">ExchangeFileIDs</span>					(ExtendedVCB *			volume,
								 ConstUTF8Param			srcName,
								 ConstUTF8Param			destName,
								 HFSCatalogNodeID		srcID,
								 HFSCatalogNodeID		destID,
								 u_int32_t				srcHint,
								 u_int32_t				destHint );

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">MoveData</span>( ExtendedVCB *vcb, HFSCatalogNodeID srcID, HFSCatalogNodeID destID, <span class="enscript-type">int</span> rsrc);

<span class="enscript-comment">/* BTree Manager Routines*/</span>

<span class="enscript-type">typedef</span> <span class="enscript-function-name">CALLBACK_API_C</span>( int32_t , KeyCompareProcPtr )(<span class="enscript-type">void</span> *a, <span class="enscript-type">void</span> *b);


<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">ReplaceBTreeRecord</span>				(FileReference 				refNum,
								 <span class="enscript-type">const</span> <span class="enscript-type">void</span> *			key,
								 u_int32_t 				hint,
								 <span class="enscript-type">void</span> *					newData,
								 u_int16_t 				dataSize,
								 u_int32_t *			newHint);


<span class="enscript-comment">/*	Prototypes for exported routines in VolumeAllocation.c*/</span>

<span class="enscript-comment">/* 
 * Flags for BlockAllocate(), BlockDeallocate() and hfs_block_alloc.
 * Some of these are for internal use only.  See the comment at the
 * top of hfs_alloc_int for more details on the semantics of these
 * flags.
 */</span> 
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_FORCECONTIG</span>		0x001	//force contiguous block allocation; minblocks must be allocated
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_METAZONE</span>			0x002	//can use metazone blocks
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_SKIPFREEBLKS</span>		0x004	//skip checking/updating freeblocks during alloc/dealloc
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_FLUSHTXN</span>			0x008	//pick best fit for allocation, even if a jnl flush is req'd
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_TENTATIVE</span>			0x010	//reserved allocation that can be claimed back
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_LOCKED</span>			0x020	//reserved allocation that can't be claimed back
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_IGNORE_TENTATIVE</span>	0x040	//Steal tentative blocks if necessary
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_IGNORE_RESERVED</span>	0x080	//Ignore tentative/committed blocks
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_USE_TENTATIVE</span>		0x100	//Use the supplied tentative range (if possible)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_COMMIT</span>			0x200	//Commit the supplied extent to disk
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_TRY_HARD</span>			0x400	//Search hard to try and get maxBlocks; implies HFS_ALLOC_FLUSHTXN
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_ROLL_BACK</span>			0x800	//Reallocate blocks that were just deallocated
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">HFS_ALLOC_FAST_DEV</span>          0x1000  //Prefer fast device for allocation

<span class="enscript-type">typedef</span> uint32_t hfs_block_alloc_flags_t;

<span class="enscript-type">struct</span> rl_entry;
<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">BlockAllocate</span>					(ExtendedVCB *			 vcb,
								 u_int32_t 				 startingBlock,
								 u_int32_t 				 minBlocks,
								 u_int32_t 				 maxBlocks,
								 hfs_block_alloc_flags_t flags,
								 u_int32_t *			 startBlock,
								 u_int32_t *			 actualBlocks);

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> hfs_alloc_extra_args {
	<span class="enscript-comment">// Used with HFS_ALLOC_TRY_HARD and HFS_ALLOC_FORCECONTIG
</span>	uint32_t				max_blocks;

	<span class="enscript-comment">// Used with with HFS_ALLOC_USE_TENTATIVE &amp; HFS_ALLOC_COMMIT
</span>	<span class="enscript-type">struct</span> rl_entry		  **reservation_in;

	<span class="enscript-comment">// Used with HFS_ALLOC_TENTATIVE &amp; HFS_ALLOC_LOCKED
</span>	<span class="enscript-type">struct</span> rl_entry		  **reservation_out;

	<span class="enscript-comment">/*
	 * If the maximum cannot be returned, the allocation will be
	 * trimmed to the specified alignment after taking
	 * @alignment_offset into account.  @alignment and
	 * @alignment_offset are both in terms of blocks, *not* bytes.
	 * The result will be such that:
	 *
	 *   (block_count + @alignment_offset) % @alignment == 0
	 *
	 * Alignment is *not* guaranteed.
	 *
	 * One example where alignment might be useful is in the case
	 * where the page size is greater than the allocation block size
	 * and I/O is being performed in multiples of the page size.
	 */</span>
	<span class="enscript-type">int</span>						alignment;
	<span class="enscript-type">int</span>						alignment_offset;
} hfs_alloc_extra_args_t;

<span class="enscript-comment">/*
 * Same as BlockAllocate but slightly different API.
 * @extent.startBlock is a hint for where to start searching and
 * @extent.blockCount is the minimum number of blocks acceptable.
 * Additional arguments can be passed in @extra_args and use will
 * depend on @flags.  See comment at top of hfs_block_alloc_int for
 * more information.
 */</span>
errno_t <span class="enscript-function-name">hfs_block_alloc</span>(hfsmount_t *hfsmp,
						HFSPlusExtentDescriptor *extent,
						hfs_block_alloc_flags_t flags,
						hfs_alloc_extra_args_t *extra_args);

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">BlockDeallocate</span>					(ExtendedVCB *			 vcb,
								 u_int32_t 				 firstBlock,
								 u_int32_t 				 numBlocks,
								 hfs_block_alloc_flags_t flags);

<span class="enscript-function-name">EXTERN_API_C</span> ( <span class="enscript-type">void</span> )
<span class="enscript-function-name">ResetVCBFreeExtCache</span>(<span class="enscript-type">struct</span> hfsmount *hfsmp);

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">BlockMarkAllocated</span>(ExtendedVCB *vcb, u_int32_t startingBlock, u_int32_t numBlocks);

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">BlockMarkFree</span>( ExtendedVCB *vcb, u_int32_t startingBlock, u_int32_t numBlocks);

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">BlockMarkFreeUnused</span>( ExtendedVCB *vcb, u_int32_t startingBlock, u_int32_t numBlocks);

<span class="enscript-function-name">EXTERN_API_C</span>( u_int32_t )
<span class="enscript-function-name">MetaZoneFreeBlocks</span>(ExtendedVCB *vcb);
	
<span class="enscript-function-name">EXTERN_API_C</span>( u_int32_t )
<span class="enscript-function-name">UpdateAllocLimit</span> (<span class="enscript-type">struct</span> hfsmount *hfsmp, u_int32_t new_end_block);

<span class="enscript-function-name">EXTERN_API_C</span>( u_int32_t )
<span class="enscript-function-name">ScanUnmapBlocks</span>(<span class="enscript-type">struct</span> hfsmount *hfsmp);

<span class="enscript-function-name">EXTERN_API_C</span>( <span class="enscript-type">int</span> )
<span class="enscript-function-name">hfs_init_summary</span> (<span class="enscript-type">struct</span> hfsmount *hfsmp);

errno_t <span class="enscript-function-name">hfs_find_free_extents</span>(<span class="enscript-type">struct</span> hfsmount *hfsmp,
							  <span class="enscript-type">void</span> (*callback)(<span class="enscript-type">void</span> *data, off_t), <span class="enscript-type">void</span> *callback_arg);

<span class="enscript-type">void</span> <span class="enscript-function-name">hfs_free_tentative</span>(hfsmount_t *hfsmp, <span class="enscript-type">struct</span> rl_entry **reservation);
<span class="enscript-type">void</span> <span class="enscript-function-name">hfs_free_locked</span>(hfsmount_t *hfsmp, <span class="enscript-type">struct</span> rl_entry **reservation);

<span class="enscript-comment">/*	File Extent Mapping routines*/</span>
<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">FlushExtentFile</span>					(ExtendedVCB *			vcb);

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">CONFIG_HFS_STD</span>
<span class="enscript-function-name">EXTERN_API_C</span>( int32_t )
<span class="enscript-function-name">CompareExtentKeys</span>				(<span class="enscript-type">const</span> HFSExtentKey *	searchKey,
								 <span class="enscript-type">const</span> HFSExtentKey *	trialKey);
#<span class="enscript-reference">endif</span>

<span class="enscript-function-name">EXTERN_API_C</span>( int32_t )
<span class="enscript-function-name">CompareExtentKeysPlus</span>			(<span class="enscript-type">const</span> HFSPlusExtentKey *searchKey,
								 <span class="enscript-type">const</span> HFSPlusExtentKey *trialKey);

OSErr <span class="enscript-function-name">SearchExtentFile</span>(ExtendedVCB			*vcb,
					   <span class="enscript-type">const</span> FCB	 		*fcb,
					   int64_t 				 filePosition,
					   HFSPlusExtentKey		*foundExtentKey,
					   HFSPlusExtentRecord	 foundExtentData,
					   u_int32_t			*foundExtentDataIndex,
					   u_int32_t			*extentBTreeHint,
					   u_int32_t			*endingFABNPlusOne );

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">TruncateFileC</span> (ExtendedVCB *vcb, FCB *fcb, int64_t peof, <span class="enscript-type">int</span> deleted, 
			   <span class="enscript-type">int</span> rsrc, uint32_t fileid, Boolean truncateToExtent);
	
<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">ExtendFileC</span>						(ExtendedVCB *			vcb,
								 FCB *					fcb,
								 int64_t 				bytesToAdd,
								 u_int32_t 				blockHint,
								 u_int32_t 				flags,
								 int64_t *				actualBytesAdded);

<span class="enscript-function-name">EXTERN_API_C</span>( OSErr )
<span class="enscript-function-name">MapFileBlockC</span>					(ExtendedVCB *			vcb,
								 FCB *					fcb,
								 size_t 				numberOfBytes,
								 off_t 					offset,
								 daddr64_t *				startBlock,
								 size_t *				availableBytes);

OSErr <span class="enscript-function-name">HeadTruncateFile</span>(ExtendedVCB  *vcb, FCB  *fcb, u_int32_t  headblks);

<span class="enscript-function-name">EXTERN_API_C</span>( <span class="enscript-type">int</span> )
<span class="enscript-function-name">AddFileExtent</span> (ExtendedVCB *vcb, FCB *fcb, u_int32_t startBlock, u_int32_t blockCount);

#<span class="enscript-reference">if</span> <span class="enscript-variable-name">TARGET_API_MACOS_X</span>
<span class="enscript-function-name">EXTERN_API_C</span>( Boolean )
<span class="enscript-function-name">NodesAreContiguous</span>				(ExtendedVCB *			vcb,
								 FCB *					fcb,
								 u_int32_t				nodeSize);
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/*	Get the current time in UTC (GMT)*/</span>
<span class="enscript-function-name">EXTERN_API_C</span>( u_int32_t )
<span class="enscript-function-name">GetTimeUTC</span>						(<span class="enscript-type">void</span>);

<span class="enscript-function-name">EXTERN_API_C</span>( u_int32_t )
<span class="enscript-function-name">LocalToUTC</span>						(u_int32_t 				localTime);

<span class="enscript-function-name">EXTERN_API_C</span>( u_int32_t )
<span class="enscript-function-name">UTCToLocal</span>						(u_int32_t 				utcTime);


#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__cplusplus</span>
}
#<span class="enscript-reference">endif</span>

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __APPLE_API_PRIVATE */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* KERNEL */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __FILEMGRINTERNAL__ */</span>

</pre>
<hr />
</body></html>