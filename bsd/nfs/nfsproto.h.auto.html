<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>nfsproto.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">nfsproto.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000-2010 Apple Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/* Copyright (c) 1995 NeXT Computer, Inc. All Rights Reserved */</span>
<span class="enscript-comment">/*
 * Copyright (c) 1989, 1993
 *	The Regents of the University of California.  All rights reserved.
 *
 * This code is derived from software contributed to Berkeley by
 * Rick Macklem at The University of Guelph.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the University of
 *	California, Berkeley and its contributors.
 * 4. Neither the name of the University nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 *	@(#)nfsproto.h	8.2 (Berkeley) 3/30/95
 * FreeBSD-Id: nfsproto.h,v 1.3 1997/02/22 09:42:50 peter Exp $
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_NFS_NFSPROTO_H_</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_NFS_NFSPROTO_H_</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/appleapiopts.h&gt;</span>

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">__APPLE_API_PRIVATE</span>

<span class="enscript-comment">/*
 * NFS definitions per the various NFS protocol specs:
 * Version 2 (RFC 1094), Version 3 (RFC 1813), and Version 4 (RFC 3530)
 * and various protocol-related implementation definitions.
 */</span>

<span class="enscript-comment">/* Only define these if nfs_prot.h hasn't been included */</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">NFS_PROGRAM</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_PORT</span>	2049
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_PROG</span>	100003
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_VER2</span>	2
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_VER3</span>	3
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_VER4</span>	4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_V2MAXDATA</span>	8192
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_MAXDGRAMDATA</span> 16384
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_PREFDGRAMDATA</span> 8192
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_MAXDATA</span>	(64*1024) // XXX not ready for &gt;64K
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSRV_MAXDATA</span>	(64*1024) // XXX not ready for &gt;64K
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_MAXPATHLEN</span>	1024
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_MAXNAMLEN</span>	255
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_MAXPACKET</span>	(16*1024*1024)
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_UDPSOCKBUF</span>	(224*1024)
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_FABLKSIZE</span>	512	<span class="enscript-comment">/* Size in bytes of a block wrt fa_blocks */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS4_CALLBACK_PROG</span>		0x4E465343 <span class="enscript-comment">/* &quot;NFSC&quot; */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS4_CALLBACK_PROG_VERSION</span>	1

<span class="enscript-comment">/* Stat numbers for NFS RPC returns */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OK</span>				0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_PERM</span>			1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOENT</span>			2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_IO</span>			5
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NXIO</span>			6
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_ACCES</span>			13
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_EXIST</span>			17
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_XDEV</span>			18	<span class="enscript-comment">/* Version 3 only */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NODEV</span>			19
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOTDIR</span>			20
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_ISDIR</span>			21
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_INVAL</span>			22	<span class="enscript-comment">/* Version 3 only */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_FBIG</span>			27
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOSPC</span>			28
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_ROFS</span>			30
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_MLINK</span>			31	<span class="enscript-comment">/* Version 3 only */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NAMETOL</span>			63
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOTEMPTY</span>			66
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_DQUOT</span>			69
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_STALE</span>			70
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_REMOTE</span>			71	<span class="enscript-comment">/* Version 3 only */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_WFLUSH</span>			99	<span class="enscript-comment">/* Version 2 only */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BADHANDLE</span>		10001	<span class="enscript-comment">/* The rest Version 3 only */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOT_SYNC</span>			10002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BAD_COOKIE</span>		10003
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOTSUPP</span>			10004
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_TOOSMALL</span>			10005
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_SERVERFAULT</span>		10006
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BADTYPE</span>			10007
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_JUKEBOX</span>			10008
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_TRYLATER</span>			NFSERR_JUKEBOX
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_DELAY</span>			NFSERR_JUKEBOX
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_SAME</span>			10009	<span class="enscript-comment">/* The rest Version 4 only */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_DENIED</span>			10010
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_EXPIRED</span>			10011
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_LOCKED</span>			10012
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_GRACE</span>			10013
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_FHEXPIRED</span>		10014
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_SHARE_DENIED</span>		10015
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_WRONGSEC</span>			10016
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_CLID_INUSE</span>		10017
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_RESOURCE</span>			10018
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_MOVED</span>			10019
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOFILEHANDLE</span>		10020
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_MINOR_VERS_MISMATCH</span>	10021
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_STALE_CLIENTID</span>		10022
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_STALE_STATEID</span>		10023
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_OLD_STATEID</span>		10024
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BAD_STATEID</span>		10025
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BAD_SEQID</span>		10026
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NOT_SAME</span>			10027
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_LOCK_RANGE</span>		10028
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_SYMLINK</span>			10029
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_RESTOREFH</span>		10030
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_LEASE_MOVED</span>		10031
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_ATTRNOTSUPP</span>		10032
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_NO_GRACE</span>			10033
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_RECLAIM_BAD</span>		10034
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_RECLAIM_CONFLICT</span>		10035
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BADXDR</span>			10036
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_LOCKS_HELD</span>		10037
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_OPENMODE</span>			10038
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BADOWNER</span>			10039
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BADCHAR</span>			10040
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BADNAME</span>			10041
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_BAD_RANGE</span>		10042
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_LOCK_NOTSUPP</span>		10043
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_OP_ILLEGAL</span>		10044
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_DEADLOCK</span>			10045
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_FILE_OPEN</span>		10046
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_ADMIN_REVOKED</span>		10047
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_CB_PATH_DOWN</span>		10048

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_STALEWRITEVERF</span>		30001	<span class="enscript-comment">/* Fake return for nfs_commit() */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_DIRBUFDROPPED</span>		30002	<span class="enscript-comment">/* Fake return for nfs*_readdir_rpc() */</span>

<span class="enscript-comment">/*
 * For gss we would like to return EAUTH when we don't have or can't get credentials,
 * but some callers don't know what to do with it, so we define our own version
 * of EAUTH to be EACCES
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_EAUTH</span>	EACCES

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_RETVOID</span>		0x20000000 <span class="enscript-comment">/* Return void, not error */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_AUTHERR</span>		0x40000000 <span class="enscript-comment">/* Mark an authentication error */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSERR_RETERR</span>		0x80000000 <span class="enscript-comment">/* Mark an error return for V3 */</span>

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* !NFS_PROGRAM */</span>

<span class="enscript-comment">/* Sizes in bytes of various nfs rpc components */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSX_UNSIGNED</span>	4

<span class="enscript-comment">/* specific to NFS Version 2 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSX_V2FH</span>	32
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSX_V2FATTR</span>	68
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSX_V2SATTR</span>	32
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSX_V2COOKIE</span>	4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V2STATFS</span>	20

<span class="enscript-comment">/* specific to NFS Version 3 */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSX_V3FHMAX</span>		64	<span class="enscript-comment">/* max. allowed by protocol */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3FATTR</span>		84
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3SATTR</span>		60	<span class="enscript-comment">/* max. all fields filled in */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3POSTOPATTR</span>	(NFSX_V3FATTR + NFSX_UNSIGNED)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3WCCDATA</span>		(NFSX_V3POSTOPATTR + 8 * NFSX_UNSIGNED)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3COOKIEVERF</span> 	8
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3WRITEVERF</span> 	8
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3CREATEVERF</span>	8
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3STATFS</span>		52
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3FSINFO</span>		48
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSX_V3PATHCONF</span>		24

<span class="enscript-comment">/* specific to NFS Version 4 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS4_FHSIZE</span>		128
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS4_VERIFIER_SIZE</span>	8
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS4_OPAQUE_LIMIT</span>	1024

<span class="enscript-comment">/* variants for multiple versions */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_FH</span>(V)		(((V) == NFS_VER2) ? NFSX_V2FH : (NFSX_UNSIGNED + \
				 (((V) == NFS_VER3) ? NFSX_V3FHMAX : NFS4_FHSIZE)))
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_SRVFH</span>(V,FH)	(((V) == NFS_VER2) ? NFSX_V2FH : (FH)-&gt;nfh_len)
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">NFSX_FATTR</span>(V)		(((V) == NFS_VER3) ? NFSX_V3FATTR : NFSX_V2FATTR)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_PREOPATTR</span>(V)	(((V) == NFS_VER3) ? (7 * NFSX_UNSIGNED) : 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_POSTOPATTR</span>(V)	(((V) == NFS_VER3) ? (NFSX_V3FATTR + NFSX_UNSIGNED) : 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_POSTOPORFATTR</span>(V)	(((V) == NFS_VER3) ? (NFSX_V3FATTR + NFSX_UNSIGNED) : NFSX_V2FATTR)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_WCCDATA</span>(V)		(((V) == NFS_VER3) ? NFSX_V3WCCDATA : 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_WCCORFATTR</span>(V)	(((V) == NFS_VER3) ? NFSX_V3WCCDATA : NFSX_V2FATTR)
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">NFSX_SATTR</span>(V)		(((V) == NFS_VER3) ? NFSX_V3SATTR : NFSX_V2SATTR)
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">NFSX_COOKIEVERF</span>(V)	(((V) == NFS_VER3) ? NFSX_V3COOKIEVERF : 0)
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">NFSX_WRITEVERF</span>(V)	(((V) == NFS_VER3) ? NFSX_V3WRITEVERF : 0)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFSX_READDIR</span>(V)		(((V) == NFS_VER3) ? (5 * NFSX_UNSIGNED) : \
					(2 * NFSX_UNSIGNED))
#<span class="enscript-reference">define</span>	<span class="enscript-function-name">NFSX_STATFS</span>(V)		(((V) == NFS_VER3) ? NFSX_V3STATFS : NFSX_V2STATFS)

<span class="enscript-comment">/* Only define these if nfs_prot.h hasn't been included */</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">NFS_PROGRAM</span>

<span class="enscript-comment">/* nfs rpc procedure numbers (before version mapping) */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_NULL</span>		0
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_GETATTR</span>		1
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_SETATTR</span>		2
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_LOOKUP</span>		3
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_ACCESS</span>		4
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_READLINK</span>	5
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_READ</span>		6
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_WRITE</span>		7
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_CREATE</span>		8
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_MKDIR</span>		9
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_SYMLINK</span>		10
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_MKNOD</span>		11
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_REMOVE</span>		12
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_RMDIR</span>		13
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_RENAME</span>		14
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_LINK</span>		15
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_READDIR</span>		16
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_READDIRPLUS</span>	17
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_FSSTAT</span>		18
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_FSINFO</span>		19
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_PATHCONF</span>	20
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSPROC_COMMIT</span>		21

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* !NFS_PROGRAM */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSPROC_NOOP</span>		22
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_NPROCS</span>		23

<span class="enscript-comment">/* Actual Version 2 procedure numbers */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_NULL</span>		0
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_GETATTR</span>	1
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_SETATTR</span>	2
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_NOOP</span>		3
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_ROOT</span>		NFSV2PROC_NOOP	<span class="enscript-comment">/* Obsolete */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_LOOKUP</span>	4
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_READLINK</span>	5
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_READ</span>		6
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_WRITECACHE</span>	NFSV2PROC_NOOP	<span class="enscript-comment">/* Obsolete */</span>
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_WRITE</span>		8
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_CREATE</span>	9
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_REMOVE</span>	10
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_RENAME</span>	11
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_LINK</span>		12
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_SYMLINK</span>	13
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_MKDIR</span>		14
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_RMDIR</span>		15
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_READDIR</span>	16
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFSV2PROC_STATFS</span>	17

<span class="enscript-comment">/*
 * Constants used by the Version 3 protocol for various RPCs
 */</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSV3FSINFO_LINK</span>		0x01
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSV3FSINFO_SYMLINK</span>		0x02
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSV3FSINFO_HOMOGENEOUS</span>		0x08
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSV3FSINFO_CANSETTIME</span>		0x10

<span class="enscript-comment">/* time setting constants */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_TIME_DONT_CHANGE</span>		0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_TIME_SET_TO_SERVER</span>		1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_TIME_SET_TO_CLIENT</span>		2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS4_TIME_SET_TO_SERVER</span>		0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS4_TIME_SET_TO_CLIENT</span>		1

<span class="enscript-comment">/* access() constants */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACCESS_READ</span>			0x01
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACCESS_LOOKUP</span>		0x02
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACCESS_MODIFY</span>		0x04
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACCESS_EXTEND</span>		0x08
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACCESS_DELETE</span>		0x10
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACCESS_EXECUTE</span>		0x20
#<span class="enscript-reference">define</span>	<span class="enscript-variable-name">NFS_ACCESS_ALL</span> (NFS_ACCESS_READ | NFS_ACCESS_MODIFY		\
			 | NFS_ACCESS_EXTEND | NFS_ACCESS_EXECUTE	\
			 | NFS_ACCESS_DELETE | NFS_ACCESS_LOOKUP)

<span class="enscript-comment">/* NFS WRITE how constants */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_WRITE_UNSTABLE</span>		0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_WRITE_DATASYNC</span>		1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_WRITE_FILESYNC</span>		2

<span class="enscript-comment">/* NFS CREATE types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_CREATE_UNCHECKED</span>		0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_CREATE_GUARDED</span>		1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_CREATE_EXCLUSIVE</span>		2

<span class="enscript-comment">/* Only define these if nfs_prot.h hasn't been included */</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">NFS_PROGRAM</span>
<span class="enscript-comment">/* NFS object types */</span>
<span class="enscript-type">typedef</span> <span class="enscript-type">enum</span> { NFNON=0, NFREG=1, NFDIR=2, NFBLK=3, NFCHR=4, NFLNK=5,
	NFSOCK=6, NFFIFO=7, NFATTRDIR=8, NFNAMEDATTR=9 } nfstype;
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* !NFS_PROGRAM */</span>

<span class="enscript-comment">/*
 * File Handle (32 bytes for version 2), variable up to 64 for version 3
 * and variable up to 128 bytes for version 4.
 * File Handles of up to NFS_SMALLFH in size are stored directly in the
 * nfs node, whereas larger ones are malloc'd. (This never happens when
 * NFS_SMALLFH is set to the largest size.)
 * NFS_SMALLFH should be in the range of 32 to 64 and be divisible by 4.
 */</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">NFS_SMALLFH</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_SMALLFH</span>	64
#<span class="enscript-reference">endif</span>

<span class="enscript-comment">/*
 * NFS attribute management stuff
 */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ATTR_BITMAP_LEN</span>	2
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS_BITMAP_SET</span>(B, I)	(((uint32_t *)(B))[(I)/32] |= 1&lt;&lt;((I)%32))
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS_BITMAP_CLR</span>(B, I)	(((uint32_t *)(B))[(I)/32] &amp;= ~(1&lt;&lt;((I)%32)))
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS_BITMAP_ISSET</span>(B, I)	(((uint32_t *)(B))[(I)/32] &amp; (1&lt;&lt;((I)%32)))
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS_BITMAP_ZERO</span>(B, L) \
	<span class="enscript-keyword">do</span> { \
		<span class="enscript-type">int</span> __i; \
		<span class="enscript-keyword">for</span> (__i=0; __i &lt; (L); __i++) \
			((uint32_t*)(B))[__i] = 0; \
	} <span class="enscript-keyword">while</span> (0)

<span class="enscript-type">extern</span> uint32_t nfs_fs_attr_bitmap[NFS_ATTR_BITMAP_LEN];
<span class="enscript-type">extern</span> uint32_t nfs_object_attr_bitmap[NFS_ATTR_BITMAP_LEN];
<span class="enscript-type">extern</span> uint32_t nfs_getattr_bitmap[NFS_ATTR_BITMAP_LEN];

#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS_CLEAR_ATTRIBUTES</span>(A)	NFS_BITMAP_ZERO((A), NFS_ATTR_BITMAP_LEN)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS_COPY_ATTRIBUTES</span>(SRC, DST) \
	<span class="enscript-keyword">do</span> { \
	<span class="enscript-type">int</span> __i; \
	<span class="enscript-keyword">for</span> (__i=0; __i &lt; NFS_ATTR_BITMAP_LEN; __i++) \
		((uint32_t*)(DST))[__i] = ((uint32_t*)(SRC))[__i]; \
	} <span class="enscript-keyword">while</span> (0)

<span class="enscript-comment">/* NFS attributes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SUPPORTED_ATTRS</span>		0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TYPE</span>				1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FH_EXPIRE_TYPE</span>		2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_CHANGE</span>			3
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SIZE</span>				4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_LINK_SUPPORT</span>			5
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SYMLINK_SUPPORT</span>		6
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_NAMED_ATTR</span>			7
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FSID</span>				8
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_UNIQUE_HANDLES</span>		9
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_LEASE_TIME</span>			10
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_RDATTR_ERROR</span>			11
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FILEHANDLE</span>			19
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_ACL</span>				12
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_ACLSUPPORT</span>			13
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_ARCHIVE</span>			14
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_CANSETTIME</span>			15
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_CASE_INSENSITIVE</span>		16
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_CASE_PRESERVING</span>		17
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_CHOWN_RESTRICTED</span>		18
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FILEID</span>			20
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FILES_AVAIL</span>			21
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FILES_FREE</span>			22
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FILES_TOTAL</span>			23
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_FS_LOCATIONS</span>			24
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_HIDDEN</span>			25
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_HOMOGENEOUS</span>			26
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MAXFILESIZE</span>			27
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MAXLINK</span>			28
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MAXNAME</span>			29
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MAXREAD</span>			30
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MAXWRITE</span>			31
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MIMETYPE</span>			32
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MODE</span>				33
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_NO_TRUNC</span>			34
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_NUMLINKS</span>			35
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_OWNER</span>				36
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_OWNER_GROUP</span>			37
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_QUOTA_AVAIL_HARD</span>		38
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_QUOTA_AVAIL_SOFT</span>		39
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_QUOTA_USED</span>			40
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_RAWDEV</span>			41
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SPACE_AVAIL</span>			42
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SPACE_FREE</span>			43
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SPACE_TOTAL</span>			44
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SPACE_USED</span>			45
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_SYSTEM</span>			46
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_ACCESS</span>			47
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_ACCESS_SET</span>		48
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_BACKUP</span>			49
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_CREATE</span>			50
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_DELTA</span>			51
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_METADATA</span>			52
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_MODIFY</span>			53
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_TIME_MODIFY_SET</span>		54
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FATTR_MOUNTED_ON_FILEID</span>		55

#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS4_ALL_ATTRIBUTES</span>(A) \
	<span class="enscript-keyword">do</span> { \
	<span class="enscript-comment">/* required: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_SUPPORTED_ATTRS); \
	NFS_BITMAP_SET((A), NFS_FATTR_TYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_FH_EXPIRE_TYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_CHANGE); \
	NFS_BITMAP_SET((A), NFS_FATTR_SIZE); \
	NFS_BITMAP_SET((A), NFS_FATTR_LINK_SUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_SYMLINK_SUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_NAMED_ATTR); \
	NFS_BITMAP_SET((A), NFS_FATTR_FSID); \
	NFS_BITMAP_SET((A), NFS_FATTR_UNIQUE_HANDLES); \
	NFS_BITMAP_SET((A), NFS_FATTR_LEASE_TIME); \
	NFS_BITMAP_SET((A), NFS_FATTR_RDATTR_ERROR); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILEHANDLE); \
	<span class="enscript-comment">/* optional: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_ACL); \
	NFS_BITMAP_SET((A), NFS_FATTR_ACLSUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_ARCHIVE); \
	NFS_BITMAP_SET((A), NFS_FATTR_CANSETTIME); \
	NFS_BITMAP_SET((A), NFS_FATTR_CASE_INSENSITIVE); \
	NFS_BITMAP_SET((A), NFS_FATTR_CASE_PRESERVING); \
	NFS_BITMAP_SET((A), NFS_FATTR_CHOWN_RESTRICTED); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILEID); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_TOTAL); \
	NFS_BITMAP_SET((A), NFS_FATTR_FS_LOCATIONS); \
	NFS_BITMAP_SET((A), NFS_FATTR_HIDDEN); \
	NFS_BITMAP_SET((A), NFS_FATTR_HOMOGENEOUS); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXFILESIZE); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXLINK); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXNAME); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXREAD); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXWRITE); \
	NFS_BITMAP_SET((A), NFS_FATTR_MIMETYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_MODE); \
	NFS_BITMAP_SET((A), NFS_FATTR_NO_TRUNC); \
	NFS_BITMAP_SET((A), NFS_FATTR_NUMLINKS); \
	NFS_BITMAP_SET((A), NFS_FATTR_OWNER); \
	NFS_BITMAP_SET((A), NFS_FATTR_OWNER_GROUP); \
	NFS_BITMAP_SET((A), NFS_FATTR_QUOTA_AVAIL_HARD); \
	NFS_BITMAP_SET((A), NFS_FATTR_QUOTA_AVAIL_SOFT); \
	NFS_BITMAP_SET((A), NFS_FATTR_QUOTA_USED); \
	NFS_BITMAP_SET((A), NFS_FATTR_RAWDEV); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_TOTAL); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_USED); \
	NFS_BITMAP_SET((A), NFS_FATTR_SYSTEM); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_ACCESS); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_ACCESS_SET); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_BACKUP); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_CREATE); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_DELTA); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_METADATA); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_MODIFY); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_MODIFY_SET); \
	NFS_BITMAP_SET((A), NFS_FATTR_MOUNTED_ON_FILEID); \
	} <span class="enscript-keyword">while</span> (0)

#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS4_PER_OBJECT_ATTRIBUTES</span>(A) \
	<span class="enscript-keyword">do</span> { \
	<span class="enscript-comment">/* required: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_TYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_CHANGE); \
	NFS_BITMAP_SET((A), NFS_FATTR_SIZE); \
	NFS_BITMAP_SET((A), NFS_FATTR_NAMED_ATTR); \
	NFS_BITMAP_SET((A), NFS_FATTR_FSID); \
	NFS_BITMAP_SET((A), NFS_FATTR_RDATTR_ERROR); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILEHANDLE); \
	<span class="enscript-comment">/* optional: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_ACL); \
	NFS_BITMAP_SET((A), NFS_FATTR_ARCHIVE); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILEID); \
	NFS_BITMAP_SET((A), NFS_FATTR_HIDDEN); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXLINK); \
	NFS_BITMAP_SET((A), NFS_FATTR_MIMETYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_MODE); \
	NFS_BITMAP_SET((A), NFS_FATTR_NUMLINKS); \
	NFS_BITMAP_SET((A), NFS_FATTR_OWNER); \
	NFS_BITMAP_SET((A), NFS_FATTR_OWNER_GROUP); \
	NFS_BITMAP_SET((A), NFS_FATTR_RAWDEV); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_USED); \
	NFS_BITMAP_SET((A), NFS_FATTR_SYSTEM); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_ACCESS); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_BACKUP); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_CREATE); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_METADATA); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_MODIFY); \
	NFS_BITMAP_SET((A), NFS_FATTR_MOUNTED_ON_FILEID); \
	} <span class="enscript-keyword">while</span> (0)

#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS4_PER_FS_ATTRIBUTES</span>(A) \
	<span class="enscript-keyword">do</span> { \
	<span class="enscript-comment">/* required: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_SUPPORTED_ATTRS); \
	NFS_BITMAP_SET((A), NFS_FATTR_FH_EXPIRE_TYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_LINK_SUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_SYMLINK_SUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_UNIQUE_HANDLES); \
	NFS_BITMAP_SET((A), NFS_FATTR_LEASE_TIME); \
	<span class="enscript-comment">/* optional: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_ACLSUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_CANSETTIME); \
	NFS_BITMAP_SET((A), NFS_FATTR_CASE_INSENSITIVE); \
	NFS_BITMAP_SET((A), NFS_FATTR_CASE_PRESERVING); \
	NFS_BITMAP_SET((A), NFS_FATTR_CHOWN_RESTRICTED); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_TOTAL); \
	NFS_BITMAP_SET((A), NFS_FATTR_FS_LOCATIONS); \
	NFS_BITMAP_SET((A), NFS_FATTR_HOMOGENEOUS); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXFILESIZE); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXNAME); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXREAD); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXWRITE); \
	NFS_BITMAP_SET((A), NFS_FATTR_NO_TRUNC); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_TOTAL); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_DELTA); \
	} <span class="enscript-keyword">while</span> (0)

#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS4_DEFAULT_ATTRIBUTES</span>(A) \
	<span class="enscript-keyword">do</span> { \
	<span class="enscript-comment">/* required: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_SUPPORTED_ATTRS); \
	NFS_BITMAP_SET((A), NFS_FATTR_TYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_FH_EXPIRE_TYPE); \
	NFS_BITMAP_SET((A), NFS_FATTR_CHANGE); \
	NFS_BITMAP_SET((A), NFS_FATTR_SIZE); \
	NFS_BITMAP_SET((A), NFS_FATTR_LINK_SUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_SYMLINK_SUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_NAMED_ATTR); \
	NFS_BITMAP_SET((A), NFS_FATTR_FSID); \
	NFS_BITMAP_SET((A), NFS_FATTR_UNIQUE_HANDLES); \
	NFS_BITMAP_SET((A), NFS_FATTR_LEASE_TIME); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_RDATTR_ERROR); */</span> \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_FILEHANDLE); */</span> \
	<span class="enscript-comment">/* optional: */</span> \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_ACL); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_ACLSUPPORT); \
	NFS_BITMAP_SET((A), NFS_FATTR_ARCHIVE); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_CANSETTIME); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_CASE_INSENSITIVE); \
	NFS_BITMAP_SET((A), NFS_FATTR_CASE_PRESERVING); \
	NFS_BITMAP_SET((A), NFS_FATTR_CHOWN_RESTRICTED); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILEID); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_TOTAL); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_FS_LOCATIONS); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_HIDDEN); \
	NFS_BITMAP_SET((A), NFS_FATTR_HOMOGENEOUS); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXFILESIZE); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXLINK); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXNAME); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXREAD); \
	NFS_BITMAP_SET((A), NFS_FATTR_MAXWRITE); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_MIMETYPE); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_MODE); \
	NFS_BITMAP_SET((A), NFS_FATTR_NO_TRUNC); \
	NFS_BITMAP_SET((A), NFS_FATTR_NUMLINKS); \
	NFS_BITMAP_SET((A), NFS_FATTR_OWNER); \
	NFS_BITMAP_SET((A), NFS_FATTR_OWNER_GROUP); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_QUOTA_AVAIL_HARD); */</span> \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_QUOTA_AVAIL_SOFT); */</span> \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_QUOTA_USED); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_RAWDEV); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_TOTAL); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_USED); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_SYSTEM); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_ACCESS); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_TIME_ACCESS_SET); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_BACKUP); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_CREATE); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_TIME_DELTA); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_METADATA); \
	NFS_BITMAP_SET((A), NFS_FATTR_TIME_MODIFY); \
	<span class="enscript-comment">/* NFS_BITMAP_SET((A), NFS_FATTR_TIME_MODIFY_SET); */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_MOUNTED_ON_FILEID); \
	} <span class="enscript-keyword">while</span> (0)

<span class="enscript-comment">/* attributes requested when we want to do a &quot;statfs&quot; */</span>
#<span class="enscript-reference">define</span> <span class="enscript-function-name">NFS4_STATFS_ATTRIBUTES</span>(A) \
	<span class="enscript-keyword">do</span> { \
	<span class="enscript-comment">/* optional: */</span> \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_FILES_TOTAL); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_AVAIL); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_FREE); \
	NFS_BITMAP_SET((A), NFS_FATTR_SPACE_TOTAL); \
	} <span class="enscript-keyword">while</span> (0)

<span class="enscript-comment">/*
 * NFS OPEN constants
 */</span>
<span class="enscript-comment">/* open type */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_NOCREATE</span>			0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_CREATE</span>				1
<span class="enscript-comment">/* delegation space limit */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_LIMIT_SIZE</span>				1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_LIMIT_BLOCKS</span>			2
<span class="enscript-comment">/* access/deny modes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_ACCESS_NONE</span>		0x00000000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_ACCESS_READ</span>		0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_ACCESS_WRITE</span>		0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_ACCESS_BOTH</span>		0x00000003
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_DENY_NONE</span>		0x00000000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_DENY_READ</span>		0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_DENY_WRITE</span>		0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_SHARE_DENY_BOTH</span>		0x00000003
<span class="enscript-comment">/* delegation types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_DELEGATE_NONE</span>			0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_DELEGATE_READ</span>			1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_DELEGATE_WRITE</span>			2
<span class="enscript-comment">/* delegation claim types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_CLAIM_NULL</span>				0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_CLAIM_PREVIOUS</span>			1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_CLAIM_DELEGATE_CUR</span>			2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_CLAIM_DELEGATE_PREV</span>			3
<span class="enscript-comment">/* open result flags */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_RESULT_CONFIRM</span>			0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OPEN_RESULT_LOCKTYPE_POSIX</span>		0x00000004
<span class="enscript-comment">/* NFS lock types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_LOCK_TYPE_READ</span>			1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_LOCK_TYPE_WRITE</span>			2
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_LOCK_TYPE_READW</span>			3 <span class="enscript-comment">/* &quot;blocking&quot; */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_LOCK_TYPE_WRITEW</span>			4 <span class="enscript-comment">/* &quot;blocking&quot; */</span>

<span class="enscript-comment">/* NFSv4 RPC procedures */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSPROC4_NULL</span>				0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSPROC4_COMPOUND</span>			1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSPROC4_CB_NULL</span>			0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFSPROC4_CB_COMPOUND</span>			1

<span class="enscript-comment">/* NFSv4 opcodes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_ACCESS</span>				3
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_CLOSE</span>				4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_COMMIT</span>				5
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_CREATE</span>				6
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_DELEGPURGE</span>			7
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_DELEGRETURN</span>			8
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_GETATTR</span>				9
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_GETFH</span>				10
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_LINK</span>				11
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_LOCK</span>				12
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_LOCKT</span>				13
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_LOCKU</span>				14
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_LOOKUP</span>				15
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_LOOKUPP</span>				16
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_NVERIFY</span>				17
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_OPEN</span>				18
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_OPENATTR</span>				19
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_OPEN_CONFIRM</span>			20
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_OPEN_DOWNGRADE</span>			21
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_PUTFH</span>				22
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_PUTPUBFH</span>				23
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_PUTROOTFH</span>			24
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_READ</span>				25
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_READDIR</span>				26
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_READLINK</span>				27
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_REMOVE</span>				28
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_RENAME</span>				29
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_RENEW</span>				30
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_RESTOREFH</span>			31
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_SAVEFH</span>				32
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_SECINFO</span>				33
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_SETATTR</span>				34
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_SETCLIENTID</span>			35
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_SETCLIENTID_CONFIRM</span>		36
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_VERIFY</span>				37
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_WRITE</span>				38
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_RELEASE_LOCKOWNER</span>		39
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_ILLEGAL</span>				10044
<span class="enscript-comment">/* NFSv4 callback opcodes */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_CB_GETATTR</span>			3
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_CB_RECALL</span>			4
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_OP_CB_ILLEGAL</span>			10044

<span class="enscript-comment">/* NFSv4 file handle type flags */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FH_PERSISTENT</span>			0x00000000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FH_NOEXPIRE_WITH_OPEN</span>		0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FH_VOLATILE_ANY</span>			0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FH_VOL_MIGRATION</span>			0x00000004
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_FH_VOL_RENAME</span>			0x00000008

<span class="enscript-comment">/*
 * NFSv4 ACL constants
 */</span>
<span class="enscript-comment">/* ACE support mask bits */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACL_SUPPORT_ALLOW_ACL</span>		0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACL_SUPPORT_DENY_ACL</span>		0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACL_SUPPORT_AUDIT_ACL</span>		0x00000004
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACL_SUPPORT_ALARM_ACL</span>		0x00000008
<span class="enscript-comment">/* ACE types */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_ACCESS_ALLOWED_ACE_TYPE</span>		0x00000000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_ACCESS_DENIED_ACE_TYPE</span>		0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_SYSTEM_AUDIT_ACE_TYPE</span>		0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_SYSTEM_ALARM_ACE_TYPE</span>		0x00000003
<span class="enscript-comment">/* ACE flags */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_FILE_INHERIT_ACE</span>		0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_DIRECTORY_INHERIT_ACE</span>		0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_NO_PROPAGATE_INHERIT_ACE</span>	0x00000004
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_INHERIT_ONLY_ACE</span>		0x00000008
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_SUCCESSFUL_ACCESS_ACE_FLAG</span>	0x00000010
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_FAILED_ACCESS_ACE_FLAG</span>		0x00000020
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_IDENTIFIER_GROUP</span>		0x00000040
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_INHERITED_ACE</span>			0x00000080
<span class="enscript-comment">/* ACE mask flags */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_READ_DATA</span>			0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_LIST_DIRECTORY</span>			0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_WRITE_DATA</span>			0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_ADD_FILE</span>			0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_APPEND_DATA</span>			0x00000004
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_ADD_SUBDIRECTORY</span>		0x00000004
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_READ_NAMED_ATTRS</span>		0x00000008
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_WRITE_NAMED_ATTRS</span>		0x00000010
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_EXECUTE</span>				0x00000020
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_DELETE_CHILD</span>			0x00000040
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_READ_ATTRIBUTES</span>			0x00000080
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_WRITE_ATTRIBUTES</span>		0x00000100
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_DELETE</span>				0x00010000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_READ_ACL</span>			0x00020000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_WRITE_ACL</span>			0x00040000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_WRITE_OWNER</span>			0x00080000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_SYNCHRONIZE</span>			0x00100000
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_GENERIC_READ</span>			0x00120081
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_GENERIC_WRITE</span>			0x00160106
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">NFS_ACE_GENERIC_EXECUTE</span>			0x001200A0


<span class="enscript-comment">/*
 * Quads are defined as arrays of 2 32-bit values to ensure dense packing
 * for the protocol and to facilitate xdr conversion.
 */</span>
<span class="enscript-type">struct</span> nfs_uquad {
	u_int32_t	nfsuquad[2];
};
<span class="enscript-type">typedef</span>	<span class="enscript-type">struct</span> nfs_uquad	nfsuint64;

<span class="enscript-comment">/*
 * Used to convert between two u_int32_ts and a u_quad_t.
 */</span>
<span class="enscript-type">union</span> nfs_quadconvert {
	u_int32_t		lval[2];
	u_quad_t	qval;
};
<span class="enscript-type">typedef</span> <span class="enscript-type">union</span> nfs_quadconvert	nfsquad_t;

<span class="enscript-comment">/*
 * special data/attribute associated with NFBLK/NFCHR
 */</span>
<span class="enscript-type">struct</span> nfs_specdata {
	uint32_t specdata1;	<span class="enscript-comment">/* major device number */</span>
	uint32_t specdata2;	<span class="enscript-comment">/* minor device number */</span>
};
<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> nfs_specdata nfs_specdata;

<span class="enscript-comment">/*
 * an &quot;fsid&quot; large enough to hold an NFSv4 fsid.
 */</span>
<span class="enscript-type">struct</span> nfs_fsid {
	uint64_t major;
	uint64_t minor;
};
<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> nfs_fsid nfs_fsid;

<span class="enscript-comment">/*
 * NFSv4 stateid structure
 */</span>
<span class="enscript-type">struct</span> nfs_stateid {
	uint32_t	seqid;
	uint32_t	other[3];
};
<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> nfs_stateid nfs_stateid;

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* __APPLE_API_PRIVATE */</span>
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* _NFS_NFSPROTO_H_ */</span>
</pre>
<hr />
</body></html>