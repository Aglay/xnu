<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>byte_order.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">byte_order.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 1999-2002 Apple Computer, Inc. All rights reserved.
 *
 * @APPLE_LICENSE_HEADER_START@
 * 
 * &quot;Portions Copyright (c) 1999 Apple Computer, Inc.  All Rights
 * Reserved.  This file contains Original Code and/or Modifications of
 * Original Code as defined in and that are subject to the Apple Public
 * Source License Version 1.0 (the 'License').  You may not use this file
 * except in compliance with the License.  Please obtain a copy of the
 * License at <a href="http://www.apple.com/publicsource">http://www.apple.com/publicsource</a> and read it before using
 * this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT.  Please see the
 * License for the specific language governing rights and limitations
 * under the License.&quot;
 * 
 * @APPLE_LICENSE_HEADER_END@
 */</span>
<span class="enscript-comment">/*
 * Copyright (c) 1992 NeXT Computer, Inc.
 *
 * Byte ordering conversion.
 *
 */</span>

#<span class="enscript-reference">ifndef</span>	<span class="enscript-variable-name">_ARCHITECTURE_BYTE_ORDER_H_</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_ARCHITECTURE_BYTE_ORDER_H_</span>
 
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;libkern/OSByteOrder.h&gt;</span>

<span class="enscript-type">typedef</span> <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> NXSwappedFloat;
<span class="enscript-type">typedef</span> <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span> NXSwappedDouble;

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span> 
<span class="enscript-function-name">NXSwapShort</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">short</span> inv
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>)OSSwapInt16((uint16_t)inv);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>
<span class="enscript-function-name">NXSwapInt</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> inv
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>)OSSwapInt32((uint32_t)inv);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapLong</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> inv
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>)OSSwapInt32((uint32_t)inv);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapLongLong</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span> inv
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>)OSSwapInt64((uint64_t)inv);
}

<span class="enscript-type">static</span> __inline__ NXSwappedFloat
<span class="enscript-function-name">NXConvertHostFloatToSwapped</span>(<span class="enscript-type">float</span> x)
{
    <span class="enscript-type">union</span> fconv {
        <span class="enscript-type">float</span> number;
        NXSwappedFloat sf;
    } u;
    u.number = x;
    <span class="enscript-keyword">return</span> u.sf;
}

<span class="enscript-type">static</span> __inline__ <span class="enscript-type">float</span>
<span class="enscript-function-name">NXConvertSwappedFloatToHost</span>(NXSwappedFloat x)
{
    <span class="enscript-type">union</span> fconv {
        <span class="enscript-type">float</span> number;
        NXSwappedFloat sf;
    } u;
    u.sf = x;
    <span class="enscript-keyword">return</span> u.number;
}

<span class="enscript-type">static</span> __inline__ NXSwappedDouble
<span class="enscript-function-name">NXConvertHostDoubleToSwapped</span>(<span class="enscript-type">double</span> x)
{
    <span class="enscript-type">union</span> dconv {
        <span class="enscript-type">double</span> number;
        NXSwappedDouble sd;
    } u;
    u.number = x;
    <span class="enscript-keyword">return</span> u.sd;
}

<span class="enscript-type">static</span> __inline__ <span class="enscript-type">double</span>
<span class="enscript-function-name">NXConvertSwappedDoubleToHost</span>(NXSwappedDouble x)
{
    <span class="enscript-type">union</span> dconv {
        <span class="enscript-type">double</span> number;
        NXSwappedDouble sd;
    } u;
    u.sd = x;
    <span class="enscript-keyword">return</span> u.number;
}

<span class="enscript-type">static</span> __inline__ NXSwappedFloat
<span class="enscript-function-name">NXSwapFloat</span>(NXSwappedFloat x)
{ 
    <span class="enscript-keyword">return</span> (NXSwappedFloat)OSSwapInt32((uint32_t)x);  
}

<span class="enscript-type">static</span> __inline__ NXSwappedDouble   
<span class="enscript-function-name">NXSwapDouble</span>(NXSwappedDouble x)
{  
    <span class="enscript-keyword">return</span> (NXSwappedDouble)OSSwapInt64((uint64_t)x);
}

<span class="enscript-comment">/*
 * Identify the byte order
 * of the current host.
 */</span>

<span class="enscript-type">enum</span> NXByteOrder {
    NX_UnknownByteOrder,
    NX_LittleEndian,
    NX_BigEndian
};

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">enum</span> NXByteOrder
<span class="enscript-function-name">NXHostByteOrder</span>(<span class="enscript-type">void</span>)
{
#<span class="enscript-reference">if</span> <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">__LITTLE_ENDIAN__</span>)
    <span class="enscript-keyword">return</span> NX_LittleEndian;
#<span class="enscript-reference">elif</span> <span class="enscript-reference">defined</span>(<span class="enscript-variable-name">__BIG_ENDIAN__</span>)
    <span class="enscript-keyword">return</span> NX_BigEndian;
#<span class="enscript-reference">else</span>
    <span class="enscript-keyword">return</span> NX_UnknownByteOrder;
#<span class="enscript-reference">endif</span>
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>
<span class="enscript-function-name">NXSwapBigShortToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>)OSSwapBigToHostInt16((uint16_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>
<span class="enscript-function-name">NXSwapBigIntToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>)OSSwapBigToHostInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapBigLongToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>)OSSwapBigToHostInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapBigLongLongToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>)OSSwapBigToHostInt64((uint64_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">double</span>
<span class="enscript-function-name">NXSwapBigDoubleToHost</span>(
    NXSwappedDouble	x
)
{
    <span class="enscript-keyword">return</span> NXConvertSwappedDoubleToHost((NXSwappedDouble)OSSwapBigToHostInt64((uint64_t)x));
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">float</span>
<span class="enscript-function-name">NXSwapBigFloatToHost</span>(
    NXSwappedFloat	x
)
{
    <span class="enscript-keyword">return</span> NXConvertSwappedFloatToHost((NXSwappedFloat)OSSwapBigToHostInt32((uint32_t)x));
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>
<span class="enscript-function-name">NXSwapHostShortToBig</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>)OSSwapHostToBigInt16((uint16_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>
<span class="enscript-function-name">NXSwapHostIntToBig</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>)OSSwapHostToBigInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapHostLongToBig</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>)OSSwapHostToBigInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapHostLongLongToBig</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>)OSSwapHostToBigInt64((uint64_t)x);
}

<span class="enscript-type">static</span> __inline__
NXSwappedDouble
<span class="enscript-function-name">NXSwapHostDoubleToBig</span>(
    <span class="enscript-type">double</span>	x
)
{
    <span class="enscript-keyword">return</span> (NXSwappedDouble)OSSwapHostToBigInt64((uint64_t)NXConvertHostDoubleToSwapped(x));
}

<span class="enscript-type">static</span> __inline__
NXSwappedFloat
<span class="enscript-function-name">NXSwapHostFloatToBig</span>(
    <span class="enscript-type">float</span>	x
)
{
    <span class="enscript-keyword">return</span> (NXSwappedFloat)OSSwapHostToBigInt32((uint32_t)NXConvertHostFloatToSwapped(x));
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>
<span class="enscript-function-name">NXSwapLittleShortToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>)OSSwapLittleToHostInt16((uint16_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>
<span class="enscript-function-name">NXSwapLittleIntToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>)OSSwapLittleToHostInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapLittleLongToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>)OSSwapLittleToHostInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapLittleLongLongToHost</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>)OSSwapLittleToHostInt64((uint64_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">double</span>
<span class="enscript-function-name">NXSwapLittleDoubleToHost</span>(
    NXSwappedDouble	x
)
{
    <span class="enscript-keyword">return</span> NXConvertSwappedDoubleToHost((NXSwappedDouble)OSSwapLittleToHostInt64((uint64_t)x));
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">float</span>
<span class="enscript-function-name">NXSwapLittleFloatToHost</span>(
    NXSwappedFloat	x
)
{
    <span class="enscript-keyword">return</span> NXConvertSwappedFloatToHost((NXSwappedFloat)OSSwapLittleToHostInt32((uint32_t)x));
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>
<span class="enscript-function-name">NXSwapHostShortToLittle</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">short</span>)OSSwapHostToLittleInt16((uint16_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>
<span class="enscript-function-name">NXSwapHostIntToLittle</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>)OSSwapHostToLittleInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapHostLongToLittle</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span>)OSSwapHostToLittleInt32((uint32_t)x);
}

<span class="enscript-type">static</span> __inline__
<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>
<span class="enscript-function-name">NXSwapHostLongLongToLittle</span>(
    <span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>	x
)
{
    <span class="enscript-keyword">return</span> (<span class="enscript-type">unsigned</span> <span class="enscript-type">long</span> <span class="enscript-type">long</span>)OSSwapHostToLittleInt64((uint64_t)x);
}

<span class="enscript-type">static</span> __inline__
NXSwappedDouble
<span class="enscript-function-name">NXSwapHostDoubleToLittle</span>(
    <span class="enscript-type">double</span>	x
)
{
    <span class="enscript-keyword">return</span> (NXSwappedDouble)OSSwapHostToLittleInt64((uint64_t)NXConvertHostDoubleToSwapped(x));
}

<span class="enscript-type">static</span> __inline__
NXSwappedFloat
<span class="enscript-function-name">NXSwapHostFloatToLittle</span>(
    <span class="enscript-type">float</span>	x
)
{
    <span class="enscript-keyword">return</span> (NXSwappedFloat)OSSwapHostToLittleInt32((uint32_t)NXConvertHostFloatToSwapped(x));
}

#<span class="enscript-reference">endif</span>	<span class="enscript-comment">/* _ARCHITECTURE_BYTE_ORDER_H_ */</span>
</pre>
<hr />
</body></html>