<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>libproc_internal.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">libproc_internal.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2010 Apple Inc. All rights reserved.
 *
 * @APPLE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this
 * file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_LICENSE_HEADER_END@
 */</span>
#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_LIBPROC_INTERNALH_</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_LIBPROC_INTERNALH_</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;TargetConditionals.h&gt;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;sys/cdefs.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;libproc.h&gt;</span>

__BEGIN_DECLS


<span class="enscript-comment">/* resume the process suspend due to low VM resource */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_clear_vmpressure</span>(pid_t pid);
<span class="enscript-comment">/* set self as the one who is going to resume suspended processes due to low VM. Need to be root */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_set_owner_vmpressure</span>(<span class="enscript-type">void</span>);

<span class="enscript-comment">/* mark yourself to delay idle sleep on disk IO */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_set_delayidlesleep</span>(<span class="enscript-type">void</span>);
<span class="enscript-comment">/* Reset yourself to delay idle sleep on disk IO, if already set */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_clear_delayidlesleep</span>(<span class="enscript-type">void</span>);


<span class="enscript-comment">/* sub policies for PROC_POLICY_APPTYPE */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_POLICY_OSX_APPTYPE_NONE</span>            0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_POLICY_OSX_APPTYPE_TAL</span>             1       <span class="enscript-comment">/* TAL based launched */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_POLICY_OSX_APPTYPE_WIDGET</span>          2       <span class="enscript-comment">/* for dashboard client */</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_POLICY_OSX_APPTYPE_DASHCLIENT</span>      2       <span class="enscript-comment">/* rename to move away from widget */</span>

<span class="enscript-comment">/* 
 * Resumes the backgrounded TAL or dashboard client. Only priv users can disable TAL apps.
 * Valid apptype are PROC_POLICY_OSX_APPTYPE_DASHCLIENT and PROC_POLICY_OSX_APPTYPE_TAL.
 * Returns 0 on success otherwise appropriate error code.
 */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_disable_apptype</span>(pid_t pid, <span class="enscript-type">int</span> apptype);
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_enable_apptype</span>(pid_t pid, <span class="enscript-type">int</span> apptype);


<span class="enscript-comment">/* mark process as importance donating */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_donate_importance_boost</span>(<span class="enscript-type">void</span>);

<span class="enscript-comment">/* DEPRECATED: supported for backward compatibility only */</span>
<span class="enscript-comment">/* check the message for an importance boost and take an assertion on it */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_importance_assertion_begin_with_msg</span>(mach_msg_header_t  *msg,
					     mach_msg_trailer_t *trailer,
					     uint64_t *assertion_token) __OSX_AVAILABLE_BUT_DEPRECATED(__MAC_10_8, __MAC_10_10, __IPHONE_6_0, __IPHONE_8_0);

<span class="enscript-comment">/* DEPRECATED: supported for backward compatibility only */</span>
<span class="enscript-comment">/* drop an assertion */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_importance_assertion_complete</span>(uint64_t assertion_handle);

<span class="enscript-comment">/* check the message for a App De-Nap boost and take an assertion on it */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_denap_assertion_begin_with_msg</span>(mach_msg_header_t  *msg,
					uint64_t *assertion_token);

<span class="enscript-comment">/* drop a de-nap assertion */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_denap_assertion_complete</span>(uint64_t assertion_handle);

<span class="enscript-type">int</span> <span class="enscript-function-name">proc_set_cpumon_params</span>(pid_t pid, <span class="enscript-type">int</span> percentage, <span class="enscript-type">int</span> interval) __OSX_AVAILABLE_STARTING(__MAC_10_8, __IPHONE_6_0);
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_get_cpumon_params</span>(pid_t pid, <span class="enscript-type">int</span> *percentage, <span class="enscript-type">int</span> *interval) __OSX_AVAILABLE_STARTING(__MAC_10_8, __IPHONE_6_0);
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_set_cpumon_defaults</span>(pid_t pid) __OSX_AVAILABLE_STARTING(__MAC_10_8, __IPHONE_6_0);
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_disable_cpumon</span>(pid_t pid) __OSX_AVAILABLE_STARTING(__MAC_10_8, __IPHONE_6_0);

<span class="enscript-type">int</span> <span class="enscript-function-name">proc_set_wakemon_params</span>(pid_t pid, <span class="enscript-type">int</span> rate_hz, <span class="enscript-type">int</span> flags) __OSX_AVAILABLE_STARTING(__MAC_10_9, __IPHONE_7_0);
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_get_wakemon_params</span>(pid_t pid, <span class="enscript-type">int</span> *rate_hz, <span class="enscript-type">int</span> *flags) __OSX_AVAILABLE_STARTING(__MAC_10_9, __IPHONE_7_0);
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_set_wakemon_defaults</span>(pid_t pid) __OSX_AVAILABLE_STARTING(__MAC_10_9, __IPHONE_7_0);
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_disable_wakemon</span>(pid_t pid) __OSX_AVAILABLE_STARTING(__MAC_10_9, __IPHONE_7_0);

<span class="enscript-type">int</span> <span class="enscript-function-name">proc_set_cpumon_params_fatal</span>(pid_t pid, <span class="enscript-type">int</span> percentage, <span class="enscript-type">int</span> interval) __OSX_AVAILABLE_STARTING(__MAC_10_10, __IPHONE_8_0);

<span class="enscript-comment">/* request trace buffer collection */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_trace_log</span>(pid_t pid, uint64_t uniqueid) __OSX_AVAILABLE_STARTING(__MAC_10_10, __IPHONE_8_0);

<span class="enscript-comment">/* proc_info call to get the originator information */</span>
<span class="enscript-type">int</span> <span class="enscript-function-name">proc_pidoriginatorinfo</span>(<span class="enscript-type">int</span> flavor,  <span class="enscript-type">void</span> *buffer, <span class="enscript-type">int</span> buffersize) __OSX_AVAILABLE_STARTING(__MAC_10_10, __IPHONE_8_0);

<span class="enscript-type">int</span> <span class="enscript-function-name">proc_listcoalitions</span>(<span class="enscript-type">int</span> flavor, <span class="enscript-type">int</span> coaltype, <span class="enscript-type">void</span> *buffer, <span class="enscript-type">int</span> buffersize) __OSX_AVAILABLE_STARTING(__MAC_10_11, __IPHONE_8_3);

#<span class="enscript-reference">if</span> !<span class="enscript-variable-name">TARGET_IPHONE_SIMULATOR</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_SUPPRESS_SUCCESS</span>                (0)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_SUPPRESS_BAD_ARGUMENTS</span>         (-1)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_SUPPRESS_OLD_GENERATION</span>        (-2)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">PROC_SUPPRESS_ALREADY_SUPPRESSED</span>    (-3)

<span class="enscript-type">int</span> <span class="enscript-function-name">proc_suppress</span>(pid_t pid, uint64_t *generation);
#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* !TARGET_IPHONE_SIMULATOR */</span>

__END_DECLS

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* _LIBPROC_INTERNALH_ */</span>

</pre>
<hr />
</body></html>