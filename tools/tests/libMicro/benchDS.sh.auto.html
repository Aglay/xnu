<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>benchDS.sh</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">benchDS.sh&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-reference">#!/bin/sh
</span><span class="enscript-comment">#
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># CDDL HEADER START
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># The contents of this file are subject to the terms
</span><span class="enscript-comment"># of the Common Development and Distribution License
</span><span class="enscript-comment"># (the &quot;License&quot;).  You may not use this file except
</span><span class="enscript-comment"># in compliance with the License.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># You can obtain a copy of the license at
</span><span class="enscript-comment"># src/OPENSOLARIS.LICENSE
</span><span class="enscript-comment"># or <a href="http://www.opensolaris.org/os/licensing.">http://www.opensolaris.org/os/licensing.</a>
</span><span class="enscript-comment"># See the License for the specific language governing
</span><span class="enscript-comment"># permissions and limitations under the License.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># When distributing Covered Code, include this CDDL
</span><span class="enscript-comment"># HEADER in each file and include the License file at
</span><span class="enscript-comment"># usr/src/OPENSOLARIS.LICENSE.  If applicable,
</span><span class="enscript-comment"># add the following below this CDDL HEADER, with the
</span><span class="enscript-comment"># fields enclosed by brackets &quot;[]&quot; replaced with your
</span><span class="enscript-comment"># own identifying information: Portions Copyright [yyyy]
</span><span class="enscript-comment"># [name of copyright owner]
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># CDDL HEADER END
</span><span class="enscript-comment">#
</span>
<span class="enscript-comment">#
</span><span class="enscript-comment"># Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
</span><span class="enscript-comment"># Use is subject to license terms.
</span><span class="enscript-comment">#
</span>
function usage {
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;Usage&quot;</span>
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$0 [-l] [-h] &lt;#-of-users&gt; nodename [test match pattern]&quot;</span>
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;-l                    : disable libinfo L1 cache&quot;</span>
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;-h                    : Help. This option displays information on how to run the script. &quot;</span>
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;[test match pattern]  : This option runs only the test that is specified&quot;</span>
    <span class="enscript-keyword">echo</span>                                                                                                                                                                                                       
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;You must have set up users, groups, and SACLs with od_account_create&quot;</span>
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;with the same number of user accounts.&quot;</span>                                                                                                                                                               
    <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;Supply a pattern to match to run a subset of tests&quot;</span>
    <span class="enscript-keyword">exit</span> 1
}

<span class="enscript-comment"># default to libinfo cache enabled
</span>L1CACHE=<span class="enscript-string">&quot;1&quot;</span>

<span class="enscript-keyword">while</span> <span class="enscript-keyword">getopts</span> <span class="enscript-string">&quot;lh&quot;</span> OPT_LIST
<span class="enscript-keyword">do</span>
    <span class="enscript-keyword">case</span> $OPT_LIST <span class="enscript-keyword">in</span> 
        l) L1CACHE=<span class="enscript-string">&quot;0&quot;</span>;;    <span class="enscript-comment"># to run the libmicro tests with l1cache disabled
</span>        h) usage;;
        *) usage;;
    <span class="enscript-keyword">esac</span>
<span class="enscript-keyword">done</span>

<span class="enscript-keyword">shift</span> `expr $OPTIND - 1`

<span class="enscript-keyword">if</span> [ $<span class="enscript-comment"># -lt 2 -o $# -gt 3 ]; then
</span>    usage
<span class="enscript-keyword">fi</span>

tattle=<span class="enscript-string">&quot;./tattle&quot;</span>

bench_version=0.4.0
libmicro_version=`$tattle -V`

<span class="enscript-keyword">case</span> $libmicro_version <span class="enscript-keyword">in</span>
$bench_version)
	;;
*)
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;ERROR: libMicro version doesn't match 'bench' script version&quot;</span>
	<span class="enscript-keyword">exit</span> 1
<span class="enscript-keyword">esac</span>

TMPROOT=/private/tmp/libmicro.$$
VARROOT=/private/var/tmp/libmicro.$$
mkdir -p $TMPROOT
mkdir -p $VARROOT
<span class="enscript-keyword">trap</span> <span class="enscript-string">&quot;rm -rf $TMPROOT $VARROOT &amp;&amp; exit&quot;</span> 0 2

TFILE=$TMPROOT/data
IFILE=$TMPROOT/ifile
TDIR1=$TMPROOT/0/1/2/3/4/5/6/7/8/9
TDIR2=$TMPROOT/1/2/3/4/5/6/7/8/9/0
VFILE=$VARROOT/data
VDIR1=$VARROOT/0/1/2/3/4/5/6/7/8/9
VDIR2=$VARROOT/1/2/3/4/5/6/7/8/9/0

OPTS=<span class="enscript-string">&quot;-E -C 200 -L -S -W&quot;</span>

dd <span class="enscript-keyword">if</span>=/dev/zero of=$TFILE bs=1024k count=10 2&gt;/dev/null
dd <span class="enscript-keyword">if</span>=/dev/zero of=$VFILE bs=1024k count=10 2&gt;/dev/null
mkdir -p $TDIR1 $TDIR2
mkdir -p $VDIR1 $VDIR2

touch $IFILE
/usr/bin/touch /private/var/tmp/lmbench


<span class="enscript-comment"># produce benchmark header for easier comparisons
</span>
hostname=`uname -n`

<span class="enscript-keyword">if</span> [ -f /usr/sbin/psrinfo ]; <span class="enscript-keyword">then</span>
	p_count=`psrinfo|wc -l`
	p_mhz=`psrinfo -v | awk '/operates/{print $6 <span class="enscript-string">&quot;MHz&quot;</span>; <span class="enscript-keyword">exit</span> }'`
	p_type=`psrinfo -vp 2&gt;/dev/null | awk '{<span class="enscript-keyword">if</span> (NR == 3) {print $0; <span class="enscript-keyword">exit</span>}}'` 
	p_ipaddr=`getent hosts $hostname | awk '{print $1}'`
<span class="enscript-keyword">fi</span>

<span class="enscript-keyword">if</span> [ -f /proc/cpuinfo ]; <span class="enscript-keyword">then</span>
	p_count=`egrep processor /proc/cpuinfo | wc -l`
	p_mhz=`awk -F: '/cpu MHz/{printf(<span class="enscript-string">&quot;%5.0f00Mhz\n&quot;</span>,$2/100); <span class="enscript-keyword">exit</span>}' /proc/cpuinfo`
	p_type=`awk -F: '/model name/{print $2; <span class="enscript-keyword">exit</span>}' /proc/cpuinfo`
	p_ipaddr=`getent hosts $hostname | awk '{print $1}'`
<span class="enscript-keyword">else</span>
<span class="enscript-comment">## Mac OS X specific stuff
</span><span class="enscript-comment"># first, get ugly output, in case pretty output isn't available
</span><span class="enscript-comment">#
</span>	p_count=`sysctl -n hw.physicalcpu`
	p_mhz=`sysctl -n hw.cpufrequency`
	p_type=`sysctl -n hw.model`

<span class="enscript-keyword">if</span> [ -x /usr/sbin/system_profiler ]; <span class="enscript-keyword">then</span>
	<span class="enscript-comment"># &lt;rdar://4655981&gt; requires this hunk of work-around
</span>	<span class="enscript-comment"># grep the XML for the characteristic we need. The key appears twice, so grep for the useful key (with 'string')
</span>	<span class="enscript-comment"># use sed to strip off the &lt;string&gt;&lt;/string&gt; and the tabs in front of the string.  So much work for so little result.
</span>	<span class="enscript-comment">#
</span>		p_mhz=`system_profiler -xml -detailLevel mini SPHardwareDataType | \
			grep -A1 current_processor_speed | grep string | \
			sed -E 's/&lt;string&gt;(.+)&lt;\/string&gt;/\1/' | sed 's-	--g'`
		p_type=`system_profiler -xml -detailLevel mini SPHardwareDataType | \
			grep -A1 cpu_type | grep string | \
			sed -E 's/&lt;string&gt;(.+)&lt;\/string&gt;/\1/' | sed 's-	--g'`
<span class="enscript-keyword">fi</span>

<span class="enscript-comment"># look for en0 (usually ethernet) if that isn't there try en1 (usually wireless) else give up
</span>	p_ipaddr=`ipconfig getpacket en0 | grep yiaddr | tr <span class="enscript-string">&quot;= &quot;</span> <span class="enscript-string">&quot;\n&quot;</span> | grep [0-9]`
	<span class="enscript-keyword">if</span> [ ! $p_ipaddr  ]; <span class="enscript-keyword">then</span>
		p_ipaddr=`ipconfig getpacket en1 | grep yiaddr | tr <span class="enscript-string">&quot;= &quot;</span> <span class="enscript-string">&quot;\n&quot;</span> | grep [0-9]`
	elif [ ! $p_ipaddr ]; <span class="enscript-keyword">then</span>
		p_ipaddr=<span class="enscript-string">&quot;unknown&quot;</span>
	<span class="enscript-keyword">fi</span>
<span class="enscript-keyword">fi</span>

printf <span class="enscript-string">&quot;\n\n!Libmicro_#:   %30s\n&quot;</span> $libmicro_version
printf <span class="enscript-string">&quot;!Options:      %30s\n&quot;</span> <span class="enscript-string">&quot;$OPTS&quot;</span>
printf <span class="enscript-string">&quot;!Machine_name: %30s\n&quot;</span> <span class="enscript-string">&quot;$hostname&quot;</span>
printf <span class="enscript-string">&quot;!OS_name:      %30s\n&quot;</span> `uname -s`
printf <span class="enscript-string">&quot;!OS_release:   %30s\n&quot;</span> `sw_vers -productVersion`
printf <span class="enscript-string">&quot;!OS_build:     %30.18s\n&quot;</span> <span class="enscript-string">&quot;`sw_vers -buildVersion`&quot;</span>
printf <span class="enscript-string">&quot;!Processor:    %30s\n&quot;</span> `arch`
printf <span class="enscript-string">&quot;!#CPUs:        %30s\n&quot;</span> $p_count
printf <span class="enscript-string">&quot;!CPU_MHz:      %30s\n&quot;</span> <span class="enscript-string">&quot;$p_mhz&quot;</span>
printf <span class="enscript-string">&quot;!CPU_NAME:     %30s\n&quot;</span> <span class="enscript-string">&quot;$p_type&quot;</span>
printf <span class="enscript-string">&quot;!IP_address:   %30s\n&quot;</span> <span class="enscript-string">&quot;$p_ipaddr&quot;</span>
printf <span class="enscript-string">&quot;!Run_by:       %30s\n&quot;</span> $LOGNAME
printf <span class="enscript-string">&quot;!Date:	       %30s\n&quot;</span> <span class="enscript-string">&quot;`date '+%D %R'`&quot;</span>
printf <span class="enscript-string">&quot;!Compiler:     %30s\n&quot;</span> `$tattle -c`
printf <span class="enscript-string">&quot;!Compiler Ver.:%30s\n&quot;</span> <span class="enscript-string">&quot;`$tattle -v`&quot;</span>
printf <span class="enscript-string">&quot;!sizeof(long): %30s\n&quot;</span> `$tattle -s`
printf <span class="enscript-string">&quot;!extra_CFLAGS: %30s\n&quot;</span> <span class="enscript-string">&quot;`$tattle -f`&quot;</span>
printf <span class="enscript-string">&quot;!TimerRes:     %30s\n\n\n&quot;</span> <span class="enscript-string">&quot;`$tattle -r`&quot;</span>
 
bin_dir=<span class="enscript-string">&quot;$TMPROOT/bin&quot;</span>

mkdir -p $bin_dir
cp bin-*/exec_bin $bin_dir/$A

cp ./apple/bin-*/posix_spawn_bin $bin_dir/$A

newline=0

<span class="enscript-comment"># We commonly want to adjust this script for the number of users
</span><span class="enscript-comment"># and configuration of the accounts and configuration being tested.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># Users:
</span>NUSERS=$1
NODENAME=$2
UID_BASE=5000
UID_END=`expr $UID_BASE + $NUSERS - 1`
USER_PREFIX=od_test_
<span class="enscript-comment">#
</span><span class="enscript-comment"># Groups:
</span>GID_ALL_USERS=1211
GID_NO_USERS=1212
GROUP_BASE=od_test_group
<span class="enscript-comment">#
</span><span class="enscript-comment"># getaddrinfo on hosts:
</span>HOST_BASE=sfs0
HOST_RANGE=1-8

<span class="enscript-comment">#
</span><span class="enscript-comment"># Everything below the while loop is input for the while loop if
</span><span class="enscript-comment"># you have any tests which can't run in the while loop, put
</span><span class="enscript-comment"># them above this comment
</span><span class="enscript-comment">#
</span><span class="enscript-keyword">while</span> <span class="enscript-keyword">read</span> A B
<span class="enscript-keyword">do</span>
	<span class="enscript-comment"># $A contains the command, $B contains the arguments
</span>	<span class="enscript-comment"># we echo blank lines and comments
</span>	<span class="enscript-comment"># we skip anything which fails to match *$1* (useful if
</span>	<span class="enscript-comment"># we only want to test one case, but a nasty hack)
</span>
	<span class="enscript-keyword">case</span> $A <span class="enscript-keyword">in</span>
	\<span class="enscript-comment">#*)
</span>		<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$A $B&quot;</span>
		newline=1
		<span class="enscript-keyword">continue</span>
		;;
	
	<span class="enscript-string">&quot;&quot;</span>)
		<span class="enscript-keyword">if</span> [ $newline -eq 1 ]
		<span class="enscript-keyword">then</span>
			newline=0
			<span class="enscript-keyword">echo</span>
			<span class="enscript-keyword">echo</span>
		<span class="enscript-keyword">fi</span>

		<span class="enscript-keyword">continue</span>
		;;

	*$3*)
		;;

	*)
		<span class="enscript-keyword">continue</span>
		;;
	<span class="enscript-keyword">esac</span>

	<span class="enscript-keyword">if</span> [ ! -f $bin_dir/$A ]
	<span class="enscript-keyword">then</span>
		cp bin-*/$A $bin_dir/$A
	<span class="enscript-keyword">fi</span>

	<span class="enscript-keyword">echo</span>

	(<span class="enscript-keyword">cd</span> $TMPROOT &amp;&amp; <span class="enscript-keyword">eval</span> <span class="enscript-string">&quot;bin/$A $B&quot;</span>)

	<span class="enscript-keyword">echo</span>
	<span class="enscript-keyword">echo</span>
<span class="enscript-keyword">done</span> &lt;&lt;.

<span class="enscript-comment"># -P &lt;# procs&gt;
</span><span class="enscript-comment"># -T &lt;# threads&gt; - exclusive!
</span>
<span class="enscript-comment"># mbr_check_service_membership()
</span>mbr_check_service_membership	$OPTS -N <span class="enscript-string">&quot;mbr_check_service_membership&quot;</span> -s libMicro -u ${USER_PREFIX} -r ${NUSERS}
mbr_check_service_membership	$OPTS -N <span class="enscript-string">&quot;mbr_check_service_membership_t2&quot;</span> -T 2 -s libMicro -u ${USER_PREFIX} -r ${NUSERS}
mbr_check_service_membership	$OPTS -N <span class="enscript-string">&quot;mbr_check_service_membership_t4&quot;</span> -T 4 -s libMicro -u ${USER_PREFIX} -r ${NUSERS}
mbr_check_service_membership	$OPTS -N <span class="enscript-string">&quot;mbr_check_service_membership_p2&quot;</span> -P 2 -s libMicro -u ${USER_PREFIX} -r ${NUSERS}
mbr_check_service_membership	$OPTS -N <span class="enscript-string">&quot;mbr_check_service_membership_p4&quot;</span> -P 4 -s libMicro -u ${USER_PREFIX} -r ${NUSERS}

<span class="enscript-comment"># getpwnam()
</span>getpwnam			$OPTS -N <span class="enscript-string">&quot;getpwnam&quot;</span> -l ${L1CACHE} -r ${NUSERS} -u ${USER_PREFIX}
getpwnam			$OPTS -N <span class="enscript-string">&quot;getpwnam_t2&quot;</span> -T 2 -l ${L1CACHE} -r ${NUSERS} -u ${USER_PREFIX}
getpwnam			$OPTS -N <span class="enscript-string">&quot;getpwnam_p2&quot;</span> -P 2 -l ${L1CACHE} -r ${NUSERS} -u ${USER_PREFIX}

<span class="enscript-comment"># mbr_check_membership()
</span>mbr_check_membership		$OPTS -N <span class="enscript-string">&quot;mbr_check_membership&quot;</span> -u ${UID_BASE}-${UID_END} -g ${GID_ALL_USERS}-${GID_NO_USERS}
mbr_check_membership		$OPTS -N <span class="enscript-string">&quot;mbr_check_membership_t2&quot;</span> -u ${UID_BASE}-${UID_END} -g ${GID_ALL_USERS}-${GID_NO_USERS} -T 2
mbr_check_membership		$OPTS -N <span class="enscript-string">&quot;mbr_check_membership_t4&quot;</span> -u ${UID_BASE}-${UID_END} -g ${GID_ALL_USERS}-${GID_NO_USERS} -T 4
mbr_check_membership		$OPTS -N <span class="enscript-string">&quot;mbr_check_membership_p2&quot;</span> -u ${UID_BASE}-${UID_END} -g ${GID_ALL_USERS}-${GID_NO_USERS} -P 2
mbr_check_membership		$OPTS -N <span class="enscript-string">&quot;mbr_check_membership_p4&quot;</span> -u ${UID_BASE}-${UID_END} -g ${GID_ALL_USERS}-${GID_NO_USERS} -P 4

<span class="enscript-comment"># getpwuid()
</span>getpwuid			$OPTS -N <span class="enscript-string">&quot;getpwuid&quot;</span> -l ${L1CACHE} -u ${UID_BASE}-${UID_END}
getpwuid			$OPTS -N <span class="enscript-string">&quot;getpwuid_t2&quot;</span> -l ${L1CACHE} -u ${UID_BASE}-${UID_END} -T 2
getpwuid			$OPTS -N <span class="enscript-string">&quot;getpwuid_t4&quot;</span> -l ${L1CACHE} -u ${UID_BASE}-${UID_END} -T 4
getpwuid			$OPTS -N <span class="enscript-string">&quot;getpwuid_p2&quot;</span> -l ${L1CACHE} -u ${UID_BASE}-${UID_END} -P 2
getpwuid			$OPTS -N <span class="enscript-string">&quot;getpwuid_p4&quot;</span> -l ${L1CACHE} -u ${UID_BASE}-${UID_END} -P 4

<span class="enscript-comment"># getgrgid()
</span>getgrgid			$OPTS -N <span class="enscript-string">&quot;getgrgid&quot;</span> -l ${L1CACHE} -g ${GID_ALL_USERS}-${GID_NO_USERS}
getgrgid			$OPTS -N <span class="enscript-string">&quot;getgrgid_t2&quot;</span> -l ${L1CACHE} -g ${GID_ALL_USERS}-${GID_NO_USERS} -T 2
getgrgid			$OPTS -N <span class="enscript-string">&quot;getgrgid_t4&quot;</span> -l ${L1CACHE} -g ${GID_ALL_USERS}-${GID_NO_USERS} -T 4
getgrgid			$OPTS -N <span class="enscript-string">&quot;getgrgid_p2&quot;</span> -l ${L1CACHE} -g ${GID_ALL_USERS}-${GID_NO_USERS} -P 2
getgrgid			$OPTS -N <span class="enscript-string">&quot;getgrgid_p4&quot;</span> -l ${L1CACHE} -g ${GID_ALL_USERS}-${GID_NO_USERS} -P 4

<span class="enscript-comment"># getpwent()
</span>getpwent			$OPTS -N <span class="enscript-string">&quot;getpwent&quot;</span> -l ${L1CACHE} 
getpwent			$OPTS -N <span class="enscript-string">&quot;getpwent_t2&quot;</span> -l ${L1CACHE} -T 2
getpwent			$OPTS -N <span class="enscript-string">&quot;getpwent_t4&quot;</span> -l ${L1CACHE} -T 4
getpwent			$OPTS -N <span class="enscript-string">&quot;getpwent_p2&quot;</span> -l ${L1CACHE} -P 2
getpwent			$OPTS -N <span class="enscript-string">&quot;getpwent_p4&quot;</span> -l ${L1CACHE} -P 4

<span class="enscript-comment"># getgrent()
</span>getgrent			$OPTS -N <span class="enscript-string">&quot;getgrent&quot;</span> -l ${L1CACHE} 
getgrent			$OPTS -N <span class="enscript-string">&quot;getgrent_t2&quot;</span> -l ${L1CACHE} -T 2
getgrent			$OPTS -N <span class="enscript-string">&quot;getgrent_t4&quot;</span> -l ${L1CACHE} -T 4
getgrent			$OPTS -N <span class="enscript-string">&quot;getgrent_p2&quot;</span> -l ${L1CACHE} -P 2
getgrent			$OPTS -N <span class="enscript-string">&quot;getgrent_p4&quot;</span> -l ${L1CACHE} -P 4

<span class="enscript-comment"># getaddrinfo() host
</span><span class="enscript-comment">#getaddrinfo_host		$OPTS -N &quot;getaddrinfo_host&quot; -r ${HOST_RANGE} -h ${HOST_BASE}%d
</span><span class="enscript-comment">#getaddrinfo_host		$OPTS -N &quot;getaddrinfo_host_t2&quot; -r ${HOST_RANGE} -h ${HOST_BASE}%d -T 2
</span><span class="enscript-comment">#getaddrinfo_host		$OPTS -N &quot;getaddrinfo_host_t4&quot; -r ${HOST_RANGE} -h ${HOST_BASE}%d -T 4
</span><span class="enscript-comment">#getaddrinfo_host		$OPTS -N &quot;getaddrinfo_host_p2&quot; -r ${HOST_RANGE} -h ${HOST_BASE}%d -P 2
</span><span class="enscript-comment">#getaddrinfo_host		$OPTS -N &quot;getaddrinfo_host_p4&quot; -r ${HOST_RANGE} -h ${HOST_BASE}%d -P 4
</span>
<span class="enscript-comment"># getaddrinfo() port
</span>getaddrinfo_port		$OPTS -N <span class="enscript-string">&quot;getaddrinfo_port&quot;</span> -l ${L1CACHE} 
getaddrinfo_port		$OPTS -N <span class="enscript-string">&quot;getaddrinfo_port_t2&quot;</span> -l ${L1CACHE} -T 2
getaddrinfo_port		$OPTS -N <span class="enscript-string">&quot;getaddrinfo_port_t4&quot;</span> -l ${L1CACHE} -T 4
getaddrinfo_port		$OPTS -N <span class="enscript-string">&quot;getaddrinfo_port_p2&quot;</span> -l ${L1CACHE} -P 2
getaddrinfo_port		$OPTS -N <span class="enscript-string">&quot;getaddrinfo_port_p4&quot;</span> -l ${L1CACHE} -P 4

<span class="enscript-comment"># getgrnam()
</span>getgrnam			$OPTS -N <span class="enscript-string">&quot;getgrnam&quot;</span> -l ${L1CACHE} -g ${GROUP_BASE} -r 2
getgrnam			$OPTS -N <span class="enscript-string">&quot;getgrnam_t2&quot;</span> -l ${L1CACHE} -T 2 -g ${GROUP_BASE} -r 2
getgrnam			$OPTS -N <span class="enscript-string">&quot;getgrnam_t4&quot;</span> -l ${L1CACHE} -T 4 -g ${GROUP_BASE} -r 2
getgrnam			$OPTS -N <span class="enscript-string">&quot;getgrnam_p2&quot;</span> -l ${L1CACHE} -P 2 -g ${GROUP_BASE} -r 2
getgrnam			$OPTS -N <span class="enscript-string">&quot;getgrnam_p4&quot;</span> -l ${L1CACHE} -P 4 -g ${GROUP_BASE} -r 2

<span class="enscript-comment"># ODQueryCreateWithNode()
</span>od_query_create_with_node	$OPTS -N <span class="enscript-string">&quot;ODQueryCreateWithNode_cache_${NUSERS}u&quot;</span> -c 50 -r ${NUSERS} -t u -B 50 -n ${NODENAME}
od_query_create_with_node	$OPTS -N <span class="enscript-string">&quot;ODQueryCreateWithNode_cache_${NUSERS}u_t2&quot;</span> -T 2 -c 50 -r ${NUSERS} -t u -B 50 -n ${NODENAME}
od_query_create_with_node	$OPTS -N <span class="enscript-string">&quot;ODQueryCreateWithNode_cache_${NUSERS}u_t4&quot;</span> -T 4 -c 50 -r ${NUSERS} -t u -B 50 -n ${NODENAME}
od_query_create_with_node	$OPTS -N <span class="enscript-string">&quot;ODQueryCreateWithNode_cache_${NUSERS}u_p2&quot;</span> -P 2 -c 50 -r ${NUSERS} -t u -B 50 -n ${NODENAME}
od_query_create_with_node	$OPTS -N <span class="enscript-string">&quot;ODQueryCreateWithNode_cache_${NUSERS}u_p4&quot;</span> -P 4 -c 50 -r ${NUSERS} -t u -B 50 -n ${NODENAME}

.
</pre>
<hr />
</body></html>