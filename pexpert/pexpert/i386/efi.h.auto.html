<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>efi.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">efi.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2005 Apple Computer, Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_PEXPERT_I386_EFI_H</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_PEXPERT_I386_EFI_H</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;stdint.h&gt;</span>

<span class="enscript-type">typedef</span> uint8_t   EFI_UINT8;
<span class="enscript-type">typedef</span> uint16_t  EFI_UINT16;
<span class="enscript-type">typedef</span> uint32_t  EFI_UINT32;
<span class="enscript-type">typedef</span> uint64_t  EFI_UINT64;

<span class="enscript-type">typedef</span> uint32_t  EFI_UINTN; <span class="enscript-comment">/* natural size for firmware, not kernel */</span>

<span class="enscript-type">typedef</span> int8_t    EFI_INT8;
<span class="enscript-type">typedef</span> int16_t   EFI_INT16;
<span class="enscript-type">typedef</span> int32_t   EFI_INT32;
<span class="enscript-type">typedef</span> int64_t   EFI_INT64;

<span class="enscript-type">typedef</span> int8_t    EFI_CHAR8;
<span class="enscript-type">typedef</span> int16_t   EFI_CHAR16;
<span class="enscript-type">typedef</span> int32_t   EFI_CHAR32;
<span class="enscript-type">typedef</span> int64_t   EFI_CHAR64;

<span class="enscript-type">typedef</span> uint32_t  EFI_STATUS;
<span class="enscript-type">typedef</span> uint8_t   EFI_BOOLEAN;
<span class="enscript-type">typedef</span> <span class="enscript-type">void</span>      VOID;

<span class="enscript-type">typedef</span> uint32_t  EFI_PTR32;
<span class="enscript-type">typedef</span> uint32_t  EFI_HANDLE32;

<span class="enscript-type">typedef</span> uint64_t  EFI_PTR64;
<span class="enscript-type">typedef</span> uint64_t  EFI_HANDLE64;
<span class="enscript-comment">/*

Portions Copyright 2004, Intel Corporation
All rights reserved. This program and the accompanying materials
are licensed and made available under the terms and conditions of the BSD License
which accompanies this distribution.  The full text of the license may be found at
    <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a>

THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.

*/</span>


<span class="enscript-comment">//
</span><span class="enscript-comment">// Modifiers for EFI Runtime and Boot Services
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_RUNTIMESERVICE</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFIAPI</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">IN</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">OUT</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">OPTIONAL</span>

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MAX_BIT</span>       0x80000000

<span class="enscript-comment">//
</span><span class="enscript-comment">// Set the upper bit to indicate EFI Error.
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-function-name">EFIERR</span>(a)                 (EFI_MAX_BIT | (a))

#<span class="enscript-reference">define</span> <span class="enscript-function-name">EFIWARN</span>(a)                (a)
#<span class="enscript-reference">define</span> <span class="enscript-function-name">EFI_ERROR</span>(a)              (((INTN) (a)) &lt; 0)

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_SUCCESS</span>               0
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_LOAD_ERROR</span>            EFIERR (1)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_INVALID_PARAMETER</span>     EFIERR (2)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_UNSUPPORTED</span>           EFIERR (3)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_BAD_BUFFER_SIZE</span>       EFIERR (4)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_BUFFER_TOO_SMALL</span>      EFIERR (5)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_NOT_READY</span>             EFIERR (6)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_DEVICE_ERROR</span>          EFIERR (7)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_WRITE_PROTECTED</span>       EFIERR (8)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_OUT_OF_RESOURCES</span>      EFIERR (9)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_VOLUME_CORRUPTED</span>      EFIERR (10)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_VOLUME_FULL</span>           EFIERR (11)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_NO_MEDIA</span>              EFIERR (12)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEDIA_CHANGED</span>         EFIERR (13)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_NOT_FOUND</span>             EFIERR (14)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_ACCESS_DENIED</span>         EFIERR (15)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_NO_RESPONSE</span>           EFIERR (16)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_NO_MAPPING</span>            EFIERR (17)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_TIMEOUT</span>               EFIERR (18)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_NOT_STARTED</span>           EFIERR (19)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_ALREADY_STARTED</span>       EFIERR (20)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_ABORTED</span>               EFIERR (21)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_ICMP_ERROR</span>            EFIERR (22)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_TFTP_ERROR</span>            EFIERR (23)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_PROTOCOL_ERROR</span>        EFIERR (24)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_INCOMPATIBLE_VERSION</span>  EFIERR (25)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_SECURITY_VIOLATION</span>    EFIERR (26)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_CRC_ERROR</span>             EFIERR (27)

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_WARN_UNKNOWN_GLYPH</span>    EFIWARN (1)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_WARN_DELETE_FAILURE</span>   EFIWARN (2)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_WARN_WRITE_FAILURE</span>    EFIWARN (3)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_WARN_BUFFER_TOO_SMALL</span> EFIWARN (4)

<span class="enscript-comment">//
</span><span class="enscript-comment">// EFI Specification Revision information
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_SPECIFICATION_MAJOR_REVISION</span>  1
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_SPECIFICATION_MINOR_REVISION</span>  10

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_UINT32  Data1;
  EFI_UINT16  Data2;
  EFI_UINT16  Data3;
  EFI_UINT8   Data4[8];
} EFI_GUID;

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">APPLE_VENDOR_GUID</span> \
    {0xAC39C713, 0x7E50, 0x423D, {0x88, 0x9D, 0x27,0x8F, 0xCC, 0x34, 0x22, 0xB6} }

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_GLOBAL_VARIABLE_GUID</span> \
    {0x8BE4DF61, 0x93CA, 0x11d2, {0xAA, 0x0D, 0x00, 0xE0, 0x98, 0x03, 0x2B, 0x8C} }

<span class="enscript-type">typedef</span> <span class="enscript-type">union</span> {
  EFI_GUID  Guid;
  EFI_UINT8 Raw[16];
} EFI_GUID_UNION;

<span class="enscript-comment">//
</span><span class="enscript-comment">// EFI Time Abstraction:
</span><span class="enscript-comment">//  Year:       2000 - 20XX
</span><span class="enscript-comment">//  Month:      1 - 12
</span><span class="enscript-comment">//  Day:        1 - 31
</span><span class="enscript-comment">//  Hour:       0 - 23
</span><span class="enscript-comment">//  Minute:     0 - 59
</span><span class="enscript-comment">//  Second:     0 - 59
</span><span class="enscript-comment">//  Nanosecond: 0 - 999,999,999
</span><span class="enscript-comment">//  TimeZone:   -1440 to 1440 or 2047
</span><span class="enscript-comment">//
</span><span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_UINT16  Year;
  EFI_UINT8   Month;
  EFI_UINT8   Day;
  EFI_UINT8   Hour;
  EFI_UINT8   Minute;
  EFI_UINT8   Second;
  EFI_UINT8   Pad1;
  EFI_UINT32  Nanosecond;
  EFI_INT16   TimeZone;
  EFI_UINT8   Daylight;
  EFI_UINT8   Pad2;
} EFI_TIME;

<span class="enscript-comment">//
</span><span class="enscript-comment">// Bit definitions for EFI_TIME.Daylight
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_TIME_ADJUST_DAYLIGHT</span>  0x01
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_TIME_IN_DAYLIGHT</span>      0x02

<span class="enscript-comment">//
</span><span class="enscript-comment">// Value definition for EFI_TIME.TimeZone
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_UNSPECIFIED_TIMEZONE</span>  0x07FF

<span class="enscript-type">typedef</span> <span class="enscript-type">enum</span> {
  EfiReservedMemoryType,
  EfiLoaderCode,
  EfiLoaderData,
  EfiBootServicesCode,
  EfiBootServicesData,
  EfiRuntimeServicesCode,
  EfiRuntimeServicesData,
  EfiConventionalMemory,
  EfiUnusableMemory,
  EfiACPIReclaimMemory,
  EfiACPIMemoryNVS,
  EfiMemoryMappedIO,
  EfiMemoryMappedIOPortSpace,
  EfiPalCode,
  EfiMaxMemoryType
} EFI_MEMORY_TYPE;

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_UINT64  Signature;
  EFI_UINT32  Revision;
  EFI_UINT32  HeaderSize;
  EFI_UINT32  CRC32;
  EFI_UINT32  Reserved;
} __attribute__((aligned(8))) EFI_TABLE_HEADER;

<span class="enscript-comment">//
</span><span class="enscript-comment">// possible caching types for the memory range
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_UC</span>   0x0000000000000001ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_WC</span>   0x0000000000000002ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_WT</span>   0x0000000000000004ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_WB</span>   0x0000000000000008ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_UCE</span>  0x0000000000000010ULL

<span class="enscript-comment">//
</span><span class="enscript-comment">// physical memory protection on range
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_WP</span> 0x0000000000001000ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_RP</span> 0x0000000000002000ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_XP</span> 0x0000000000004000ULL

<span class="enscript-comment">//
</span><span class="enscript-comment">// range requires a runtime mapping
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_RUNTIME</span>  0x8000000000000000ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_KERN_RESERVED</span> (1ULL &lt;&lt; 59)
<span class="enscript-type">typedef</span> EFI_UINT64  EFI_PHYSICAL_ADDRESS;
<span class="enscript-type">typedef</span> EFI_UINT64  EFI_VIRTUAL_ADDRESS;

#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_MEMORY_DESCRIPTOR_VERSION</span> 1
<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_UINT32            Type;
  EFI_UINT32            Pad;
  EFI_PHYSICAL_ADDRESS  PhysicalStart;
  EFI_VIRTUAL_ADDRESS   VirtualStart;
  EFI_UINT64            NumberOfPages;
  EFI_UINT64            Attribute;
} __attribute__((aligned(8))) EFI_MEMORY_DESCRIPTOR;


<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_SET_VIRTUAL_ADDRESS_MAP) (
  IN EFI_UINTN                    MemoryMapSize,
  IN EFI_UINTN                    DescriptorSize,
  IN EFI_UINT32                   DescriptorVersion,
  IN EFI_MEMORY_DESCRIPTOR        * VirtualMap
  );

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_CONVERT_POINTER) (
  IN EFI_UINTN                DebugDisposition,
  IN OUT VOID                 **Address
  );

<span class="enscript-comment">//
</span><span class="enscript-comment">// Variable attributes
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_VARIABLE_NON_VOLATILE</span>       0x00000001
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_VARIABLE_BOOTSERVICE_ACCESS</span> 0x00000002
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_VARIABLE_RUNTIME_ACCESS</span>     0x00000004
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_VARIABLE_READ_ONLY</span>          0x00000008

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_GET_VARIABLE) (
  IN EFI_CHAR16               * VariableName,
  IN EFI_GUID                 * VendorGuid,
  OUT EFI_UINT32              * Attributes OPTIONAL,
  IN OUT EFI_UINTN            * DataSize,
  OUT VOID                    * Data
  );

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_GET_NEXT_VARIABLE_NAME) (
  IN OUT EFI_UINTN            * VariableNameSize,
  IN OUT EFI_CHAR16           * VariableName,
  IN OUT EFI_GUID             * VendorGuid
  );

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_SET_VARIABLE) (
  IN EFI_CHAR16               * VariableName,
  IN EFI_GUID                 * VendorGuid,
  IN EFI_UINT32               Attributes,
  IN EFI_UINTN                DataSize,
  IN VOID                     * Data
  );

<span class="enscript-comment">//
</span><span class="enscript-comment">// EFI Time
</span><span class="enscript-comment">//
</span><span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_UINT32  Resolution;
  EFI_UINT32  Accuracy;
  EFI_BOOLEAN SetsToZero;
} __attribute__((aligned(4))) EFI_TIME_CAPABILITIES;

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_GET_TIME) (
  OUT EFI_TIME                * Time,
  OUT EFI_TIME_CAPABILITIES   * Capabilities OPTIONAL
  );

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_SET_TIME) (
  IN EFI_TIME                 * Time
  );

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_GET_WAKEUP_TIME) (
  OUT EFI_BOOLEAN             * Enabled,
  OUT EFI_BOOLEAN             * Pending,
  OUT EFI_TIME                * Time
  );

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_SET_WAKEUP_TIME) (
  IN EFI_BOOLEAN              Enable,
  IN EFI_TIME                 * Time OPTIONAL
  );

<span class="enscript-type">typedef</span> <span class="enscript-type">enum</span> {
  EfiResetCold,
  EfiResetWarm,
  EfiResetShutdown,

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">TIANO_EXTENSION_FLAG</span>
  EfiResetUpdate
#<span class="enscript-reference">endif</span>

} EFI_RESET_TYPE;

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
VOID
(EFIAPI *EFI_RESET_SYSTEM) (
  IN EFI_RESET_TYPE               ResetType,
  IN EFI_STATUS                   ResetStatus,
  IN EFI_UINTN                    DataSize,
  IN EFI_CHAR16                   * ResetData OPTIONAL
  );

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_GET_NEXT_HIGH_MONO_COUNT) (
  OUT EFI_UINT32                  * HighCount
  );

<span class="enscript-comment">//
</span><span class="enscript-comment">// Definition of Status Code extended data header
</span><span class="enscript-comment">//
</span><span class="enscript-comment">//  HeaderSize    The size of the architecture. This is specified to enable
</span><span class="enscript-comment">//                the future expansion
</span><span class="enscript-comment">//
</span><span class="enscript-comment">//  Size          The size of the data in bytes. This does not include the size
</span><span class="enscript-comment">//                of the header structure.
</span><span class="enscript-comment">//
</span><span class="enscript-comment">//  Type          A GUID defining the type of the data
</span><span class="enscript-comment">//
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">TIANO_EXTENSION_FLAG</span>

<span class="enscript-type">typedef</span>
EFI_RUNTIMESERVICE
EFI_STATUS
(EFIAPI *EFI_REPORT_STATUS_CODE) (
  IN EFI_STATUS_CODE_TYPE       Type,
  IN EFI_STATUS_CODE_VALUE      Value,
  IN EFI_UINT32                 Instance,
  IN EFI_GUID                   * CallerId OPTIONAL,
  IN EFI_STATUS_CODE_DATA       * Data OPTIONAL
  );

#<span class="enscript-reference">endif</span>
<span class="enscript-comment">//
</span><span class="enscript-comment">// EFI Runtime Services Table
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_RUNTIME_SERVICES_SIGNATURE</span>  0x56524553544e5552ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_RUNTIME_SERVICES_REVISION</span>   ((EFI_SPECIFICATION_MAJOR_REVISION &lt;&lt; 16) | (EFI_SPECIFICATION_MINOR_REVISION))

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_TABLE_HEADER              Hdr;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Time services
</span>  <span class="enscript-comment">//
</span>  EFI_PTR32                     GetTime;
  EFI_PTR32                     SetTime;
  EFI_PTR32                     GetWakeupTime;
  EFI_PTR32                     SetWakeupTime;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Virtual memory services
</span>  <span class="enscript-comment">//
</span>  EFI_PTR32                     SetVirtualAddressMap;
  EFI_PTR32                     ConvertPointer;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Variable services
</span>  <span class="enscript-comment">//
</span>  EFI_PTR32                     GetVariable;
  EFI_PTR32                     GetNextVariableName;
  EFI_PTR32                     SetVariable;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Misc
</span>  <span class="enscript-comment">//
</span>  EFI_PTR32                     GetNextHighMonotonicCount;
  EFI_PTR32                     ResetSystem;

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">TIANO_EXTENSION_FLAG</span>
  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// ////////////////////////////////////////////////////
</span>  <span class="enscript-comment">// Extended EFI Services
</span>    <span class="enscript-comment">//////////////////////////////////////////////////////
</span>  <span class="enscript-comment">//
</span>  EFI_PTR32                     ReportStatusCode;
#<span class="enscript-reference">endif</span>

} __attribute__((aligned(8))) EFI_RUNTIME_SERVICES_32;

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_TABLE_HEADER              Hdr;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Time services
</span>  <span class="enscript-comment">//
</span>  EFI_PTR64                     GetTime;
  EFI_PTR64                     SetTime;
  EFI_PTR64                     GetWakeupTime;
  EFI_PTR64                     SetWakeupTime;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Virtual memory services
</span>  <span class="enscript-comment">//
</span>  EFI_PTR64                     SetVirtualAddressMap;
  EFI_PTR64                     ConvertPointer;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Variable services
</span>  <span class="enscript-comment">//
</span>  EFI_PTR64                     GetVariable;
  EFI_PTR64                     GetNextVariableName;
  EFI_PTR64                     SetVariable;

  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// Misc
</span>  <span class="enscript-comment">//
</span>  EFI_PTR64                     GetNextHighMonotonicCount;
  EFI_PTR64                     ResetSystem;

#<span class="enscript-reference">ifdef</span> <span class="enscript-variable-name">TIANO_EXTENSION_FLAG</span>
  <span class="enscript-comment">//
</span>  <span class="enscript-comment">// ////////////////////////////////////////////////////
</span>  <span class="enscript-comment">// Extended EFI Services
</span>    <span class="enscript-comment">//////////////////////////////////////////////////////
</span>  <span class="enscript-comment">//
</span>  EFI_PTR64                     ReportStatusCode;
#<span class="enscript-reference">endif</span>

} __attribute__((aligned(8))) EFI_RUNTIME_SERVICES_64;

<span class="enscript-comment">//
</span><span class="enscript-comment">// EFI Configuration Table
</span><span class="enscript-comment">//
</span><span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_GUID  VendorGuid;
  EFI_PTR32 VendorTable;
} EFI_CONFIGURATION_TABLE_32;

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> {
  EFI_GUID  VendorGuid;
  EFI_PTR64 VendorTable;
} __attribute__((aligned(8))) EFI_CONFIGURATION_TABLE_64;

<span class="enscript-comment">//
</span><span class="enscript-comment">// EFI System Table
</span><span class="enscript-comment">//
</span>#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_SYSTEM_TABLE_SIGNATURE</span>      0x5453595320494249ULL
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_SYSTEM_TABLE_REVISION</span>       ((EFI_SPECIFICATION_MAJOR_REVISION &lt;&lt; 16) | (EFI_SPECIFICATION_MINOR_REVISION))
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_2_00_SYSTEM_TABLE_REVISION</span>  ((2 &lt;&lt; 16) | 00)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_1_02_SYSTEM_TABLE_REVISION</span>  ((1 &lt;&lt; 16) | 02)
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">EFI_1_10_SYSTEM_TABLE_REVISION</span>  ((1 &lt;&lt; 16) | 10)

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> EFI_SYSTEM_TABLE_32 {
  EFI_TABLE_HEADER              Hdr;

  EFI_PTR32                     FirmwareVendor;
  EFI_UINT32                    FirmwareRevision;

  EFI_HANDLE32                  ConsoleInHandle;
  EFI_PTR32                     ConIn;

  EFI_HANDLE32                  ConsoleOutHandle;
  EFI_PTR32                     ConOut;

  EFI_HANDLE32                  StandardErrorHandle;
  EFI_PTR32                     StdErr;

  EFI_PTR32                     RuntimeServices;
  EFI_PTR32                     BootServices;

  EFI_UINT32                    NumberOfTableEntries;
  EFI_PTR32                     ConfigurationTable;

} __attribute__((aligned(8))) EFI_SYSTEM_TABLE_32;

<span class="enscript-type">typedef</span> <span class="enscript-type">struct</span> EFI_SYSTEM_TABLE_64 {
  EFI_TABLE_HEADER              Hdr;

  EFI_PTR64                     FirmwareVendor;
  EFI_UINT32                    FirmwareRevision;

  EFI_UINT32                    __pad;

  EFI_HANDLE64                  ConsoleInHandle;
  EFI_PTR64                     ConIn;

  EFI_HANDLE64                  ConsoleOutHandle;
  EFI_PTR64                     ConOut;

  EFI_HANDLE64                  StandardErrorHandle;
  EFI_PTR64                     StdErr;

  EFI_PTR64                     RuntimeServices;
  EFI_PTR64                     BootServices;

  EFI_UINT64                    NumberOfTableEntries;
  EFI_PTR64                     ConfigurationTable;

} __attribute__((aligned(8))) EFI_SYSTEM_TABLE_64;

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* _PEXPERT_I386_EFI_H */</span>
</pre>
<hr />
</body></html>