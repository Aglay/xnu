<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>OSOrderedSet.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">OSOrderedSet.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (c) 2000 Apple Computer, Inc. All rights reserved.
 *
 * @APPLE_OSREFERENCE_LICENSE_HEADER_START@
 * 
 * This file contains Original Code and/or Modifications of Original Code
 * as defined in and that are subject to the Apple Public Source License
 * Version 2.0 (the 'License'). You may not use this file except in
 * compliance with the License. The rights granted to you under the License
 * may not be used to create, or enable the creation or redistribution of,
 * unlawful or unlicensed copies of an Apple operating system, or to
 * circumvent, violate, or enable the circumvention or violation of, any
 * terms of an Apple operating system software license agreement.
 * 
 * Please obtain a copy of the License at
 * <a href="http://www.opensource.apple.com/apsl/">http://www.opensource.apple.com/apsl/</a> and read it before using this file.
 * 
 * The Original Code and all software distributed under the License are
 * distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
 * EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
 * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
 * Please see the License for the specific language governing rights and
 * limitations under the License.
 * 
 * @APPLE_OSREFERENCE_LICENSE_HEADER_END@
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">_OS_OSORDEREDSET_H</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">_OS_OSORDEREDSET_H</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;libkern/c++/OSCollection.h&gt;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;libkern/OSTypes.h&gt;</span>

class OSOffset;

<span class="enscript-comment">/*!
 * @header
 *
 * @abstract
 * This header declares the OSOrderedSet collection class.
 */</span>
 
 
<span class="enscript-comment">/*!
 * @class OSOrderedSet
 *
 * @abstract
 * OSOrderedSet provides an ordered set store of objects.
 *
 * @discussion
 * OSOrderedSet is a container for Libkern C++ objects
 * (those derived from
 * @link //apple_ref/doc/class/OSMetaClassBase OSMetaClassBase@/link,
 * in particular @link //apple_ref/doc/class/OSObject OSObject@/link).
 * Storage and access follow ordered set logic.
 * A given object is stored in the set only once, but you can:
 * &lt;ul&gt;
 * &lt;li&gt;Define a sorting function for automated ordering
 *     (upon addition only)&lt;/li&gt;
 * &lt;li&gt;Manually insert new objects in the set (overriding sorting)&lt;/li&gt;
 * &lt;li&gt;Add and remove objects in the set&lt;/li&gt;
 * &lt;li&gt;Test whether the set contains a particular object&lt;/li&gt;
 * &lt;li&gt;Get the object stored at a particular index.&lt;/li&gt;
 * &lt;/ol&gt;
 *
 * Note that automated ordering is performed only upon addition of objects
 * and depends on the existing objects being properly sorted.
 * There is no function to re-sort the contents of an OSOrderedSet
 * or to change the ordering function.
 * In general, you should either use the one ordered-insertion function,
 * or the indexed-insertion functions, and not mix the two.
 *
 * As with all Libkern collection classes,
 * OSOrderedSet retains objects added to it,
 * and releases objects removed from it.
 * An OSOrderedSet also grows as necessary to accommodate new objects,
 * &lt;i&gt;unlike&lt;/i&gt; Core Foundation collections (it does not, however, shrink).
 *
 * &lt;b&gt;Use Restrictions&lt;/b&gt;
 *
 * With very few exceptions in the I/O Kit, all Libkern-based C++
 * classes, functions, and macros are &lt;b&gt;unsafe&lt;/b&gt;
 * to use in a primary interrupt context.
 * Consult the I/O Kit documentation related to primary interrupts 
 * for more information.
 *
 * OSOrderedSet provides no concurrency protection;
 * it's up to the usage context to provide any protection necessary.
 * Some portions of the I/O Kit, such as
 * @link //apple_ref/doc/class/IORegistryEntry IORegistryEntry@/link,
 * handle synchronization via defined member functions for setting
 * properties.
 */</span>
class OSOrderedSet : public OSCollection
{
    OSDeclareDefaultStructors(OSOrderedSet)

<span class="enscript-reference">public</span>:
   <span class="enscript-comment">/*!
    * @typedef OSOrderFunction
    *
    * @abstract
    * The sorting function used by an OSOrderedSet to order objects.
    *
    * @param obj1     An object from the ordered set. May be &lt;code&gt;NULL&lt;/code&gt;.
    * @param obj2     The object being ordered within the ordered set.
    *                 May be &lt;code&gt;NULL&lt;/code&gt;.
    * @param context  A pointer to a user-provided context. May be &lt;code&gt;NULL&lt;/code&gt;.
    *
    * @result
    * A comparison result of the object:
    * &lt;ul&gt;
    *   &lt;li&gt;a negative value if obj2 should precede obj1,&lt;/li&gt;
    *   &lt;li&gt;a positive value if obj1 should precede obj2,&lt;/li&gt;
    *   &lt;li&gt;and 0 if obj1 and obj2 have an equivalent ordering.&lt;/li&gt;
    * &lt;/ul&gt;
    */</span>
    <span class="enscript-type">typedef</span> SInt32 (*OSOrderFunction)(<span class="enscript-type">const</span> OSMetaClassBase * obj1,
                                      <span class="enscript-type">const</span> OSMetaClassBase * obj2,
                                      <span class="enscript-type">void</span> * context);

<span class="enscript-reference">protected</span>:
    <span class="enscript-type">struct</span> _Element * array;
    OSOrderFunction   ordering;
    <span class="enscript-type">void</span>            * orderingRef;
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>      count;
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>      capacity;
    <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>      capacityIncrement;

    <span class="enscript-type">struct</span> ExpansionData { };
    
   <span class="enscript-comment">/* Reserved for future use.  (Internal use only)  */</span>
    ExpansionData *reserved;

<span class="enscript-reference">protected</span>:
   <span class="enscript-comment">/* OSCollectionIterator interfaces. */</span>
    virtual <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> iteratorSize() <span class="enscript-type">const</span> APPLE_KEXT_OVERRIDE;
    virtual bool initIterator(<span class="enscript-type">void</span> *iterator) <span class="enscript-type">const</span> APPLE_KEXT_OVERRIDE;
    virtual bool getNextObjectForIterator(<span class="enscript-type">void</span> *iterator, OSObject **ret) <span class="enscript-type">const</span> APPLE_KEXT_OVERRIDE;

<span class="enscript-reference">public</span>:

   <span class="enscript-comment">/*!
    * @function withCapacity
    *
    * @abstract
    * Creates and initializes an empty OSOrderedSet.
    * 
    * @param capacity         The initial storage capacity
    *                         of the new ordered set object.
    * @param orderFunc        A C function that implements the sorting algorithm
    *                         for the set.
    * @param orderingContext  An ordering context,
    *                         which is passed to &lt;code&gt;orderFunc&lt;/code&gt;.
    * @result
    * An empty instance of OSOrderedSet
    * with a retain count of 1;
    * &lt;code&gt;NULL&lt;/code&gt; on failure.
    *
    * @discussion
    * &lt;code&gt;capacity&lt;/code&gt; must be nonzero.
    * The new OSOrderedSet will grow as needed
    * to accommodate more key/object pairs
    * (&lt;i&gt;unlike&lt;/i&gt; Core Foundation collections,
    * for which the initial capacity is a hard limit).
    *
    * If &lt;code&gt;orderFunc&lt;/code&gt; is provided, it is used by
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/setObject/virtualbool/(constOSMetaClassBase*)
    * setObject(const OSMetaClassBase *)@/link&lt;/code&gt;
    * to determine where to insert a new object.
    * Other object-setting functions ignore ordering.
    *
    * &lt;code&gt;orderingContext&lt;/code&gt; is not retained or otherwise memory-managed
    * by the ordered set.
    * If it needs to be deallocated,
    * you must track references to it and the ordered set
    * in order to deallocate it appropriately.
    * See
    * &lt;code&gt;@link getOrderingRef getOrderingRef@/link&lt;/code&gt;.
    */</span>
    <span class="enscript-type">static</span> OSOrderedSet * withCapacity(
        <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>      capacity,
        OSOrderFunction   orderFunc = 0,
        <span class="enscript-type">void</span>            * orderingContext = 0);


   <span class="enscript-comment">/*!
    * @function initWithCapacity
    *
    * @abstract
    * Initializes a new instance of OSOrderedSet.
    *
    * @param capacity         The initial storage capacity
    *                         of the new ordered set object.
    * @param orderFunc        A C function that implements the sorting algorithm
    *                         for the set.
    * @param orderingContext  An ordering context,
    *                         which is passed to &lt;code&gt;orderFunc&lt;/code&gt;.
    *
    * @result
    * &lt;code&gt;true&lt;/code&gt; on success, &lt;code&gt;false&lt;/code&gt; on failure.
    *
    * @discussion
    * Not for general use. Use the static instance creation method
    * &lt;code&gt;@link
    * //apple_ref/cpp/clm/OSOrderedSet/withCapacity/staticOSOrderedSet*\/(unsignedint,OSOrderFunction,void*)
    * withCapacity@/link&lt;/code&gt;
    * instead.
    *
    * &lt;code&gt;capacity&lt;/code&gt; must be nonzero.
    * The new set will grow as needed to accommodate more key/object pairs
    * (&lt;i&gt;unlike&lt;/i&gt; Core Foundation collections,
    * for which the initial capacity is a hard limit).
    *
    * If &lt;code&gt;orderFunc&lt;/code&gt; is provided, it is used by
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/setObject/virtualbool/(constOSMetaClassBase*)
    * setObject(const OSMetaClassBase *)@/link&lt;/code&gt;
    * to determine where to insert a new object.
    * Other object-setting functions ignore ordering.
    *
    * &lt;code&gt;orderingContext&lt;/code&gt; is not retained or otherwise memory-managed
    * by the ordered set.
    * If it needs to be deallocated,
    * you must track references to it and the ordered set
    * in order to deallocate it appropriately.
    * See
    * &lt;code&gt;@link getOrderingRef getOrderingRef@/link&lt;/code&gt;.
    */</span>
    virtual bool initWithCapacity(
        <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>      capacity,
        OSOrderFunction   orderFunc = 0,
        <span class="enscript-type">void</span>            * orderingContext = 0);


   <span class="enscript-comment">/*!
    * @function free
    *
    * @abstract
    * Deallocatesand releases any resources
    * used by the OSOrderedSet instance.
    *
    * @discussion
    * This function should not be called directly;
    * use
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSObject/release/virtualvoid/()
    * release@/link&lt;/code&gt;
    * instead.
    */</span>
    virtual <span class="enscript-type">void</span> free() APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function getCount
    *
    * @abstract
    * Returns the current number of objects within the ordered set.
    *
    * @result
    * The current number of objects within the ordered set.
    */</span>
    virtual <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> getCount() <span class="enscript-type">const</span> APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function getCapacity
    *
    * @abstract
    * Returns the number of objects the ordered set
    * can store without reallocating.
    *
    * @result
    * The number objects the ordered set
    * can store without reallocating.
    *
    * @discussion
    * OSOrderedSet objects grow when full to accommodate additional objects.
    * See
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/getCapacityIncrement/virtualunsignedint/()
    * getCapacityIncrement@/link&lt;/code&gt;
    * and
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/ensureCapacity/virtualunsignedint/(unsignedint)
    * ensureCapacity@/link&lt;/code&gt;.
    */</span>
    virtual <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> getCapacity() <span class="enscript-type">const</span> APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function getCapacityIncrement
    *
    * @abstract
    * Returns the storage increment of the ordered set.
    *
    * @result
    * The storage increment of the ordered set.
    *
    * @discussion
    * An OSOrderedSet allocates storage for objects in multiples
    * of the capacity increment.
    */</span>
    virtual <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> getCapacityIncrement() <span class="enscript-type">const</span> APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function setCapacityIncrement
    *
    * @abstract
    * Sets the storage increment of the ordered set.
    *
    * @result
    * The new storage increment of the ordered set,
    * which may be different from the number requested.
    *
    * @discussion
    * An OSOrderedSet allocates storage for objects in multiples
    * of the capacity increment.
    * Calling this function does not immediately reallocate storage.
    */</span>
    virtual <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> setCapacityIncrement(<span class="enscript-type">unsigned</span> increment) APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function ensureCapacity
    *
    * @abstract
    * Ensures the set has enough space
    * to store the requested number of distinct objects.
    *
    * @param newCapacity  The total number of distinct objects the ordered set
    *                     should be able to store.
    *
    * @result
    * The new capacity of the ordered set,
    * which may be different from the number requested
    * (if smaller, reallocation of storage failed).
    *
    * @discussion
    * This function immediately resizes the ordered set, if necessary,
    * to accommodate at least &lt;code&gt;newCapacity&lt;/code&gt; distinct objects.
    * If &lt;code&gt;newCapacity&lt;/code&gt; is not greater than the current capacity,
    * or if an allocation error occurs, the original capacity is returned.
    *
    * There is no way to reduce the capacity of an OSOrderedSet.
    */</span>
    virtual <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> ensureCapacity(<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> newCapacity) APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function flushCollection
    *
    * @abstract
    * Removes and releases all objects within the ordered set.
    *
    * @discussion
    * The ordered set's capacity (and therefore direct memory consumption)
    * is not reduced by this function.
    */</span>
    virtual <span class="enscript-type">void</span> flushCollection() APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function setObject
    *
    * @abstract
    * Adds an object to the OSOrderedSet if it is not already present,
    * storing it in sorted order if there is an order function.
    *
    * @param anObject  The OSMetaClassBase-derived object to be added
    *                  to the ordered set.
    * @result
    * &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;anObject&lt;/code&gt; was successfully
    * added to the ordered set, &lt;code&gt;false&lt;/code&gt; otherwise
    * (including if it was already in the ordered set).
    *
    * @discussion
    * The set adds storage to accomodate the new object, if necessary.
    * If successfully added, the object is retained.
    *
    * If &lt;code&gt;anObject&lt;/code&gt; is not already in the ordered set
    * and there is an order function,
    * this function loops through the existing objects,
    * calling the @link OSOrderFunction order function@/link
    * with arguments each existingObject, &lt;code&gt;anObject&lt;/code&gt;,
    * and the ordering context
    * (or &lt;code&gt;NULL&lt;/code&gt; if none was set),
    * until the order function returns
    * a value &lt;i&gt;greater than&lt;/i&gt; or equal to 0.
    * It then inserts &lt;code&gt;anObject&lt;/code&gt; at the index of the existing object.
    *
    * If there is no order function, the object is inserted at index 0.
    *
    * A &lt;code&gt;false&lt;/code&gt; return value can mean either
    * that &lt;code&gt;anObject&lt;/code&gt; is already present in the set,
    * or that a memory allocation failure occurred.
    * If you need to know whether the object
    * is already present, use
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/containsObject/virtualbool/(constOSMetaClassBase*)
    * containsObject(const OSMetaClassBase *)@/link&lt;/code&gt;.
    */</span>
    virtual bool setObject(<span class="enscript-type">const</span> OSMetaClassBase * anObject);


   <span class="enscript-comment">/*!
    * @function setFirstObject
    *
    * @abstract
    * Adds an object to the OSOrderedSet at index 0
    * if it is not already present.
    *
    * @param anObject  The OSMetaClassBase-derived object
    *                  to be added to the ordered set.
    * @result
    * &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;anObject&lt;/code&gt; was successfully added
    * to the ordered set, &lt;code&gt;false&lt;/code&gt; otherwise
    * (including if it was already in the ordered set at any index).
    *
    * @discussion
    * The set adds storage to accomodate the new object, if necessary.
    * If successfully added, the object is retained.
    *
    * This function ignores any ordering function of the ordered set,
    * and can disrupt the automatic sorting mechanism.
    * Only call this function if you are managing the ordered set directly.
    *
    * A &lt;code&gt;false&lt;/code&gt; return value can mean either that &lt;code&gt;anObject&lt;/code&gt;
    * is already present in the set,
    * or that a memory allocation failure occurred.
    * If you need to know whether the object
    * is already present, use
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/containsObject/virtualbool/(constOSMetaClassBase*)
    * containsObject(const OSMetaClassBase *)@/link&lt;/code&gt;.
    */</span>
    virtual bool setFirstObject(<span class="enscript-type">const</span> OSMetaClassBase * anObject);
    
    
   <span class="enscript-comment">/*!
    * @function setLastObject
    *
    * @abstract
    * Adds an object at the end of the OSOrderedSet
    * if it is not already present.
    *
    * @param anObject  The OSMetaClassBase-derived object to be added
    *                  to the ordered set.
    * @result
    * &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;anObject&lt;/code&gt; was successfully added
    * to the ordered set, &lt;code&gt;false&lt;/code&gt; otherwise
    * (including if it was already in the ordered set at any index).
    *
    * @discussion
    * The set adds storage to accomodate the new object, if necessary.
    * If successfully added, the object is retained.
    *
    * This function ignores any ordering function of the ordered set,
    * and can disrupt the automatic sorting mechanism.
    * Only call this function if you are managing the ordered set directly.
    *
    * A &lt;code&gt;false&lt;/code&gt; return value can mean either that &lt;code&gt;anObject&lt;/code&gt;
    * is already present in the set,
    * or that a memory allocation failure occurred.
    * If you need to know whether the object
    * is already present, use
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/containsObject/virtualbool/(constOSMetaClassBase*)
    * containsObject(const OSMetaClassBase *)@/link&lt;/code&gt;.
    */</span>
    virtual bool setLastObject(<span class="enscript-type">const</span> OSMetaClassBase * anObject);


   <span class="enscript-comment">/*!
    * @function removeObject
    *
    * @abstract
    * Removes an object from the ordered set.
    *
    * @param anObject  The OSMetaClassBase-derived object
    *                  to be removed from the ordered set.
    *
    * @discussion
    * The object removed from the ordered set is released.
    */</span>
    virtual <span class="enscript-type">void</span> removeObject(<span class="enscript-type">const</span> OSMetaClassBase * anObject);


   <span class="enscript-comment">/*!
    * @function containsObject
    *
    * @abstract
    * Checks the ordered set for the presence of an object.
    *
    * @param anObject  The OSMetaClassBase-derived object to check for
    *                  in the ordered set.
    *
    * @result
    * &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;anObject&lt;/code&gt; is present
    * within the ordered set, &lt;code&gt;false&lt;/code&gt; otherwise.
    *
    * @discussion
    * Pointer equality is used.
    * This function returns &lt;code&gt;false&lt;/code&gt; if passed &lt;code&gt;NULL&lt;/code&gt;.
    */</span>
    virtual bool containsObject(<span class="enscript-type">const</span> OSMetaClassBase * anObject) <span class="enscript-type">const</span>;


   <span class="enscript-comment">/*!
    * @function member
    *
    * @abstract
    * Checks the ordered set for the presence of an object.
    *
    * @param anObject  The OSMetaClassBase-derived object to check for
    *                  in the ordered set.
    *
    * @result
    * &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;anObject&lt;/code&gt; is present
    *                 within the ordered set, &lt;code&gt;false&lt;/code&gt; otherwise.
    *
    * @discussion
    * Pointer equality is used.
    * Returns &lt;code&gt;false&lt;/code&gt; if passed &lt;code&gt;NULL&lt;/code&gt;.
    *
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSOrderedSet/containsObject/virtualbool/(constOSMetaClassBase*)
    * containsObject(const OSMetaClassBase *)@/link&lt;/code&gt;
    * checks for &lt;code&gt;NULL&lt;/code&gt; before scanning the contents,
    * and is therefore more efficient than this function.
    */</span>
    virtual bool member(<span class="enscript-type">const</span> OSMetaClassBase * anObject) <span class="enscript-type">const</span>;


   <span class="enscript-comment">/*!
    * @function getFirstObject
    *
    * @abstract
    * Returns the object at index 0 in the ordered set if there is one.
    *
    * @abstract
    * The object at index 0 in the ordered set if there is one,
    * otherwise &lt;code&gt;NULL&lt;/code&gt;.
    *
    * @discussion
    * The returned object will be released if removed from the ordered set;
    * if you plan to store the reference, you should call
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSObject/retain/virtualvoid/()
    * retain@/link&lt;/code&gt;
    * on that object.
    */</span>
    virtual OSObject * getFirstObject() <span class="enscript-type">const</span>;


   <span class="enscript-comment">/*!
    * @function getLastObject
    *
    * @abstract
    * Returns the last object in the ordered set if there is one.
    *
    * @abstract
    * The last object in the ordered set if there is one,
    * otherwise &lt;code&gt;NULL&lt;/code&gt;.
    *
    * @discussion
    * The returned object will be released if removed from the ordered set;
    * if you plan to store the reference, you should call
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSObject/retain/virtualvoid/()
    * retain@/link&lt;/code&gt;
    * on that object.
    */</span>
    virtual OSObject * getLastObject() <span class="enscript-type">const</span>;


   <span class="enscript-comment">/*!
    * @function orderObject
    *
    * @abstract
    * Calls the ordered set's order function against a &lt;code&gt;NULL&lt;/code&gt; object.
    *
    * @param anObject  The object to be ordered.
    *
    * @result
    * The ordering value for the object.
    *
    * @discussion
    * This function calls the ordered set's
    * @link OSOrderFunction order function@/link
    * with &lt;code&gt;anObject&lt;/code&gt;, &lt;code&gt;NULL&lt;/code&gt;, and the ordering context
    * (or &lt;code&gt;NULL&lt;/code&gt; if none was set),
    * and returns the result of that function.
    */</span>
    virtual SInt32 orderObject(<span class="enscript-type">const</span> OSMetaClassBase * anObject);


   <span class="enscript-comment">/*!
    * @function setObject
    *
    * @abstract
    * Adds an object to an OSOrderedSet at a specified index
    * if it is not already present.
    *
    * @param index     The index at which to insert the new object.
    * @param anObject  The OSMetaClassBase-derived object to be added
    *                  to the ordered set.
    *
    * @result
    * &lt;code&gt;true&lt;/code&gt; if the object was successfully added
    * to the ordered set, &lt;code&gt;false&lt;/code&gt; otherwise
    * (including if it was already in the set).
    *
    * @discussion
    * The set adds storage to accomodate the new object, if necessary.
    * If successfully added, the object is retained.
    *
    * This function ignores any ordering function of the ordered set,
    * and can disrupt the automatic sorting mechanism.
    * Only call this function if you are managing the ordered set directly.
    *
    * A &lt;code&gt;false&lt;/code&gt; return value can mean either that the object
    * is already present in the set,
    * or that a memory allocation failure occurred.
    * If you need to know whether the object
    * is already present, use
    * &lt;code&gt;@link //apple_ref/cpp/instm/OSOrderedSet/containsObject/virtualbool/(constOSMetaClassBase*)
    * containsObject containsObject@/link&lt;/code&gt;.
    */</span>
    virtual bool setObject(
        <span class="enscript-type">unsigned</span> <span class="enscript-type">int</span>            index,
        <span class="enscript-type">const</span> OSMetaClassBase * anObject);


   <span class="enscript-comment">/*!
    * @function getObject
    *
    * @abstract
    * Gets the object at a particular index.
    *
    * @param index  The index into the set.
    * @result
    * The object at the given index,
    * or &lt;code&gt;NULL&lt;/code&gt; if none exists at that location.
    *
    * @discussion
    * The returned object will be released if removed from the set;
    * if you plan to store the reference, you should call
    * &lt;code&gt;@link
    * //apple_ref/cpp/instm/OSObject/retain/virtualvoid/()
    * retain@/link&lt;/code&gt;
    * on that object.
    */</span>
    virtual OSObject * getObject(<span class="enscript-type">unsigned</span> <span class="enscript-type">int</span> index) <span class="enscript-type">const</span>;


   <span class="enscript-comment">/*!
    * @function getOrderingRef
    *
    * @abstract
    * Returns the ordering context the ordered set was created with.
    *
    * @result
    * The ordered set's ordering context,
    * or &lt;code&gt;NULL&lt;/code&gt; if it doesn't have one.
    */</span>
    virtual <span class="enscript-type">void</span> * getOrderingRef();


   <span class="enscript-comment">/*!
    * @function isEqualTo
    *
    * @abstract
    * Tests the equality of two OSOrderedSet objects.
    *
    * @param anOrderedSet  The ordered set object being compared
    *                      against the receiver.
    * @result
    * &lt;code&gt;true&lt;/code&gt; if the two sets are equivalent,
    * &lt;code&gt;false&lt;/code&gt; otherwise.
    *
    * @discussion
    * Two OSOrderedSet objects are considered equal if they have same count
    * and the same object pointer values in the same order.
    */</span>
    virtual bool isEqualTo(<span class="enscript-type">const</span> OSOrderedSet * anOrderedSet) <span class="enscript-type">const</span>;


   <span class="enscript-comment">/*!
    * @function isEqualTo
    *
    * @abstract
    * Tests the equality of an OSOrderedSet
    * against an arbitrary object.
    *
    * @param anObject  The object being compared against the receiver.
    * @result
    * &lt;code&gt;true&lt;/code&gt; if the two objects are equivalent,
    * &lt;code&gt;false&lt;/code&gt; otherwise.
    *
    * @discussion
    * An OSOrderedSet object is considered equal to another object
    * if the other object is derived from OSOrderedSet
    * and compares equal as an OSOrderedSet.
    */</span>
    virtual bool isEqualTo(<span class="enscript-type">const</span> OSMetaClassBase * anObject) <span class="enscript-type">const</span> APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function setOptions
    *
    * Recursively sets option bits in the ordered set
    * and all child collections.
    *
    * @param options  A bitfield whose values turn the options on (1) or off (0).
    * @param mask     A mask indicating which bits
    *                 in &lt;code&gt;options&lt;/code&gt; to change.
    *                 Pass 0 to get the whole current options bitfield
    *                 without changing any settings.
    * @param context  Unused.
    *
    * @result
    * The options bitfield as it was before the set operation.
    *
    * @discussion
    * Kernel extensions should not call this function.
    *
    * Child collections' options are changed only if the receiving ordered set's
    * options actually change.
    */</span>
    virtual <span class="enscript-type">unsigned</span> setOptions(
        <span class="enscript-type">unsigned</span>   options,
        <span class="enscript-type">unsigned</span>   mask,
        <span class="enscript-type">void</span>     * context = 0) APPLE_KEXT_OVERRIDE;


   <span class="enscript-comment">/*!
    * @function copyCollection
    *
    * @abstract
    * Creates a deep copy of this ordered set and its child collections.
    *
    * @param cycleDict  A dictionary of all of the collections
    *                   that have been copied so far,
    *                   which is used to track circular references.
    *                   To start the copy at the top level,
    *                   pass &lt;code&gt;NULL&lt;/code&gt;.
    *
    * @result
    * The newly copied ordered set, with a retain count of 1,
    * or &lt;code&gt;NULL&lt;/code&gt; if there is insufficient memory to do the copy.
    *
    * @discussion
    * The receiving ordered set, and any collections it contains,
    * recursively, are copied.
    * Objects that are not derived from OSCollection are retained
    * rather than copied.
    */</span>
    OSCollection *copyCollection(OSDictionary * cycleDict = 0) APPLE_KEXT_OVERRIDE;

    OSMetaClassDeclareReservedUnused(OSOrderedSet, 0);
    OSMetaClassDeclareReservedUnused(OSOrderedSet, 1);
    OSMetaClassDeclareReservedUnused(OSOrderedSet, 2);
    OSMetaClassDeclareReservedUnused(OSOrderedSet, 3);
    OSMetaClassDeclareReservedUnused(OSOrderedSet, 4);
    OSMetaClassDeclareReservedUnused(OSOrderedSet, 5);
    OSMetaClassDeclareReservedUnused(OSOrderedSet, 6);
    OSMetaClassDeclareReservedUnused(OSOrderedSet, 7);
};

#<span class="enscript-reference">endif</span> <span class="enscript-comment">/* ! _OS_OSORDEREDSET_H */</span>
</pre>
<hr />
</body></html>